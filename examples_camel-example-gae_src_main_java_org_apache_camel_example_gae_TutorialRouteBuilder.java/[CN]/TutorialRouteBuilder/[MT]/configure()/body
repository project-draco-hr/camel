{
  from("ghttp:///weather").process(new RequestProcessor()).marshal().serialization().to("gtask://default").unmarshal().serialization().process(new ResponseProcessor());
  from("gtask://default").unmarshal().serialization().setHeader(Exchange.HTTP_QUERY,constant("weather=").append(ReportData.city())).enrich("ghttp://www.google.com/ig/api",reportDataAggregator()).setHeader(GMailBinding.GMAIL_SUBJECT,constant("Weather report")).setHeader(GMailBinding.GMAIL_SENDER,ReportData.requestor()).setHeader(GMailBinding.GMAIL_TO,ReportData.recipient()).process(new ReportGenerator()).to("gmail://default");
}
