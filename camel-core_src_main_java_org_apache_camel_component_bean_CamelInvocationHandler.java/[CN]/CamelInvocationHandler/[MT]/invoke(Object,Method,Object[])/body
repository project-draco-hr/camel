{
  BeanInvocation invocation=new BeanInvocation(method,args);
  ExchangePattern pattern=ExchangePattern.InOut;
  MethodInfo methodInfo=methodInfoCache.getMethodInfo(method);
  if (methodInfo != null) {
    pattern=methodInfo.getPattern();
  }
  Exchange exchange=new DefaultExchange(endpoint,pattern);
  exchange.getIn().setBody(invocation);
  if (LOG.isTraceEnabled()) {
    LOG.trace("Proxied method call " + method.getName() + " invoking producer: "+ producer);
  }
  producer.process(exchange);
  Throwable cause=exchange.getException();
  if (cause != null) {
    Throwable found=findSuitableException(cause,method);
    if (found != null) {
      throw found;
    }
    if (cause instanceof RuntimeCamelException) {
      if (cause.getCause() instanceof RuntimeException) {
        throw (RuntimeException)((RuntimeCamelException)cause).getCause();
      }
      throw (RuntimeCamelException)cause;
    }
    throw cause;
  }
  Class<?> to=method.getReturnType();
  if (to == Void.TYPE || !pattern.isOutCapable()) {
    return null;
  }
  if (!exchange.hasOut() || exchange.getOut().getBody() == null) {
    return null;
  }
  Object answer=exchange.getOut().getMandatoryBody(to);
  if (LOG.isTraceEnabled()) {
    LOG.trace("Proxied method call " + method.getName() + " returning: "+ answer);
  }
  return answer;
}
