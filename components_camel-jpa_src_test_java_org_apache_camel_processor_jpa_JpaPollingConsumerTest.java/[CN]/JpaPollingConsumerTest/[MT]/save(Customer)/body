{
  transactionTemplate.execute(new TransactionCallback<Object>(){
    public Object doInTransaction(    TransactionStatus status){
      entityManager.joinTransaction();
      entityManager.persist(customer);
      entityManager.flush();
      return null;
    }
  }
);
}
