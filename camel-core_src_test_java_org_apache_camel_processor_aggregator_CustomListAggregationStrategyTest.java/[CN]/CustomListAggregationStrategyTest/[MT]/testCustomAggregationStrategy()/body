{
  MockEndpoint result=getMockEndpoint("mock:result");
  result.expectedMessageCount(1);
  template.sendBodyAndHeader("direct:start","100","id","1");
  template.sendBodyAndHeader("direct:start","150","id","1");
  template.sendBodyAndHeader("direct:start","130","id","1");
  assertMockEndpointsSatisfied();
  List<Integer> numbers=result.getExchanges().get(0).getIn().getBody(List.class);
  assertNotNull(numbers);
  assertEquals(Integer.valueOf("100"),numbers.get(0));
  assertEquals(Integer.valueOf("150"),numbers.get(1));
  assertEquals(Integer.valueOf("130"),numbers.get(2));
}
