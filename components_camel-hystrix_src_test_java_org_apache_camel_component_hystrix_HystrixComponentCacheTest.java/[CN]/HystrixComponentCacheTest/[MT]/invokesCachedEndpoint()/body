{
  resultEndpoint.expectedMessageCount(1);
  errorEndpoint.expectedMessageCount(0);
  template.sendBodyAndHeader("body","key","cachedKey");
  template.sendBodyAndHeader("body","key","cachedKey");
  assertMockEndpointsSatisfied();
  resultEndpoint.expectedMessageCount(2);
  template.sendBodyAndHeader("body","key","cachedKey");
  template.sendBodyAndHeader("body","key","differentCachedKey");
  assertMockEndpointsSatisfied();
}
