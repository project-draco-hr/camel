{
  Span span=null;
  ZipkinState state=event.getExchange().getProperty(ZipkinState.KEY,ZipkinState.class);
  if (state != null) {
    span=state.popClientSpan();
  }
  if (span != null) {
    ClientSpanThreadBinder clientBinder=brave.clientSpanThreadBinder();
    clientBinder.setCurrentSpan(span);
    brave.clientResponseInterceptor().handle(new ZipkinClientResponseAdaptor(this,event.getExchange(),event.getEndpoint()));
    clientBinder.setCurrentSpan(null);
    if (log.isDebugEnabled()) {
      String traceId="" + span.getTrace_id();
      String spanId="" + span.getId();
      String parentId="" + span.getParent_id();
      log.debug("clientResponse[service={}, traceId={}, spanId={}, parentId={}]",serviceName,traceId,spanId,parentId);
    }
  }
}
