{
  OutputStream outputStream=outputStream(fileName);
  try {
    XmlConverter converter=converter();
    Document doc=converter.createDocument();
    Element root=doc.createElement(rootElementName());
    root.setAttribute("xmlns",Namespaces.DEFAULT_NAMESPACE);
    doc.appendChild(root);
    for (    RouteDefinition routeType : routeTypes) {
      addJaxbElementToNode(root,routeType);
    }
    Result result=new StreamResult(new OutputStreamWriter(outputStream,XmlConverter.defaultCharset));
    copyToResult(converter,doc,result);
  }
 catch (  ParserConfigurationException e) {
    throw new RuntimeTransformException(e);
  }
catch (  TransformerException e) {
    throw new RuntimeTransformException(e);
  }
 finally {
    outputStream.close();
  }
}
