{
  try {
    HttpExchange exchange=endpoint.createExchange();
    HttpMethod method=createMethod();
    int responseCode=httpClient.executeMethod(method);
    byte[] responseBody=method.getResponseBody();
    Message message=exchange.getIn();
    message.setBody(responseBody);
    Header[] headers=method.getResponseHeaders();
    for (    Header header : headers) {
      String name=header.getName();
      String value=header.getValue();
      message.setHeader(name,value);
    }
    message.setHeader("http.responseCode",responseCode);
    return exchange;
  }
 catch (  IOException e) {
    throw new RuntimeCamelException(e);
  }
}
