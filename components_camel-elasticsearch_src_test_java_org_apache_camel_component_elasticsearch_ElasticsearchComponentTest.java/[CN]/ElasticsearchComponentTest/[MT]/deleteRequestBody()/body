{
  DeleteRequest request=new DeleteRequest("foo").type("bar");
  String documentId=template.requestBody("direct:index",new IndexRequest("foo","bar","testId").source("{\"content\": \"hello\"}"),String.class);
  DeleteResponse response=template.requestBody("direct:delete",request.id(documentId),DeleteResponse.class);
  assertThat(response,notNullValue());
  assertThat(documentId,equalTo(response.getId()));
}
