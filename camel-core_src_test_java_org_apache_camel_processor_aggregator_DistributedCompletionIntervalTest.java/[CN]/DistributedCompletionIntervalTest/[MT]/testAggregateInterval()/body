{
  MockEndpoint mock=getMockEndpoint("mock:result");
  MockEndpoint mock2=getMockEndpoint2("mock:result");
  mock.expectedBodiesReceived("Message 18");
  mock2.expectedBodiesReceived("Message 19");
  Thread.sleep(2000);
  for (int i=0; i < 20; i++) {
    int choice=i % 2;
    if (choice == 0) {
      template.sendBodyAndHeader("direct:start","Message " + i,"id","1");
    }
 else {
      template2.sendBodyAndHeader("direct:start","Message " + i,"id","1");
    }
  }
  mock.assertIsSatisfied();
  mock2.assertIsSatisfied();
}
