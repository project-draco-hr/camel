{
  DBObject answer=null;
  try {
    byte[] input=IOConverter.toBytes(is);
    if (isBson(input)) {
      BSONCallback callback=new JSONCallback();
      new BasicBSONDecoder().decode(input,callback);
      answer=(DBObject)callback.get();
    }
 else {
      answer=(DBObject)JSON.parse(IOConverter.toString(input,exchange));
    }
  }
 catch (  Exception e) {
    LOG.warn("String -> DBObject conversion selected, but the following exception occurred. Returning null.",e);
  }
  return answer;
}
