{
  boolean noop=false;
  if (loggedIn) {
    try {
      noop=getOperations().sendNoop();
    }
 catch (    Exception e) {
      noop=false;
    }
  }
  if (log.isTraceEnabled()) {
    log.trace("preWriteCheck send noop success: " + noop);
  }
  if (!noop) {
    try {
      if (getEndpoint().getMaximumReconnectAttempts() > 0) {
        recoverableConnectIfNecessary();
      }
 else {
        connectIfNecessary();
      }
    }
 catch (    Exception e) {
      loggedIn=false;
      throw e;
    }
  }
}
