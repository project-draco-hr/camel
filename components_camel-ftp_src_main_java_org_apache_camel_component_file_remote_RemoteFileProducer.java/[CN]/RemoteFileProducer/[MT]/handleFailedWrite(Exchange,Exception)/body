{
  loggedIn=false;
  if (isStopping() || isStopped()) {
    log.debug("Exception occurred during stopping: " + exception.getMessage());
  }
 else {
    log.debug("Exception occurred during processing. ",exception);
    try {
      disconnect();
    }
 catch (    Exception e) {
      log.debug("Ignored exception during disconnect",e);
    }
    throw exception;
  }
}
