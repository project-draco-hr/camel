{
  CamelContext camelContext=exchange.getContext();
  RestApiResponseAdapterFactory factory=null;
  if (componentName != null) {
    Object comp=camelContext.getRegistry().lookupByName(componentName);
    if (comp != null && comp instanceof RestApiResponseAdapterFactory) {
      factory=(RestApiResponseAdapterFactory)comp;
    }
 else {
      comp=camelContext.getComponent(componentName);
      if (comp != null && comp instanceof RestApiResponseAdapterFactory) {
        factory=(RestApiResponseAdapterFactory)comp;
      }
    }
    if (factory == null) {
      if (comp != null) {
        throw new IllegalArgumentException("Component " + componentName + " is not a RestApiResponseAdapterFactory");
      }
 else {
        throw new NoSuchBeanException(componentName,RestApiResponseAdapterFactory.class.getName());
      }
    }
  }
  if (factory == null) {
    for (    String name : camelContext.getComponentNames()) {
      Component comp=camelContext.getComponent(name);
      if (comp != null && comp instanceof RestApiResponseAdapterFactory) {
        factory=(RestApiResponseAdapterFactory)comp;
        break;
      }
    }
  }
  if (factory == null) {
    Set<RestApiResponseAdapterFactory> factories=camelContext.getRegistry().findByType(RestApiResponseAdapterFactory.class);
    if (factories != null && factories.size() == 1) {
      factory=factories.iterator().next();
    }
  }
  if (factory != null) {
    return factory.newAdapter(exchange);
  }
 else {
    throw new IllegalStateException("Cannot find RestApiResponseAdapterFactory in Registry or as a Component to use");
  }
}
