{
  String contextId;
  String route=exchange.getIn().getHeader(Exchange.HTTP_PATH,String.class);
  RestApiResponseAdapter adapter=new ExchangeRestApiResponseAdapter(exchange);
  try {
    if (route == null || route.equals("") || route.equals("/")) {
      support.renderCamelContexts(adapter,contextIdPattern);
    }
 else {
      if (route.startsWith("/")) {
        route=route.substring(1);
      }
      contextId=route.split("/")[0];
      if (route.startsWith(contextId)) {
        route=route.substring(contextId.length());
      }
      boolean match=true;
      if (contextIdPattern != null) {
        match=EndpointHelper.matchPattern(contextId,contextIdPattern);
        if (LOG.isDebugEnabled()) {
          LOG.debug("Match contextId: {} with pattern: {} -> {}",new Object[]{contextId,contextIdPattern,match});
        }
      }
      if (!match) {
        adapter.noContent();
      }
 else {
        support.renderResourceListing(adapter,swaggerConfig,contextId,route);
      }
    }
  }
 catch (  Exception e) {
    LOG.warn("Error rendering Swagger API due " + e.getMessage(),e);
  }
}
