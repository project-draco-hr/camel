{
  super.doStart();
  transactionTemplate.execute(new TransactionCallback<Boolean>(){
    public Boolean doInTransaction(    TransactionStatus status){
      try {
        jdbcTemplate.execute(tableExistsString);
        log.debug("Expected table for JdbcMessageIdRepository exist");
      }
 catch (      DataAccessException e) {
        if (createTableIfNotExists) {
          try {
            log.debug("creating table for JdbcMessageIdRepository because it doesn't exist...");
            jdbcTemplate.execute(createString);
            log.info("table created with query '{}'",createString);
          }
 catch (          DataAccessException dae) {
            log.error("Can't create table for JdbcMessageIdRepository with query '{}' because of: {}. This may be a permissions problem. Please create this table and try again.",createString,e.getMessage());
            throw dae;
          }
        }
 else {
          throw e;
        }
      }
      return Boolean.TRUE;
    }
  }
);
}
