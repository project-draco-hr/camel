{
  Exchange request=template.request("direct:start",new Processor(){
    @Override public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(OPERATION,QUERY);
      exchange.getIn().setHeader(QUERY_BUILDER,new InfinispanQueryBuilder(){
        public Query build(        QueryFactory<Query> queryFactory){
          return queryFactory.from(User.class).having("name").like("%abc%").toBuilder().build();
        }
      }
);
    }
  }
);
  assertNull(request.getException());
  @SuppressWarnings("unchecked") List<User> queryResult=(List<User>)request.getIn().getHeader(RESULT);
  assertNotNull(queryResult);
  assertEquals(0,queryResult.size());
}
