{
  if (engine.size() >= capacity) {
    Thread.sleep(getTimeout());
  }
 else {
    Exchange exchange=consumer.receive(getTimeout());
    if (exchange != null) {
      engine.insert(exchange);
    }
  }
  engine.deliver();
}
