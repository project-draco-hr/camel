{
  super.initPropertyPlaceholder();
  if (isUseBlueprintPropertyResolver()) {
    PropertiesComponent pc=getContext().getComponent("properties",PropertiesComponent.class);
    BlueprintPropertiesParser parser=new BlueprintPropertiesParser(blueprintContainer,pc.getPropertiesParser());
    BlueprintPropertiesResolver resolver=new BlueprintPropertiesResolver(pc.getPropertiesResolver(),parser);
    if (pc.getLocations() == null) {
      StringBuilder sb=new StringBuilder();
      String[] ids=parser.lookupPropertyPlaceholderIds();
      for (      String id : ids) {
        sb.append("blueprint:").append(id).append(",");
      }
      if (sb.length() > 0) {
        pc.setLocation(sb.toString());
      }
    }
    if (pc.getLocations() != null) {
      pc.setPropertiesParser(parser);
      pc.setPropertiesResolver(resolver);
    }
  }
}
