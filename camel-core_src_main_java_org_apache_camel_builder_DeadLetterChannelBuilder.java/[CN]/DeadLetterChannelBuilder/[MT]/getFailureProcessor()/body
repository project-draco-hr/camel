{
  if (failureProcessor == null) {
    if (deadLetter != null) {
      failureProcessor=new SendProcessor(deadLetter);
    }
 else {
      failureProcessor=new RecipientList(new Expression(){
        public Object evaluate(        Exchange exchange){
          return deadLetterUri;
        }
        public <T>T evaluate(        Exchange exchange,        Class<T> type){
          return exchange.getContext().getTypeConverter().convertTo(type,deadLetterUri);
        }
      }
);
    }
  }
  return failureProcessor;
}
