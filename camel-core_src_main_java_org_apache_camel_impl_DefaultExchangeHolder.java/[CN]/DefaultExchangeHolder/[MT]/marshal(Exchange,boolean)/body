{
  DefaultExchangeHolder payload=new DefaultExchangeHolder();
  payload.exchangeId=exchange.getExchangeId();
  payload.inBody=checkSerializableBody("in body",exchange,exchange.getIn().getBody());
  payload.safeSetInHeaders(exchange);
  if (exchange.hasOut()) {
    payload.outBody=checkSerializableBody("out body",exchange,exchange.getOut().getBody());
    payload.outFaultFlag=exchange.getOut().isFault();
    payload.safeSetOutHeaders(exchange);
  }
  if (includeProperties) {
    payload.safeSetProperties(exchange);
  }
  payload.exception=exchange.getException();
  return payload;
}
