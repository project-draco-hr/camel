{
  DefaultExchangeHolder payload=new DefaultExchangeHolder();
  payload.inBody=checkSerializableObject("in body",exchange.getIn().getBody());
  payload.inHeaders.putAll(checkMapSerializableObjects("in headers",exchange.getIn().getHeaders()));
  if (exchange.getOut(false) != null) {
    payload.outBody=checkSerializableObject("out body",exchange.getOut().getBody());
    payload.outHeaders.putAll(checkMapSerializableObjects("out headers",exchange.getOut().getHeaders()));
  }
  if (exchange.getFault(false) != null) {
    payload.faultBody=checkSerializableObject("fault body",exchange.getFault().getBody());
    payload.faultHeaders.putAll(checkMapSerializableObjects("fault headers",exchange.getFault().getHeaders()));
  }
  payload.properties.putAll(checkMapSerializableObjects("exchange properties",exchange.getProperties()));
  payload.exception=exchange.getException();
  return payload;
}
