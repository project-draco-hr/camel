{
  StringBuilder sb=new StringBuilder();
  for (  Reasontext text : fault.getReason().getText()) {
    sb.append(text);
  }
  String message=sb.toString();
  Detail faultDetail=fault.getDetail();
  if (faultDetail == null || faultDetail.getAny().size() == 0) {
    try {
      return new SOAPFaultException(SOAPFactory.newInstance().createFault(message,fault.getCode().getValue()));
    }
 catch (    SOAPException e) {
      throw new RuntimeCamelException(e);
    }
  }
  JAXBElement<?> detailEl=(JAXBElement<?>)faultDetail.getAny().get(0);
  Class<? extends Exception> exceptionClass=getDataFormat().getElementNameStrategy().findExceptionForFaultName(detailEl.getName());
  Constructor<? extends Exception> messageConstructor;
  Constructor<? extends Exception> constructor;
  try {
    messageConstructor=exceptionClass.getConstructor(String.class);
    Object detail=JAXBIntrospector.getValue(detailEl);
    try {
      constructor=exceptionClass.getConstructor(String.class,detail.getClass());
      return constructor.newInstance(message,detail);
    }
 catch (    NoSuchMethodException e) {
      return messageConstructor.newInstance(message);
    }
  }
 catch (  Exception e) {
    throw new RuntimeCamelException(e);
  }
}
