{
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedBodiesReceivedInAnyOrder("a","b","a2","c","b2");
  template.sendBodyAndHeader("file:target/noop","a",Exchange.FILE_NAME,"a.txt");
  template.sendBodyAndHeader("file:target/noop","b",Exchange.FILE_NAME,"b.txt");
  template.sendBodyAndHeader("file:target/noop/foo","a2",Exchange.FILE_NAME,"a.txt");
  template.sendBodyAndHeader("file:target/noop/bar","c",Exchange.FILE_NAME,"c.txt");
  template.sendBodyAndHeader("file:target/noop/bar","b2",Exchange.FILE_NAME,"b.txt");
  assertMockEndpointsSatisfied();
  mock.reset();
  mock.expectedBodiesReceived("c2");
  template.sendBodyAndHeader("file:target/noop","c2",Exchange.FILE_NAME,"c.txt");
  assertMockEndpointsSatisfied();
}
