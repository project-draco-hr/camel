{
  log.trace("changeCurrentDirectory({})",path);
  if (ObjectHelper.isEmpty(path)) {
    return;
  }
  path=FileUtil.compactPath(path);
  if (!endpoint.getConfiguration().isStepwise()) {
    doChangeDirectory(path);
    return;
  }
  if (FileUtil.hasLeadingSeparator(path)) {
    doChangeDirectory(path.substring(0,1));
    path=path.substring(1);
  }
  final String[] dirs=path.split("/|\\\\");
  if (dirs == null || dirs.length == 0) {
    doChangeDirectory(path);
    return;
  }
  for (  String dir : dirs) {
    doChangeDirectory(dir);
  }
}
