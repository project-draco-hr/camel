{
  if (log.isTraceEnabled()) {
    log.trace("existsFile(" + name + ")");
  }
  String directory=FileUtil.onlyPath(name);
  String onlyName=FileUtil.stripPath(name);
  try {
    String[] names;
    if (directory != null) {
      names=client.listNames(directory);
    }
 else {
      names=client.listNames();
    }
    if (names == null) {
      return false;
    }
    for (    String existing : names) {
      if (log.isTraceEnabled()) {
        log.trace("Existing file: " + existing + ", target file: "+ name);
      }
      existing=FileUtil.stripPath(existing);
      if (existing != null && existing.equals(onlyName)) {
        return true;
      }
    }
    return false;
  }
 catch (  IOException e) {
    throw new GenericFileOperationFailedException(client.getReplyCode(),client.getReplyString(),e.getMessage(),e);
  }
}
