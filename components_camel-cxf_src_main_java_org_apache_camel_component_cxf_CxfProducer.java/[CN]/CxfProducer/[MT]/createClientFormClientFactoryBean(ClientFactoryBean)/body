{
  Bus bus=BusFactory.getDefaultBus();
  if (null != endpoint.getServiceClass()) {
    try {
      Class serviceClass=ClassLoaderUtils.loadClass(endpoint.getServiceClass(),this.getClass());
      if (cfb == null) {
        cfb=CxfEndpointUtils.getClientFactoryBean(serviceClass);
      }
      cfb.setAddress(endpoint.getAddress());
      if (null != endpoint.getServiceClass()) {
        cfb.setServiceClass(ObjectHelper.loadClass(endpoint.getServiceClass()));
      }
      if (null != endpoint.getWsdlURL()) {
        cfb.setWsdlURL(endpoint.getWsdlURL());
      }
    }
 catch (    Exception ex) {
    }
  }
 else {
    if (cfb == null) {
      cfb=new ClientFactoryBean();
    }
    if (null != endpoint.getWsdlURL()) {
      cfb.setWsdlURL(endpoint.getWsdlURL());
    }
 else {
    }
  }
  cfb.setBus(bus);
  return cfb.create();
}
