{
  Object[] params=null;
  if (endpoint.getDataFormat() == DataFormat.POJO) {
    List<?> list=exchange.getIn().getBody(List.class);
    if (list != null) {
      params=list.toArray();
    }
 else {
      params=new Object[0];
    }
  }
 else   if (endpoint.getDataFormat() == DataFormat.PAYLOAD) {
    params=new Object[1];
    params[0]=exchange.getIn().getBody(CxfPayload.class);
  }
 else   if (endpoint.getDataFormat() == DataFormat.MESSAGE) {
    params=new Object[1];
    params[0]=exchange.getIn().getBody(InputStream.class);
  }
  if (LOG.isTraceEnabled()) {
    if (params instanceof Object[]) {
      for (int i=0; i < params.length; i++) {
        LOG.trace("params[" + i + "] = "+ params[i]);
      }
    }
 else {
      LOG.trace("params = " + params);
    }
  }
  return params;
}
