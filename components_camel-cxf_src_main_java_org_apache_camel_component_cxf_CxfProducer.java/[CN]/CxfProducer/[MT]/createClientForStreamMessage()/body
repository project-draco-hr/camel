{
  CxfClientFactoryBean cfb=new CxfClientFactoryBean();
  Class serviceClass=null;
  try {
    serviceClass=CxfEndpointUtils.getServiceClass(endpoint);
  }
 catch (  ClassNotFoundException e) {
    throw new CamelException(e);
  }
  boolean jsr181Enabled=CxfEndpointUtils.hasWebServiceAnnotation(serviceClass);
  cfb.setJSR181Enabled(jsr181Enabled);
  return createClientFromClientFactoryBean(jsr181Enabled ? new JaxWsProxyFactoryBean(cfb) : new ClientProxyFactoryBean(cfb));
}
