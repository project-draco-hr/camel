{
  assertFalse(context.isSuspended());
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedBodiesReceived("A");
  template.sendBody("seda:foo","A");
  assertMockEndpointsSatisfied();
  log.info("Suspending");
  resetMocks();
  mock.expectedMessageCount(0);
  context.suspend();
  template.sendBody("seda:foo","B");
  mock.assertIsSatisfied(1000);
  assertTrue(context.isSuspended());
  assertFalse(context.getStatus().isStarted());
  assertTrue(context.getStatus().isSuspended());
  assertFalse(context.getStatus().isStopped());
  log.info("Resuming");
  resetMocks();
  mock.expectedBodiesReceived("B");
  context.resume();
  assertMockEndpointsSatisfied();
  assertFalse(context.isSuspended());
  assertTrue(context.getStatus().isStarted());
  assertFalse(context.getStatus().isSuspended());
  assertFalse(context.getStatus().isStopped());
  context.stop();
}
