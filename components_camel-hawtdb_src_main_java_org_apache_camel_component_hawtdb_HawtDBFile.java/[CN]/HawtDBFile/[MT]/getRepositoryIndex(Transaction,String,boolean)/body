{
  Index<Buffer,Buffer> answer=null;
  Index<String,Integer> indexes=ROOT_INDEXES_FACTORY.open(tx,0);
  Integer location=indexes.get(name);
  if (create && location == null) {
    int page=tx.allocator().alloc(1);
    Index<Buffer,Buffer> created=INDEX_FACTORY.create(tx,page);
    indexes.put(name,page);
    if (LOG.isDebugEnabled()) {
      LOG.debug("Created new repository index with name " + name + " at location "+ page);
    }
    answer=created;
  }
 else   if (location != null) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Repository index with name " + name + " at location "+ location);
    }
    answer=INDEX_FACTORY.open(tx,location);
  }
  if (LOG.isTraceEnabled()) {
    LOG.trace("Repository index with name " + name + " -> "+ answer);
  }
  return answer;
}
