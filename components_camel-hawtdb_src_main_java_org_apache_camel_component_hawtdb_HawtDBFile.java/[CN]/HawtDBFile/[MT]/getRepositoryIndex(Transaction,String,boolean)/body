{
  SortedIndex<Buffer,Buffer> answer=null;
  SortedIndex<String,Integer> indexes=ROOT_INDEXES_FACTORY.open(tx);
  Integer location=indexes.get(name);
  if (create && location == null) {
    SortedIndex<Buffer,Buffer> created=INDEX_FACTORY.create(tx);
    int page=created.getIndexLocation();
    indexes.put(name,page);
    if (LOG.isDebugEnabled()) {
      LOG.debug("Created new repository index with name " + name + " at location "+ page);
    }
    answer=created;
  }
 else   if (location != null) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Repository index with name " + name + " at location "+ location);
    }
    answer=INDEX_FACTORY.open(tx,location);
  }
  if (LOG.isTraceEnabled()) {
    LOG.trace("Repository index with name " + name + " -> "+ answer);
  }
  return answer;
}
