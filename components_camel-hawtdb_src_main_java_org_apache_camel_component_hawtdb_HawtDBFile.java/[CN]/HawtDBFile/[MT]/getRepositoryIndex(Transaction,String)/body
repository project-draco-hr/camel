{
  Index<String,Integer> indexes=rootIndexesFactory.open(tx,0);
  Integer location=indexes.get(name);
  if (location == null) {
    int page=tx.allocator().alloc(1);
    Index<Buffer,Buffer> created=indexFactory.create(tx,page);
    indexes.put(name,page);
    if (LOG.isDebugEnabled()) {
      LOG.debug("Created new repository index with name " + name + " at location "+ page);
    }
    return created;
  }
 else {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Repository index with name " + name + " at location "+ location);
    }
    return indexFactory.open(tx,location);
  }
}
