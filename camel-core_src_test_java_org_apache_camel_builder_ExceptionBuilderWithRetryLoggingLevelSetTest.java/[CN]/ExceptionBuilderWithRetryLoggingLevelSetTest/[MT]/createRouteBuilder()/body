{
  return new RouteBuilder(){
    public void configure() throws Exception {
      errorHandler(deadLetterChannel().log(getCustomLog()));
      onException(NullPointerException.class).maximumRedeliveries(0).setHeader(MESSAGE_INFO,constant("Damm a NPE")).to(ERROR_QUEUE);
      onException(IOException.class).setDelay(1000L).maximumRedeliveries(3).maximumRedeliveryDelay(10000L).backOffMultiplier(1.0).useExponentialBackOff().retryAttemptedLogLevel(LoggingLevel.TRACE).retriesExhaustedLogLevel(LoggingLevel.FATAL).setHeader(MESSAGE_INFO,constant("Damm somekind of IO exception")).to(ERROR_QUEUE);
      from("direct:a").processRef("myExceptionThrowingProcessor").to("mock:result");
    }
  }
;
}
