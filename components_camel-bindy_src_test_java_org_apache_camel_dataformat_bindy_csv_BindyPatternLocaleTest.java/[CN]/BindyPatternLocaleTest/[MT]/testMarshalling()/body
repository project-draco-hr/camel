{
  context.getRouteDefinitions().get(0).adviceWith(context,new AdviceWithRouteBuilder(){
    @Override public void configure() throws Exception {
      BindyCsvDataFormat bindy=new BindyCsvDataFormat(Unity.class);
      bindy.setLocale(locale);
      weaveById("marshaller").replace().marshal(bindy);
    }
  }
);
  MockEndpoint mock=getMockEndpoint("mock:marshal");
  mock.expectedMessageCount(1);
  mock.expectedBodiesReceived("050,010\r\n");
  Unity unity=new Unity();
  unity.setMandant(50f);
  unity.setReceiver(10f);
  template.sendBody("direct:marshal",unity);
  assertMockEndpointsSatisfied();
}
