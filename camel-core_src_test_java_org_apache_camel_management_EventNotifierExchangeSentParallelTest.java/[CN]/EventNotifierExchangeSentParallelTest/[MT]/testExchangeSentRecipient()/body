{
  getMockEndpoint("mock:result").expectedMessageCount(1);
  template.sendBodyAndHeader("direct:foo","Hello World","foo","direct:cool,direct:start");
  assertMockEndpointsSatisfied();
  assertTrue(oneExchangeDone.matchesMockWaitTime());
  assertEquals(12,events.size());
  int sent=0;
  int sending=0;
  for (  EventObject event : events) {
    if (event instanceof ExchangeSendingEvent) {
      sending++;
    }
 else {
      sent++;
    }
  }
  assertEquals(6,sending);
  assertEquals(6,sent);
}
