{
  Endpoint endpoint=context.getEndpoint("mock:foo");
  List<Producer> producers=new ArrayList<Producer>();
  for (int i=0; i < 5; i++) {
    Producer producer=pool.acquire(endpoint);
    if (producer == null) {
      producer=pool.addAndAcquire(endpoint,new MyProducer(endpoint));
    }
    assertNotNull(producer);
    producers.add(producer);
  }
  for (  Producer producer : producers) {
    pool.release(endpoint,producer);
  }
}
