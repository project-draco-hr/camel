{
  if (connection != null) {
    for (    String channel : endpoint.getConfiguration().getChannels()) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Parting: " + channel);
      }
      connection.doPart(channel);
    }
    connection.removeIRCEventListener(ircErrorLogger);
  }
  super.doStop();
}
