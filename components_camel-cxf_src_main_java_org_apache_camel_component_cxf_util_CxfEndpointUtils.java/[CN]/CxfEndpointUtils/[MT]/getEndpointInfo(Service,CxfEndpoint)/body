{
  EndpointInfo endpointInfo=null;
  final java.util.Collection<EndpointInfo> endpoints=service.getServiceInfos().get(0).getEndpoints();
  if (endpoints.size() == 1) {
    endpointInfo=endpoints.iterator().next();
  }
 else {
    final String port=endpoint.getPortName();
    if (port != null) {
      final QName endpointName=QName.valueOf(port);
      endpointInfo=service.getServiceInfos().get(0).getEndpoint(endpointName);
    }
  }
  return endpointInfo;
}
