{
  if (endpoint.getServiceName() != null) {
    return getQName(endpoint.getServiceName());
  }
 else {
    String serviceLocalName=getCxfEndpointPropertyValue(endpoint,CxfConstants.SERVICE_LOCALNAME);
    String serviceNamespace=getCxfEndpointPropertyValue(endpoint,CxfConstants.SERVICE_NAMESPACE);
    if (serviceLocalName != null) {
      return new QName(serviceNamespace,serviceLocalName);
    }
 else {
      return null;
    }
  }
}
