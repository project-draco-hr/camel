{
  long now=currentTime();
synchronized (map) {
    for (Iterator<TimeoutMapEntry> iter=index.iterator(); iter.hasNext(); ) {
      TimeoutMapEntry entry=(TimeoutMapEntry)iter.next();
      if (entry == null) {
        break;
      }
      if (entry.getExpireTime() < now) {
        if (isValidForEviction(entry)) {
          if (LOG.isDebugEnabled()) {
            LOG.debug("Evicting inactive request for correlationID: " + entry);
          }
          map.remove(entry.getKey());
          iter.remove();
        }
      }
 else {
        break;
      }
    }
  }
}
