{
  NotifierBuilder notifier=new NotifierBuilder(context).whenDone(5).or().whenFailed(1).create();
  assertEquals("whenDone(5).or().whenFailed(1)",notifier.toString());
  assertEquals(false,notifier.matches());
  template.sendBody("direct:foo","A");
  template.sendBody("direct:foo","B");
  template.sendBody("direct:foo","D");
  assertEquals(false,notifier.matches());
  try {
    template.sendBody("direct:fail","E");
  }
 catch (  Exception e) {
  }
  assertEquals(true,notifier.matches());
}
