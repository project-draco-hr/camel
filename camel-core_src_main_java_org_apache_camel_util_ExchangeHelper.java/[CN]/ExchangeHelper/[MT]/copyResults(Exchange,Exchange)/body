{
  if (result != source) {
    result.setException(source.getException());
    Message fault=source.getFault(false);
    if (fault != null) {
      result.getFault(true).copyFrom(fault);
    }
    Message out=source.getOut(false);
    if (out != null) {
      result.getOut(true).copyFrom(out);
    }
 else {
      result.getOut(true).copyFrom(source.getIn());
    }
    Map<String,Object> propertiesToCopy=new HashMap<String,Object>(source.getProperties());
    propertiesToCopy.entrySet().removeAll(result.getProperties().entrySet());
    result.getProperties().putAll(propertiesToCopy);
  }
}
