{
  byte[] initialArray=new byte[]{0,1};
  ByteArrayOutputStream compressed=new ByteArrayOutputStream();
  GZIPOutputStream gzout=new GZIPOutputStream(compressed);
  gzout.write(initialArray);
  gzout.close();
  byte[] expectedArray=compressed.toByteArray();
  assertNotNull("Returned expectedArray is null",expectedArray);
  byte[] retArray=GZIPHelper.compressArrayIfGZIPRequested(GZIPHelper.GZIP,initialArray);
  assertNotNull("Returned array is null",retArray);
  assertTrue("Length of returned array is different than expected array.",expectedArray.length == retArray.length);
  for (int i=0; i < retArray.length; i++) {
    assertEquals("Contents of returned array is different thatn expected array",expectedArray[i],retArray[i]);
  }
}
