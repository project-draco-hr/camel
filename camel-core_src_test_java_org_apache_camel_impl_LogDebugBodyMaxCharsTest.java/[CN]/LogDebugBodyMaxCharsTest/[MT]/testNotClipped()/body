{
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(1);
  template.sendBody("direct:start","1234567890");
  assertMockEndpointsSatisfied();
  TraceExchangeFormatter myFormatter=context.getRegistry().lookupByNameAndType("logFormatter",TraceExchangeFormatter.class);
  String msg=myFormatter.getMessage();
  assertTrue(msg.endsWith("Body: 1234567890]"));
  assertNotSame("clipped log and real body should not be the same",msg,mock.getReceivedExchanges().get(0).getIn().getBody(String.class));
}
