{
  MockEndpoint mock=getMandatoryEndpoint("mock:bar",MockEndpoint.class);
  assertNotNull("The mock endpoint should not be null",mock);
  PersonType expected=new PersonType();
  expected.setFirstName("FOO");
  expected.setLastName("BAR");
  mock.expectedBodiesReceived(expected);
  mock.expectedHeaderReceived("foo","bar");
  template.sendBodyAndHeader("direct:start","<Person><firstName>FOO</firstName><lastName>BAR</lastName></Person>","foo","bar");
  assertMockEndpointsSatisfied();
}
