{
  ObjectHelper.notNull(configuration,"setNettyServerBootstrapConfiguration() must be called with a NettyServerBootstrapConfiguration instance",this);
  if (configuration.getPort() <= 0) {
    throw new IllegalArgumentException("Port must be configured on NettySharedHttpServerBootstrapConfiguration " + configuration);
  }
  LOG.info("Starting NettySharedHttpServer using configuration: {} on port: {}",configuration,configuration.getPort());
  configuration.setProtocol("tcp");
  channelFactory=new HttpServerMultiplexChannelHandler();
  channelFactory.init(configuration.getPort());
  ChannelPipelineFactory pipelineFactory=new HttpServerSharedPipelineFactory(configuration,channelFactory,classResolver);
  bootstrapFactory=new HttpServerBootstrapFactory(channelFactory,false);
  bootstrapFactory.init(null,configuration,pipelineFactory);
}
