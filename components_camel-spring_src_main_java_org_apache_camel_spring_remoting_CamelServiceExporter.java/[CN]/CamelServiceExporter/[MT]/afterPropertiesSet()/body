{
  notNull(uri,"uri");
  if (camelContext == null && camelContextId != null) {
    camelContext=CamelContextResolverHelper.getCamelContextWithId(applicationContext,camelContextId);
  }
  notNull(camelContext,"camelContext");
  if (serviceRef != null && getService() == null && applicationContext != null) {
    setService(applicationContext.getBean(serviceRef));
  }
  Endpoint endpoint=CamelContextHelper.getMandatoryEndpoint(camelContext,uri);
  notNull(getService(),"service");
  Object proxy=getProxyForService();
  consumer=endpoint.createConsumer(new BeanProcessor(proxy,camelContext));
  consumer.start();
}
