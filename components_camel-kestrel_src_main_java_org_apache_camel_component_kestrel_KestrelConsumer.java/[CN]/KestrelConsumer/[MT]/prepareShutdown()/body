{
  shutdownPending=true;
  if (log.isDebugEnabled()) {
    log.debug("Preparing to shutdown, waiting for " + shutdownLatch.getCount() + " threads to complete.");
  }
  try {
    shutdownLatch.await();
  }
 catch (  InterruptedException e) {
  }
}
