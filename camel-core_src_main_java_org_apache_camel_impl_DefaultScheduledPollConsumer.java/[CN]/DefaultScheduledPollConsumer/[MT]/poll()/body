{
  while (true) {
    E exchange=(E)pollingConsumer.receiveNoWait();
    if (exchange == null) {
      break;
    }
    Message out=exchange.getOut(false);
    if (out != null) {
      E newExchange=(E)getEndpoint().createExchange();
      newExchange.getIn().copyFrom(out);
      exchange=newExchange;
    }
    getProcessor().process(exchange);
  }
}
