{
  while (isPollAllowed()) {
    Exchange exchange=pollingConsumer.receiveNoWait();
    if (exchange == null) {
      break;
    }
    if (exchange.hasOut()) {
      Exchange newExchange=getEndpoint().createExchange();
      newExchange.getIn().copyFrom(exchange.getOut());
      exchange=newExchange;
    }
    getProcessor().process(exchange);
  }
}
