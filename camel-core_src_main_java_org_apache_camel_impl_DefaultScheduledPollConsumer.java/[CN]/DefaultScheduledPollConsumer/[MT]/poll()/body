{
  while (true) {
    Exchange exchange=pollingConsumer.receiveNoWait();
    if (exchange == null) {
      break;
    }
    Message out=exchange.getOut(false);
    if (out != null) {
      Exchange newExchange=getEndpoint().createExchange();
      newExchange.getIn().copyFrom(out);
      exchange=newExchange;
    }
    getProcessor().process(exchange);
  }
}
