{
  if (PackageHelper.isValidVersion("org.springframework.jms",2.51D)) {
    return DefaultMessageListenerContainer.CACHE_CONSUMER;
  }
 else {
    if (endpoint.isPubSubDomain() && !isSubscriptionDurable()) {
      return DefaultMessageListenerContainer.CACHE_CONSUMER;
    }
 else {
      return DefaultMessageListenerContainer.CACHE_CONNECTION;
    }
  }
}
