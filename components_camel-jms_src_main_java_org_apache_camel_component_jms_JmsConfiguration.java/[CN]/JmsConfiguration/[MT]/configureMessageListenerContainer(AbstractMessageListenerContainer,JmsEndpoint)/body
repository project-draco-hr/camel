{
  container.setConnectionFactory(getListenerConnectionFactory());
  if (endpoint instanceof DestinationEndpoint) {
    container.setDestinationResolver(createDestinationResolver((DestinationEndpoint)endpoint));
  }
 else   if (destinationResolver != null) {
    container.setDestinationResolver(destinationResolver);
  }
  container.setAutoStartup(autoStartup);
  if (durableSubscriptionName != null) {
    container.setDurableSubscriptionName(durableSubscriptionName);
    container.setSubscriptionDurable(true);
  }
  if (durableSubscriptionName != null && clientId == null) {
    throw new IllegalArgumentException("ClientId must be configured when subscription is durable for " + endpoint);
  }
  if (clientId != null) {
    container.setClientId(clientId);
  }
  if (exceptionListener != null) {
    container.setExceptionListener(exceptionListener);
  }
  container.setAcceptMessagesWhileStopping(acceptMessagesWhileStopping);
  container.setExposeListenerSession(exposeListenerSession);
  container.setSessionTransacted(transacted);
  if (transacted) {
    container.setSessionAcknowledgeMode(Session.SESSION_TRANSACTED);
  }
 else {
    if (acknowledgementMode >= 0) {
      container.setSessionAcknowledgeMode(acknowledgementMode);
    }
 else     if (acknowledgementModeName != null) {
      container.setSessionAcknowledgeModeName(acknowledgementModeName);
    }
  }
  if (endpoint.getSelector() != null && endpoint.getSelector().length() != 0) {
    container.setMessageSelector(endpoint.getSelector());
  }
  if (container instanceof DefaultMessageListenerContainer) {
    DefaultMessageListenerContainer listenerContainer=(DefaultMessageListenerContainer)container;
    if (concurrentConsumers >= 0) {
      listenerContainer.setConcurrentConsumers(concurrentConsumers);
    }
    if (cacheLevel >= 0) {
      listenerContainer.setCacheLevel(cacheLevel);
    }
 else     if (cacheLevelName != null) {
      listenerContainer.setCacheLevelName(cacheLevelName);
    }
 else {
      listenerContainer.setCacheLevel(defaultCacheLevel(endpoint));
    }
    if (idleTaskExecutionLimit >= 0) {
      listenerContainer.setIdleTaskExecutionLimit(idleTaskExecutionLimit);
    }
    if (maxConcurrentConsumers > 0) {
      if (maxConcurrentConsumers < concurrentConsumers) {
        throw new IllegalArgumentException("Property maxConcurrentConsumers: " + maxConcurrentConsumers + " must be higher than concurrentConsumers: "+ concurrentConsumers);
      }
      listenerContainer.setMaxConcurrentConsumers(maxConcurrentConsumers);
    }
    if (maxMessagesPerTask >= 0) {
      listenerContainer.setMaxMessagesPerTask(maxMessagesPerTask);
    }
    listenerContainer.setPubSubNoLocal(pubSubNoLocal);
    if (receiveTimeout >= 0) {
      listenerContainer.setReceiveTimeout(receiveTimeout);
    }
    if (recoveryInterval >= 0) {
      listenerContainer.setRecoveryInterval(recoveryInterval);
    }
    if (taskExecutor != null) {
      listenerContainer.setTaskExecutor(taskExecutor);
    }
    PlatformTransactionManager tm=getTransactionManager();
    if (tm != null && transacted) {
      listenerContainer.setTransactionManager(tm);
    }
 else     if (transacted) {
      throw new IllegalArgumentException("Property transacted is enabled but a transactionManager was not injected!");
    }
    if (transactionName != null) {
      listenerContainer.setTransactionName(transactionName);
    }
    if (transactionTimeout >= 0) {
      listenerContainer.setTransactionTimeout(transactionTimeout);
    }
    if (taskExecutor != null) {
      listenerContainer.setTaskExecutor(taskExecutor);
    }
 else     if (taskExecutorSpring2 != null) {
      IntrospectionSupport.setProperty(listenerContainer,"taskExecutor",endpoint.getTaskExecutorSpring2());
    }
  }
 else   if (container instanceof SimpleMessageListenerContainer) {
    SimpleMessageListenerContainer listenerContainer=(SimpleMessageListenerContainer)container;
    if (concurrentConsumers >= 0) {
      listenerContainer.setConcurrentConsumers(concurrentConsumers);
    }
    listenerContainer.setPubSubNoLocal(pubSubNoLocal);
    if (taskExecutor != null) {
      listenerContainer.setTaskExecutor(taskExecutor);
    }
 else     if (taskExecutorSpring2 != null) {
      IntrospectionSupport.setProperty(listenerContainer,"taskExecutor",endpoint.getTaskExecutorSpring2());
    }
  }
}
