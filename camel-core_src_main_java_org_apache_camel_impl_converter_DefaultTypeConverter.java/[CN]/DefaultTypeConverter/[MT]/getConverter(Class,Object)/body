{
  Class fromType=null;
  if (value != null) {
    fromType=value.getClass();
  }
  TypeMapping key=new TypeMapping(fromType,toType);
  TypeConverter converter;
synchronized (typeMappings) {
    converter=typeMappings.get(key);
    if (converter == null) {
      converter=findTypeConverter(toType,fromType,value);
      if (converter != null) {
        typeMappings.put(key,converter);
      }
    }
  }
  return converter;
}
