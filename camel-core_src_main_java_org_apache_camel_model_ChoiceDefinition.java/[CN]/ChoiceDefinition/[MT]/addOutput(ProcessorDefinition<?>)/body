{
  if (onlyWhenOrOtherwise) {
    if (output instanceof WhenDefinition || output instanceof OtherwiseDefinition) {
      onlyWhenOrOtherwise=false;
    }
 else {
      throw new IllegalArgumentException("A new choice clause should start with a when() or otherwise(). " + "If you intend to end the entire choice and are using endChoice() then use end() instead.");
    }
  }
  super.addOutput(output);
}
