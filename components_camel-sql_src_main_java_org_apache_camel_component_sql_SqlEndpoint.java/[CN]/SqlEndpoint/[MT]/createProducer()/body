{
  SqlPrepareStatementStrategy prepareStrategy=getPrepareStatementStrategy() != null ? getPrepareStatementStrategy() : new DefaultSqlPrepareStatementStrategy(getSeparator());
  ProducerSSPTHelper producerSSPTHelper=new ProducerSSPTHelper(getJdbcTemplate().getDataSource());
  SqlProducer result=new SqlProducer(this,query,getJdbcTemplate(),prepareStrategy,isBatch(),isAlwaysPopulateStatement(),isUseMessageBodyForSql(),producerSSPTHelper);
  result.setParametersCount(getParametersCount());
  return result;
}
