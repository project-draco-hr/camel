{
  Object result=null;
  if (outputClass == null) {
    RowMapper rowMapper=new ColumnMapRowMapper();
    RowMapperResultSetExtractor<Map<String,Object>> mapper=new RowMapperResultSetExtractor<Map<String,Object>>(rowMapper);
    List<Map<String,Object>> data=mapper.extractData(rs);
    if (data.size() > 1) {
      throw new SQLDataException("Query result not unique for outputType=SelectOne. Got " + data.size() + " count instead.");
    }
 else     if (data.size() == 1) {
      Map<String,Object> row=data.get(0);
      if (row.size() == 1) {
        result=row.values().iterator().next();
      }
 else {
        result=row;
      }
    }
  }
 else {
    Class<?> outputClzz=getCamelContext().getClassResolver().resolveClass(outputClass);
    RowMapper rowMapper=new BeanPropertyRowMapper(outputClzz);
    RowMapperResultSetExtractor<?> mapper=new RowMapperResultSetExtractor(rowMapper);
    List<?> data=mapper.extractData(rs);
    if (data.size() > 1) {
      throw new SQLDataException("Query result not unique for outputType=SelectOne. Got " + data.size() + " count instead.");
    }
 else     if (data.size() == 1) {
      result=data.get(0);
    }
  }
  return result;
}
