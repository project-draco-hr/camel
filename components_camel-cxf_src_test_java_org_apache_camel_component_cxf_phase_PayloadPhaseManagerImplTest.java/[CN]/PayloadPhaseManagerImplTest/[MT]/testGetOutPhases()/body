{
  PhaseManager pm=new PayloadPhaseManagerImpl();
  SortedSet<Phase> pl=pm.getOutPhases();
  assertNotNull(pl);
  assertEquals(Phase.PREPARE_SEND,pl.first().getName());
  boolean hasWritePhase=false;
  for (  Phase p : pl) {
    if (Phase.WRITE.equals(p.getName())) {
      hasWritePhase=true;
      break;
    }
  }
  assertTrue(hasWritePhase);
  assertEquals(Phase.PREPARE_SEND_ENDING,pl.last().getName());
}
