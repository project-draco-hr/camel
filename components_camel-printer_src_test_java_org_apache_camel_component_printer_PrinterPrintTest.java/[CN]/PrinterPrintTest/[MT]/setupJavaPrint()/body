{
  PrintService psDefault=mock(PrintService.class);
  when(psDefault.getName()).thenReturn("DefaultPrinter");
  when(psDefault.isDocFlavorSupported(any(DocFlavor.class))).thenReturn(Boolean.TRUE);
  PrintServiceLookup psLookup=mock(PrintServiceLookup.class);
  when(psLookup.getPrintServices()).thenReturn(new PrintService[]{psDefault});
  when(psLookup.getDefaultPrintService()).thenReturn(psDefault);
  DocPrintJob docPrintJob=mock(DocPrintJob.class);
  when(psDefault.createPrintJob()).thenReturn(docPrintJob);
  PrintServiceLookup.registerServiceProvider(psLookup);
}
