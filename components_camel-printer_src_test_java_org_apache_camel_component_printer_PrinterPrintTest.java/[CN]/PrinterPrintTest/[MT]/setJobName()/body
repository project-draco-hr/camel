{
  if (isAwtHeadless()) {
    return;
  }
  getMockEndpoint("mock:output").setExpectedMessageCount(1);
  context.addRoutes(new RouteBuilder(){
    public void configure(){
      from("direct:start").to("lpr://localhost/default").to("mock:output");
    }
  }
);
  context.start();
  template.sendBodyAndHeader("direct:start","Hello Printer",PrinterEndpoint.JOB_NAME,"Test-Job-Name");
  context.stop();
  assertMockEndpointsSatisfied();
}
