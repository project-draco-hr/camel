{
  if (agent instanceof DefaultInstrumentationAgent) {
    DefaultInstrumentationAgent dia=(DefaultInstrumentationAgent)agent;
    if (dia.getOnlyRegisterProcessorWithCustomId() != null && dia.getOnlyRegisterProcessorWithCustomId()) {
      return processor.hasCustomIdAssigned();
    }
  }
  if (processor instanceof OnExceptionDefinition) {
    return false;
  }
  if (processor instanceof OnCompletionDefinition) {
    return false;
  }
  if (processor instanceof InterceptDefinition) {
    return false;
  }
  return true;
}
