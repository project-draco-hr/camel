{
  try {
    template.sendBodyAndHeader("activemq:queue:foo?allowNullBody=false",null,"bar",123);
    fail("Should have thrown exception");
  }
 catch (  CamelExecutionException e) {
    JMSException cause=assertIsInstanceOf(JMSException.class,e.getCause().getCause());
    assertEquals("Cannot send message as message body is null, and option allowNullBody is false.",cause.getMessage());
  }
}
