{
  if (log.isDebugEnabled()) {
    log.debug("<<<< " + packet);
  }
  if (packet instanceof Message) {
    Message message=(Message)packet;
    XmppExchange exchange=endpoint.createExchange(message);
    getProcessor().onExchange(exchange);
  }
 else   if (packet instanceof RosterPacket) {
    RosterPacket rosterPacket=(RosterPacket)packet;
    if (log.isDebugEnabled()) {
      log.debug("Roster packet with : " + rosterPacket.getRosterItemCount());
      Iterator rosterItems=rosterPacket.getRosterItems();
      while (rosterItems.hasNext()) {
        Object item=rosterItems.next();
        log.debug("Roster item: " + item);
      }
    }
  }
}
