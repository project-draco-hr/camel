{
  String contentType=configuration.getContentType();
  if (exchange.getIn().getHeader("contentType") != null) {
    contentType=exchange.getIn().getHeader("contentType",String.class);
  }
 else   if (exchange.getIn().getHeader(Exchange.CONTENT_TYPE) != null) {
    contentType=exchange.getIn().getHeader(Exchange.CONTENT_TYPE,String.class);
  }
  if (contentType != null && contentType.contains(";")) {
    String before=ObjectHelper.before(contentType,";");
    String after=ObjectHelper.after(contentType,";");
    if (before != null && after != null) {
      contentType=before.trim() + "; " + after.trim();
    }
  }
  return contentType;
}
