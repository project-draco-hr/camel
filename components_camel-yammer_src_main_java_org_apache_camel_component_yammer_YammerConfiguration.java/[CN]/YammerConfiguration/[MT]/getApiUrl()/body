{
  StringBuilder sb=new StringBuilder();
switch (YammerFunctionType.fromUri(function)) {
case MESSAGES:
    sb.append(YammerConstants.YAMMER_BASE_API_URL);
  sb.append(function);
sb.append(".json");
break;
case ALGO:
case FOLLOWING:
case MY_FEED:
case PRIVATE:
case SENT:
sb.append(YammerConstants.YAMMER_BASE_API_URL);
sb.append("messages/");
sb.append(function);
sb.append(".json");
break;
default :
throw new Exception(String.format("%s is not a valid Yammer function type.",function));
}
if (limit > 0) {
sb.append("?");
sb.append("limit=");
sb.append(limit);
}
return sb.toString();
}
