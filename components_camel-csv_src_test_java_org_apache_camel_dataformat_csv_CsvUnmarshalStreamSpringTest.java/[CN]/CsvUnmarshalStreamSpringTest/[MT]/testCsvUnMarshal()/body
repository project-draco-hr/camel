{
  result.expectedMessageCount(1);
  template.sendBody("direct:start",MESSAGE + "\n");
  assertMockEndpointsSatisfied();
  Iterator<?> body=result.getReceivedExchanges().get(0).getIn().getBody(Iterator.class);
  CsvIterator iterator=assertIsInstanceOf(CsvIterator.class,body);
  assertTrue(iterator.hasNext());
  assertEquals(Arrays.asList(MESSAGE),iterator.next());
  assertFalse(iterator.hasNext());
  try {
    iterator.next();
    fail("Should have thrown exception");
  }
 catch (  NoSuchElementException nsee) {
  }
}
