{
  DirectVmConsumer answer=endpoint.getConsumer();
  if (answer == null) {
    answer=awaitConsumer();
    if (answer == null) {
      LOG.warn("No consumers available on endpoint: " + endpoint + " to process: "+ exchange);
      throw new DirectVmConsumerNotAvailableException("No consumers available on endpoint: " + endpoint,exchange);
    }
  }
  return answer;
}
