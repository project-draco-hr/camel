{
  delay(endpoint.getDelay());
  isSystemStream=false;
  if ("out".equals(uri)) {
    isSystemStream=true;
    outputStream=System.out;
  }
 else   if ("err".equals(uri)) {
    isSystemStream=true;
    outputStream=System.err;
  }
 else   if ("file".equals(uri)) {
    outputStream=resolveStreamFromFile();
  }
 else   if ("header".equals(uri)) {
    outputStream=resolveStreamFromHeader(exchange.getIn().getHeader("stream"),exchange);
  }
 else   if ("url".equals(uri)) {
    outputStream=resolveStreamFromUrl();
  }
  writeToStream(exchange);
  closeStream();
}
