{
  EntityManager entityManager=null;
  try {
    entityManager=resolveEntityManager(template.getEntityManagerFactory());
    if (isCorrelationKeyIsPrimary()) {
      return entityManager.find(getEntityType(),key);
    }
 else {
      List<T> list=entityManager.createQuery(getFindByKeyQuery()).setParameter("key",key).getResultList();
      if (list.isEmpty()) {
        return null;
      }
 else {
        return list.get(0);
      }
    }
  }
  finally {
    closeNonTransactionalEntityManager(entityManager);
  }
}
