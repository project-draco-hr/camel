{
  for (  Map.Entry<String,Object> entry : response.getAttributes().entrySet()) {
    if (!headerFilterStrategy.applyFilterToExternalHeaders(entry.getKey(),entry.getValue(),exchange)) {
      exchange.getOut().setHeader(entry.getKey(),entry.getValue());
      if (LOG.isDebugEnabled()) {
        LOG.debug("Populate exchange from Restlet response header: " + entry.getKey() + " value: "+ entry.getValue());
      }
    }
  }
  String text=response.getEntity().getText();
  if (LOG.isDebugEnabled()) {
    LOG.debug("Populate exchange from Restlet response: " + text);
  }
  if (exchange.getPattern().isOutCapable()) {
    exchange.getOut().setBody(text);
  }
 else {
    throw new RuntimeCamelException("Exchange is incapable of receiving response: " + exchange + " with pattern: "+ exchange.getPattern());
  }
}
