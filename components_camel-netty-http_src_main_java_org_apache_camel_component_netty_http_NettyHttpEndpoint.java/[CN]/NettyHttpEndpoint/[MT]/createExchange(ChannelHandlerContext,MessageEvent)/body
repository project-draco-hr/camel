{
  Exchange exchange=createExchange();
  HttpRequest request=(HttpRequest)messageEvent.getMessage();
  Message in=getNettyHttpBinding().toCamelMessage(request,exchange,getConfiguration());
  exchange.setIn(in);
  updateMessageHeader(in,ctx,messageEvent);
  String contentType=in.getHeader(Exchange.CONTENT_TYPE,String.class);
  String charset=NettyHttpHelper.getCharsetFromContentType(contentType);
  if (charset != null) {
    exchange.setProperty(Exchange.CHARSET_NAME,charset);
    in.setHeader(Exchange.HTTP_CHARACTER_ENCODING,charset);
  }
  return exchange;
}
