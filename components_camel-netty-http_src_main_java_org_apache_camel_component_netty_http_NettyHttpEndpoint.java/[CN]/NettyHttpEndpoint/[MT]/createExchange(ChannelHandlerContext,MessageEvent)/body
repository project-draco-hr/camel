{
  Exchange exchange=createExchange();
  HttpRequest request=(HttpRequest)messageEvent.getMessage();
  Message in=getNettyHttpBinding().toCamelMessage(request,exchange,getConfiguration());
  exchange.setIn(in);
  in.setHeader(NettyConstants.NETTY_CHANNEL_HANDLER_CONTEXT,ctx);
  in.setHeader(NettyConstants.NETTY_MESSAGE_EVENT,messageEvent);
  in.setHeader(NettyConstants.NETTY_REMOTE_ADDRESS,messageEvent.getRemoteAddress());
  in.setHeader(NettyConstants.NETTY_LOCAL_ADDRESS,messageEvent.getChannel().getLocalAddress());
  in.setHeader(NettyConstants.NETTY_SSL_SESSION,getSSLSession(ctx));
  String contentType=in.getHeader(Exchange.CONTENT_TYPE,String.class);
  NettyHttpHelper.setCharsetFromContentType(contentType,exchange);
  return exchange;
}
