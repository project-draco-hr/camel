{
  List<Class<? extends Exception>> exceptions=new ArrayList<Class<? extends Exception>>();
  exceptions.add(ParentException.class);
  exceptions.add(ChildException.class);
  ErrorHandlerSupport support=new ShuntErrorHandlerSupport();
  support.addExceptionPolicy(new OnExceptionDefinition(exceptions));
  assertEquals(ChildException.class,getExceptionPolicyFor(support,new ChildException(),1));
  assertEquals(ParentException.class,getExceptionPolicyFor(support,new ParentException(),0));
}
