{
  localServer.register("/test",new RedirectHandler(HttpStatus.SC_MOVED_PERMANENTLY));
  localServer.register("/someplaceelse",new BasicValidationHandler("GET",null,null,"Bye World"));
  String uri="http4://" + getHostName() + ":"+ getPort()+ "/test?httpClient.socketTimeout=60000&httpClient.connectTimeout=60000"+ "&httpClient.staleConnectionCheckEnabled=false";
  Exchange out=template.request(uri,new Processor(){
    public void process(    Exchange exchange) throws Exception {
    }
  }
);
  assertNotNull(out);
  assertEquals(HttpStatus.SC_OK,out.getOut().getHeader(Exchange.HTTP_RESPONSE_CODE));
  assertEquals("Bye World",out.getOut().getBody(String.class));
}
