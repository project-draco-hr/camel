{
  QuickfixjConsumer consumer=new QuickfixjConsumer(mockEndpoint,mockProcessor);
  consumer.start();
  Throwable exception=new Exception("Throwable for test");
  Mockito.doThrow(exception).when(mockProcessor).process(mockExchange);
  try {
    consumer.onExchange(mockExchange);
    Assert.fail("Exception was not thrown");
  }
 catch (  Exception e) {
    Assert.assertThat(e.getMessage(),CoreMatchers.is("Throwable for test"));
  }
}
