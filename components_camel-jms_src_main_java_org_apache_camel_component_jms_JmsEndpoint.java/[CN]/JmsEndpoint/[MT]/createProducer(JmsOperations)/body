{
  JmsProducer answer=createProducer();
  if (template instanceof JmsTemplate) {
    JmsTemplate jmsTemplate=(JmsTemplate)template;
    jmsTemplate.setPubSubDomain(pubSubDomain);
    if (destinationName != null) {
      jmsTemplate.setDefaultDestinationName(destinationName);
    }
 else     if (destination != null) {
      jmsTemplate.setDefaultDestination(destination);
    }
  }
  answer.setInOnlyTemplate(template);
  return answer;
}
