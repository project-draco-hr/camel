{
  if (destinationName != null) {
    listenerContainer.setDestinationName(destinationName);
  }
 else   if (destination != null) {
    listenerContainer.setDestination(destination);
  }
 else {
    DestinationResolver resolver=getDestinationResolver();
    if (resolver != null) {
      listenerContainer.setDestinationResolver(resolver);
    }
 else {
      throw new IllegalArgumentException("Neither destination, destinationName or destinationResolver are specified on this endpoint!");
    }
  }
  listenerContainer.setPubSubDomain(pubSubDomain);
  if (configuration.getTaskExecutor() != null) {
    if (log.isDebugEnabled()) {
      log.debug("Using custom TaskExecutor: {} on listener container: {}",configuration.getTaskExecutor(),listenerContainer);
    }
    setContainerTaskExecutor(listenerContainer,configuration.getTaskExecutor());
  }
 else {
    String name="JmsConsumer[" + getEndpointConfiguredDestinationName() + "]";
    ExecutorService executor=getCamelContext().getExecutorServiceManager().getDefaultExecutorService(name,consumer);
    setContainerTaskExecutor(listenerContainer,executor);
  }
}
