{
  LOG.debug("Creating KeyStore instance from KeyStoreParameters: {}",this);
  String ksType=this.parsePropertyValue(this.type);
  if (ksType == null) {
    ksType=KeyStore.getDefaultType();
  }
  char[] ksPassword=null;
  if (this.password != null) {
    ksPassword=this.parsePropertyValue(this.password).toCharArray();
  }
  KeyStore ks;
  if (this.provider == null) {
    ks=KeyStore.getInstance(ksType);
  }
 else {
    ks=KeyStore.getInstance(ksType,this.parsePropertyValue(this.provider));
  }
  if (this.resource == null) {
    ks.load(null,ksPassword);
  }
 else {
    InputStream is=this.resolveResource(this.parsePropertyValue(this.resource));
    ks.load(is,ksPassword);
  }
  return ks;
}
