{
  if (!eventDrivenProcessors.isEmpty()) {
    Processor processor=Pipeline.newInstance(eventDrivenProcessors);
    Processor unitOfWorkProcessor=new UnitOfWorkProcessor(processor);
    InstrumentationProcessor wrapper=new InstrumentationProcessor();
    wrapper.setType("route");
    wrapper.setProcessor(unitOfWorkProcessor);
    Route edcr=new EventDrivenConsumerRoute(this,getEndpoint(),wrapper);
    edcr.getProperties().put(Route.ID_PROPERTY,route.idOrCreate(getCamelContext().getNodeIdFactory()));
    edcr.getProperties().put(Route.PARENT_PROPERTY,Integer.toHexString(route.hashCode()));
    if (route.getGroup() != null) {
      edcr.getProperties().put(Route.GROUP_PROPERTY,route.getGroup());
    }
    routes.add(edcr);
  }
}
