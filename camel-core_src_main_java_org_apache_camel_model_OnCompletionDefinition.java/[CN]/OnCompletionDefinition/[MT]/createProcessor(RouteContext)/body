{
  Processor childProcessor=createOutputsProcessor(routeContext);
  Predicate when=null;
  if (onWhen != null) {
    when=onWhen.getExpression().createPredicate(routeContext);
  }
  return new OnCompletionProcessor(childProcessor,onCompleteOnly,onFailureOnly,when);
}
