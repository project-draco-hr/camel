{
  String prefix=createPrefix();
  DeleteRequest request=new DeleteRequest(prefix + "foo").type(prefix + "bar");
  String documentId=template.requestBody("direct:index",new IndexRequest("" + prefix + "foo","" + prefix + "bar","" + prefix + "testId").source("{\"" + prefix + "content\": \""+ prefix+ "hello\"}"),String.class);
  DeleteResponse response=template.requestBody("direct:delete",request.id(documentId),DeleteResponse.class);
  assertThat(response,notNullValue());
  assertThat(documentId,equalTo(response.getId()));
}
