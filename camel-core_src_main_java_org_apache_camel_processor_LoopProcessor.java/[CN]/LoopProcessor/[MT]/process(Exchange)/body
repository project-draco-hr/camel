{
  String text=expression.evaluate(exchange,String.class);
  int count=ExchangeHelper.convertToMandatoryType(exchange,Integer.class,text);
  exchange.setProperty(Exchange.LOOP_SIZE,count);
  for (int i=0; i < count; i++) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("LoopProcessor: iteration #" + i);
    }
    exchange.setProperty(Exchange.LOOP_INDEX,i);
    super.process(exchange);
  }
}
