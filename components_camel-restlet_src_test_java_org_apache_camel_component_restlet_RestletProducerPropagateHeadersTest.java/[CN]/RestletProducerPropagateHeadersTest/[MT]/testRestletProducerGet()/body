{
  getMockEndpoint("mock:result").expectedMessageCount(1);
  getMockEndpoint("mock:result").expectedHeaderReceived("foo","bar");
  Map<String,Object> headers=new HashMap<String,Object>();
  headers.put("id",123);
  headers.put("foo","bar");
  String out=template.requestBodyAndHeaders("direct:start",null,headers,String.class);
  assertEquals("123;Donald Duck",out);
  assertMockEndpointsSatisfied();
}
