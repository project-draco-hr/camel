{
  if (expression.getLanguage() != null) {
    renderLanguageExpression(buffer,expression);
  }
 else   if (expression.getExpressionType() instanceof MethodCallExpression) {
    String exp=expression.getExpressionType().toString();
    String bean=exp.substring(exp.indexOf('{') + 1,exp.indexOf(','));
    String method=exp.substring(exp.indexOf('=') + 1,exp.indexOf('}'));
    buffer.append("method(\"").append(bean).append("\", \"").append(method).append("\")");
  }
 else   if (expression.getExpressionType() instanceof XPathExpression) {
    XPathExpression xpath=(XPathExpression)expression.getExpressionType();
    buffer.append("xpath(\"").append(xpath.getExpression()).append("\", ").append(xpath.getResultType().getSimpleName()).append(".class)");
  }
 else {
    renderExpression(buffer,expression.getExpressionValue().toString());
  }
}
