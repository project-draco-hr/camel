{
  if (!hasHeaders()) {
    return false;
  }
  boolean matches=false;
  Set<String> toRemove=new HashSet<String>();
  for (  Map.Entry<String,Object> entry : headers.entrySet()) {
    String key=entry.getKey();
    if (EndpointHelper.matchPattern(key,pattern)) {
      if (excludePatterns != null && isExcludePatternMatch(key,excludePatterns)) {
        continue;
      }
      matches=true;
      toRemove.add(entry.getKey());
    }
  }
  for (  String key : toRemove) {
    headers.remove(key);
  }
  return matches;
}
