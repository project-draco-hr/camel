{
  Set<Class<?>> classes=resolver.findImplementations(RoutesBuilder.class,packages);
  for (  Class<?> aClass : classes) {
    LOG.trace("Found RouteBuilder class: {}",aClass);
    if (shouldIgnoreBean(aClass)) {
      LOG.debug("Ignoring RouteBuilder class: {}",aClass);
      continue;
    }
    if (!isValidClass(aClass)) {
      LOG.debug("Ignoring invalid RouteBuilder class: {}",aClass);
      continue;
    }
    @SuppressWarnings("unchecked") RoutesBuilder builder=instantiateBuilder((Class<? extends RoutesBuilder>)aClass);
    if (beanPostProcessor != null) {
      beanPostProcessor.postProcessBeforeInitialization(builder,builder.toString());
    }
    LOG.debug("Adding instantiated RouteBuilder: {}",builder);
    list.add(builder);
  }
}
