{
  if (LOG.isTraceEnabled()) {
    LOG.trace("UnitOfWork created for ExchangeId: " + exchange.getExchangeId() + " with "+ exchange);
  }
  tracedRouteNodes=new DefaultTracedRouteNodes();
  context=exchange.getContext();
  if (exchange.getIn().getClass().getSimpleName().equals("JmsMessage")) {
    this.originalInMessage=new DefaultMessage();
    this.originalInMessage.setBody(exchange.getIn().getBody());
  }
 else {
    this.originalInMessage=exchange.getIn().copy();
  }
  EventHelper.notifyExchangeCreated(exchange.getContext(),exchange);
  if (exchange.getContext() != null) {
    exchange.getContext().getInflightRepository().add(exchange);
  }
}
