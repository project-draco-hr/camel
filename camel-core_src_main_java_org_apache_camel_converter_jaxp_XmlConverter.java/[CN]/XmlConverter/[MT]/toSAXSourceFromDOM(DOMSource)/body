{
  if (dom2SaxClass != null) {
    try {
      Constructor cns=dom2SaxClass.getConstructor(new Class[]{Node.class});
      XMLReader converter=(XMLReader)cns.newInstance(new Object[]{source.getNode()});
      return new SAXSource(converter,new InputSource());
    }
 catch (    Exception e) {
      throw new TransformerException(e);
    }
  }
 else {
    String str=toString(source);
    StringReader reader=new StringReader(str);
    return new SAXSource(new InputSource(reader));
  }
}
