{
  ClassLoader loader=AccessController.doPrivileged(new PrivilegedAction<ClassLoader>(){
    /** 
 * {@inheritDoc}
 */
    @Override public ClassLoader run(){
      try {
        return Thread.currentThread().getContextClassLoader();
      }
 catch (      Exception e) {
        return null;
      }
    }
  }
);
  if (loader == null) {
    loader=BeanManagerProvider.class.getClassLoader();
  }
  return loader;
}
