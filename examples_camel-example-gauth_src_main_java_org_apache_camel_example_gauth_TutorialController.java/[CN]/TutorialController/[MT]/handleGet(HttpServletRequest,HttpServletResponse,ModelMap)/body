{
  List<String> calendarNames=null;
  String accessToken=getAccessToken(request);
  String accessTokenSecret=getAccessTokenSecret(request);
  if (accessToken == null) {
    model.put("message","No OAuth access token available");
    return "/WEB-INF/jsp/authorize.jsp";
  }
  try {
    calendarNames=service.getCalendarNames(accessToken,accessTokenSecret);
  }
 catch (  AuthenticationException e) {
    model.put("message","OAuth access token invalid");
    return "/WEB-INF/jsp/authorize.jsp";
  }
  model.put("calendarNames",calendarNames);
  return "/WEB-INF/jsp/calendar.jsp";
}
