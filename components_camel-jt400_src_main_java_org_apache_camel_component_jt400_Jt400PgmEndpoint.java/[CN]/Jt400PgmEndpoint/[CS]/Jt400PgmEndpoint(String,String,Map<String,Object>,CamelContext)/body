{
  super(endpointUri,camelContext);
  ObjectHelper.notNull(parameters,"parameters",this);
  if (!parameters.containsKey(Jt400Component.CONNECTION_POOL)) {
    throw new RuntimeCamelException(String.format("parameters must specify '%s'",Jt400Component.CONNECTION_POOL));
  }
  String poolId=parameters.get(Jt400Component.CONNECTION_POOL).toString();
  AS400ConnectionPool connectionPool=EndpointHelper.resolveReferenceParameter(camelContext,poolId,AS400ConnectionPool.class,true);
  try {
    this.baseEndpoint=new Jt400Endpoint(endpointUri,connectionPool);
  }
 catch (  URISyntaxException e) {
    throw new RuntimeCamelException("Unable to parse URI for " + endpointUri,e);
  }
}
