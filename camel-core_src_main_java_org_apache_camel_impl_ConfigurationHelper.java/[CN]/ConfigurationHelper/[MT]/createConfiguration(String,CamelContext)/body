{
  int schemeSeparator=uri.indexOf(':');
  if (schemeSeparator == -1) {
    return null;
  }
  String scheme=uri.substring(0,schemeSeparator);
  Component component=context.getComponent(scheme);
  if (LOG.isTraceEnabled()) {
    LOG.trace("Lookup for Component handling \"{}:\" configuration returned {}",new Object[]{scheme,component != null ? component.getClass().getName() : "<null>"});
  }
  if (component != null) {
    DefaultEndpointConfiguration cfg=(DefaultEndpointConfiguration)component.createConfiguration(scheme);
    cfg.setURI(new URI(UnsafeUriCharactersEncoder.encode(uri)));
    return cfg;
  }
 else {
    return null;
  }
}
