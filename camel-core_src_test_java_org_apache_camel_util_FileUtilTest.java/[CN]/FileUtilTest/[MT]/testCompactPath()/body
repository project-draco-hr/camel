{
  assertEquals(null,FileUtil.compactPath(null));
  if (FileUtil.isWindows()) {
    assertEquals("..\\foo",FileUtil.compactPath("..\\foo"));
    assertEquals("..\\..\\foo",FileUtil.compactPath("..\\..\\foo"));
    assertEquals("..\\..\\foo\\bar",FileUtil.compactPath("..\\..\\foo\\bar"));
    assertEquals("..\\..\\foo",FileUtil.compactPath("..\\..\\foo\\bar\\.."));
    assertEquals("foo",FileUtil.compactPath("foo"));
    assertEquals("bar",FileUtil.compactPath("foo\\..\\bar"));
    assertEquals("bar\\baz",FileUtil.compactPath("foo\\..\\bar\\baz"));
    assertEquals("foo\\baz",FileUtil.compactPath("foo\\bar\\..\\baz"));
    assertEquals("baz",FileUtil.compactPath("foo\\bar\\..\\..\\baz"));
    assertEquals("..\\baz",FileUtil.compactPath("foo\\bar\\..\\..\\..\\baz"));
    assertEquals("..\\foo\\bar",FileUtil.compactPath("..\\foo\\bar"));
    assertEquals("foo\\bar\\baz",FileUtil.compactPath("foo\\bar\\.\\baz"));
    assertEquals("foo\\bar\\baz",FileUtil.compactPath("foo\\bar\\\\baz"));
    assertEquals("\\foo\\bar\\baz",FileUtil.compactPath("\\foo\\bar\\baz"));
    assertEquals("\\",FileUtil.compactPath("\\"));
    assertEquals("\\",FileUtil.compactPath("/"));
    assertEquals("/",FileUtil.compactPath("\\",'/'));
    assertEquals("/",FileUtil.compactPath("/",'/'));
  }
 else {
    assertEquals("../foo",FileUtil.compactPath("../foo"));
    assertEquals("../../foo",FileUtil.compactPath("../../foo"));
    assertEquals("../../foo/bar",FileUtil.compactPath("../../foo/bar"));
    assertEquals("../../foo",FileUtil.compactPath("../../foo/bar/.."));
    assertEquals("foo",FileUtil.compactPath("foo"));
    assertEquals("bar",FileUtil.compactPath("foo/../bar"));
    assertEquals("bar/baz",FileUtil.compactPath("foo/../bar/baz"));
    assertEquals("foo/baz",FileUtil.compactPath("foo/bar/../baz"));
    assertEquals("baz",FileUtil.compactPath("foo/bar/../../baz"));
    assertEquals("../baz",FileUtil.compactPath("foo/bar/../../../baz"));
    assertEquals("../foo/bar",FileUtil.compactPath("../foo/bar"));
    assertEquals("foo/bar/baz",FileUtil.compactPath("foo/bar/./baz"));
    assertEquals("foo/bar/baz",FileUtil.compactPath("foo/bar//baz"));
    assertEquals("/foo/bar/baz",FileUtil.compactPath("/foo/bar/baz"));
    assertEquals("/",FileUtil.compactPath("/"));
    assertEquals("/",FileUtil.compactPath("\\"));
    assertEquals("/",FileUtil.compactPath("/",'/'));
    assertEquals("/",FileUtil.compactPath("\\",'/'));
  }
}
