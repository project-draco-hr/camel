{
  Map map=exchange.getContext().getTypeConverter().convertTo(Map.class,result);
  if (map != null) {
    return map.get(key);
  }
  Integer num=exchange.getContext().getTypeConverter().convertTo(Integer.class,key);
  if (num != null) {
    List list=exchange.getContext().getTypeConverter().convertTo(List.class,result);
    if (list != null) {
      if (list.size() > num - 1) {
        return list.get(num);
      }
 else       if (!elvis) {
        throw new IndexOutOfBoundsException("Index: " + num + ", Size: "+ list.size()+ " out of bounds with List from bean: "+ bean+ "using OGNL path ["+ ognlPath+ "]");
      }
    }
  }
  if (!elvis) {
    throw new IndexOutOfBoundsException("Key: " + key + " not found in bean: "+ bean+ " of type: "+ ObjectHelper.classCanonicalName(bean)+ " using OGNL path ["+ ognlPath+ "]");
  }
 else {
    return null;
  }
}
