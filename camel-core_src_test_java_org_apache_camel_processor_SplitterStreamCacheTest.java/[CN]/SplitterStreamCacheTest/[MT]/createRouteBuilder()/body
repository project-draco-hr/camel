{
  return new RouteBuilder(){
    public void configure(){
      getContext().getProperties().put(CachedOutputStream.TEMP_DIR,"target/tmp");
      getContext().getProperties().put(CachedOutputStream.THRESHOLD,"1");
      from("seda:parallel?size=1000&concurrentConsumers=5").streamCaching().split(XPathBuilder.xpath("//person/city")).to("mock:result");
    }
  }
;
}
