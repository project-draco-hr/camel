{
  return new ExpressionAdapter(){
    public Object evaluate(    Exchange exchange){
      if ("file".equals(command)) {
        Date date=exchange.getIn().getHeader(Exchange.FILE_LAST_MODIFIED,Date.class);
        if (date != null) {
          SimpleDateFormat df=new SimpleDateFormat(pattern);
          return df.format(date);
        }
 else {
          return null;
        }
      }
      return ExpressionBuilder.dateExpression(command,pattern).evaluate(exchange,Object.class);
    }
    @Override public String toString(){
      return "date(" + command + ":"+ pattern+ ")";
    }
  }
;
}
