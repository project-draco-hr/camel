{
  return new RouteBuilder(){
    @Override public void configure() throws Exception {
      ErrorHandlerBuilder a=deadLetterChannel("mock:a").maximumRedeliveries(2).redeliveryDelay(0).logStackTrace(false).useOriginalMessage().handled(true);
      ErrorHandlerBuilder b=deadLetterChannel("mock:b").maximumRedeliveries(2).redeliveryDelay(0).logStackTrace(false).handled(true);
      from("activemq:queue:a").errorHandler(a).setBody(body().append(" World")).process(new MyThrowProcessor());
      from("activemq:queue:b").errorHandler(b).setBody(body().append(" World")).process(new MyThrowProcessor());
    }
  }
;
}
