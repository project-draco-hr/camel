{
  try {
    Map rc=new HashMap();
    if (uri != null) {
      String[] parameters=uri.split("&");
      for (      String parameter : parameters) {
        int p=parameter.indexOf("=");
        if (p >= 0) {
          String name=URLDecoder.decode(parameter.substring(0,p),"UTF-8");
          String value=URLDecoder.decode(parameter.substring(p + 1),"UTF-8");
          rc.put(name,value);
        }
 else {
          rc.put(parameter,null);
        }
      }
    }
    return rc;
  }
 catch (  UnsupportedEncodingException e) {
    throw (URISyntaxException)new URISyntaxException(e.toString(),"Invalid encoding").initCause(e);
  }
}
