{
  super(endpoint);
  configuration=endpoint.getConfiguration();
  this.lazySessionCreation=configuration.isLazySessionCreation();
  this.timeout=configuration.getTimeout();
  this.sync=configuration.isSync();
  this.noReplyLogger=new CamelLogger(LOG,configuration.getNoReplyLogLevel());
  String protocol=configuration.getProtocol();
  if (protocol.equals("tcp")) {
    createSocketEndpoint(protocol);
  }
 else   if (configuration.isDatagramProtocol()) {
    createDatagramEndpoint(protocol);
  }
 else   if (protocol.equals("vm")) {
    createVmEndpoint(protocol);
  }
}
