{
  super(endpoint);
  this.configuration=endpoint.getConfiguration();
  this.lazySessionCreation=configuration.isLazySessionCreation();
  this.timeout=configuration.getTimeout();
  this.sync=configuration.isSync();
  this.noReplyLogger=new CamelLogger(LOG,configuration.getNoReplyLogLevel());
  String protocol=configuration.getProtocol();
  if (protocol.equals("tcp")) {
    setupSocketProtocol(protocol);
  }
 else   if (configuration.isDatagramProtocol()) {
    setupDatagramProtocol(protocol);
  }
 else   if (protocol.equals("vm")) {
    setupVmProtocol(protocol);
  }
}
