{
  shouldWork=false;
  a.whenExchangeReceived(1,new Processor(){
    public void process(    Exchange exchange) throws Exception {
      exchange.getFault().setBody("fault");
    }
  }
);
  a.expectedMessageCount(1);
  b.expectedMessageCount(0);
  c.expectedMessageCount(0);
  template.sendBody("direct:start","in");
  MockEndpoint.assertIsSatisfied(a,b,c);
  List<Exchange> list=a.getReceivedExchanges();
  Exchange exchange=list.get(0);
  Message fault=exchange.getFault();
  assertNotNull("Should have a fault on A",fault);
  assertEquals("Fault body","fault",fault.getBody());
}
