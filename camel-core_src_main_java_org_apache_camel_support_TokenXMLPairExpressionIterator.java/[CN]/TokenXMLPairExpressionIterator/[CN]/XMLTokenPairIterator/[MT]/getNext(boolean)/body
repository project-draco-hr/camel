{
  String next=scanner.next();
  if (next == null) {
    return null;
  }
  if (first && inheritNamespaceToken != null) {
    rootTokenNamespaces=getNamespacesFromNamespaceToken(next);
  }
  Matcher matcher=startTokenPattern.matcher(next);
  if (!matcher.find()) {
    return null;
  }
 else {
    int index=matcher.start();
    next=next.substring(index);
  }
  StringBuilder sb=new StringBuilder();
  if (inheritNamespaceToken != null && rootTokenNamespaces != null) {
    String tag=ObjectHelper.before(next,">");
    String text=ObjectHelper.after(next,">");
    next=sb.append(tag).append(rootTokenNamespaces).append(">").append(text).append(endToken).toString();
  }
 else {
    next=sb.append(next).append(endToken).toString();
  }
  return next;
}
