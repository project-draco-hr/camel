{
  CamelContext camelContext=super.createCamelContext();
  ConnectionFactory connectionFactory=new ActiveMQConnectionFactory("vm://localhost?broker.persistent=false");
  camelContext.addComponent(componentName,jmsComponentClientAcknowledge(connectionFactory));
  ((DefaultHeaderFilterStrategy)camelContext.getComponent(componentName).getHeaderFilterStrategy()).getInFilter().add("testheader");
  ((DefaultHeaderFilterStrategy)camelContext.getComponent(componentName).getHeaderFilterStrategy()).getOutFilter().add("anotherheader");
  ((DefaultHeaderFilterStrategy)camelContext.getComponent(componentName).getHeaderFilterStrategy()).setInFilterPattern(IN_FILTER_PATTERN);
  return camelContext;
}
