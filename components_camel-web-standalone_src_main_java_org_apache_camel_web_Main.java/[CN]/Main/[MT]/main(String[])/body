{
  System.out.println("Welcome to Apache Camel!");
  ClassLoader classLoader=Thread.currentThread().getContextClassLoader();
  URL resource=classLoader.getResource(WAR_FILENAME);
  if (resource == null) {
    System.err.println("Could not find the " + WAR_FILENAME + " on classpath!");
    System.exit(1);
  }
  File warFile=File.createTempFile(WAR_NAME + "-",WAR_POSTFIX);
  System.out.println("Extracting " + WAR_FILENAME + " to "+ warFile+ " ...");
  writeStreamTo(resource.openStream(),new FileOutputStream(warFile),8 * KB);
  System.out.println("Extracted " + WAR_FILENAME);
  System.out.println("Launching Jetty Runner...");
  List<String> argsList=new ArrayList<String>();
  if (args != null) {
    argsList.addAll(Arrays.asList(args));
  }
  argsList.add(warFile.getCanonicalPath());
  Class<?> runnerCls=null;
  try {
    runnerCls=Class.forName("org.mortbay.jetty.runner.Runner");
  }
 catch (  Throwable t) {
    runnerCls=Class.forName("org.eclipse.jetty.runner.Runner");
  }
  runnerCls.getMethod("main",String[].class).invoke(null,new Object[]{argsList.toArray(new String[argsList.size()])});
  System.exit(0);
}
