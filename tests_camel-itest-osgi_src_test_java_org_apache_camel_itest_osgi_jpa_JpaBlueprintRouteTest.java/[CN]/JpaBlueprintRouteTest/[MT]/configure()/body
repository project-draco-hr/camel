{
  Option[] options=combine(getDefaultCamelKarafOptions(),new Customizer(){
    @Override public InputStream customizeTestProbe(    InputStream testProbe){
      return modifyBundle(testProbe).add(SendEmail.class).add("META-INF/persistence.xml",JpaBlueprintRouteTest.class.getResource("/META-INF/persistence.xml")).add("OSGI-INF/blueprint/test.xml",JpaBlueprintRouteTest.class.getResource("blueprintCamelContext.xml")).set(Constants.BUNDLE_SYMBOLICNAME,"CamelBlueprintJpaTestBundle").set(Constants.DYNAMICIMPORT_PACKAGE,"*").set("Meta-Persistence","META-INF/persistence.xml").build();
    }
  }
,scanFeatures(getKarafFeatureUrl(),"spring"),scanFeatures(getKarafEnterpriseFeatureUrl(),"jndi","jpa","transaction"),mavenBundle("org.apache.derby","derby","10.4.2.0"),scanFeatures(getCamelKarafFeatureUrl(),"camel-blueprint","camel-jpa"),felix(),equinox());
  return options;
}
