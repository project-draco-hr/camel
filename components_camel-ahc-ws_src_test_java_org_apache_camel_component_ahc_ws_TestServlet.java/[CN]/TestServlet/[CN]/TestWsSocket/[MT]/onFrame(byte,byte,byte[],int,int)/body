{
  if (OPCODE_TEXT == opcode || OPCODE_BINARY == opcode) {
    if (0 != (FLAGS_FINAL & flags)) {
      return false;
    }
    onMessage(data,offset,length,false);
    return true;
  }
 else   if (OPCODE_CONTINUATION == opcode) {
    boolean f=0 != (FLAGS_FINAL & flags);
    onMessage(data,offset,length,f);
    return !f;
  }
  return false;
}
