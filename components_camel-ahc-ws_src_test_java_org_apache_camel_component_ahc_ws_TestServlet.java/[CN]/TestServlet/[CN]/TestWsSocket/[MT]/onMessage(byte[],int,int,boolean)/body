{
  frameBuffer.write(data,offset,length);
  if (last) {
    data=frameBuffer.toByteArray();
    frameBuffer.reset();
    messages.add(data);
    try {
      con.sendMessage(data,0,data.length);
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
}
