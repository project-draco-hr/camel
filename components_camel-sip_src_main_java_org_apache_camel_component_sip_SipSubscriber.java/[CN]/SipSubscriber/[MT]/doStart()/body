{
  super.doStart();
  Properties properties=configuration.createInitialProperties();
  sipStack=configuration.getSipFactory().createSipStack(properties);
  configuration.parseURI();
  sipSubscriptionListener=new SipSubscriptionListener(this);
  ListeningPoint listeningPoint=sipStack.createListeningPoint(configuration.getFromHost(),Integer.valueOf(configuration.getFromPort()).intValue(),configuration.getTransport());
  configuration.setListeningPoint(listeningPoint);
  provider=sipStack.createSipProvider(configuration.getListeningPoint());
  provider.addSipListener(sipSubscriptionListener);
  if (configuration.getCallIdHeader() == null) {
    configuration.setCallIdHeader(provider.getNewCallId());
  }
  configuration.setCallIdHeader(provider.getNewCallId());
  Request request=configuration.createSipRequest(1,Request.SUBSCRIBE,configuration.getEventHeaderName());
  ClientTransaction subscriberTransactionId=provider.getNewClientTransaction(request);
  request.addHeader(configuration.getEventHeader());
  subscriberDialog=subscriberTransactionId.getDialog();
  subscriberTransactionId.sendRequest();
}
