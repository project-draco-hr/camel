{
  super(endpoint,processor);
  this.configuration=configuration;
  if (configuration.isSync()) {
    listener=new InfinispanSyncEventListener(this,configuration.getEventTypes());
  }
 else {
    listener=new InfinispanAsyncEventListener(this,configuration.getEventTypes());
  }
}
