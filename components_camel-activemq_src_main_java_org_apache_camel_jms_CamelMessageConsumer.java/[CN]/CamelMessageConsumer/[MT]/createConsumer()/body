{
  try {
    return endpoint.createConsumer(new Processor(){
      public void process(      Exchange exchange) throws Exception {
        Message message=createMessage(exchange);
        getMessageListener().onMessage(message);
      }
    }
);
  }
 catch (  JMSException e) {
    throw e;
  }
catch (  Exception e) {
    throw JMSExceptionSupport.create(e);
  }
}
