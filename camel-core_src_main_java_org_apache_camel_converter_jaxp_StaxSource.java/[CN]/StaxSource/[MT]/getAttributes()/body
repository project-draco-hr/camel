{
  AttributesImpl attrs=new AttributesImpl();
  for (int i=0; i < streamReader.getAttributeCount(); i++) {
    String uri=streamReader.getAttributeNamespace(i);
    String localName=streamReader.getAttributeLocalName(i);
    String prefix=streamReader.getAttributePrefix(i);
    String qName;
    if (prefix != null && prefix.length() > 0) {
      qName=prefix + ':' + localName;
    }
 else {
      qName=localName;
    }
    String type=streamReader.getAttributeType(i);
    String value=streamReader.getAttributeValue(i);
    if (value == null) {
      value="";
    }
    attrs.addAttribute(uri == null ? "" : uri,localName,qName,type,value);
  }
  return attrs;
}
