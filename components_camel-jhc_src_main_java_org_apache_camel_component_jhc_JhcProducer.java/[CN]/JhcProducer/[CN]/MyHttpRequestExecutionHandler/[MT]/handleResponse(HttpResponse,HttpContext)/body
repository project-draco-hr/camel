{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Handle response");
  }
  httpContext.setAttribute(RESPONSE_RECEIVED,Boolean.TRUE);
  Exchange e=(Exchange)httpContext.getAttribute(Exchange.class.getName());
  e.getOut().setBody(httpResponse.getEntity());
  for (Iterator it=httpResponse.headerIterator(); it.hasNext(); ) {
    Header h=(Header)it.next();
    e.getOut().setHeader(h.getName(),h.getValue());
  }
  AsyncCallback callback=(AsyncCallback)e.removeProperty(AsyncCallback.class.getName());
  callback.done(false);
}
