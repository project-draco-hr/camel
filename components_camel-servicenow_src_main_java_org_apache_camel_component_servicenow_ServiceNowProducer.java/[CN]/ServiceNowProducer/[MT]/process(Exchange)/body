{
  String resource=exchange.getIn().getHeader(ServiceNowConstants.RESOURCE,configuration.getResource(),String.class);
  if (ObjectHelper.equal(ServiceNowConstants.RESOURCE_TABLE,resource,true)) {
    tableCache.get().process(exchange);
  }
 else   if (ObjectHelper.equal(ServiceNowConstants.RESOURCE_AGGREGATE,resource,true)) {
    aggregateCache.get().process(exchange);
  }
 else   if (ObjectHelper.equal(ServiceNowConstants.RESOURCE_IMPORT,resource,true)) {
    importSetCache.get().process(exchange);
  }
 else {
    throw new IllegalArgumentException("Unknown resource type: " + resource);
  }
}
