{
  Processor processor=null;
  WeakReference<Processor> ref=cache.get();
  if (ref != null) {
    processor=ref.get();
  }
  if (processor == null) {
    processor=supplier.get(endpoint);
    cache.set(new WeakReference<>(processor));
  }
  return processor;
}
