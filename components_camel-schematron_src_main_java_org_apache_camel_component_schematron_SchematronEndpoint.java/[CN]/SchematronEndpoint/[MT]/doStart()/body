{
  super.doStart();
  if (rules == null) {
    try {
      logger.debug("Reading schematron rules from class path {}",path);
      InputStream schRules=ResourceHelper.resolveMandatoryResourceAsInputStream(getCamelContext().getClassResolver(),path);
      rules=TemplatesFactory.newInstance().newTemplates(schRules);
    }
 catch (    Exception e) {
      logger.debug("Schamatron rules not found in class path, attempting file system {}",path);
      InputStream schRules=FileUtils.openInputStream(new File(path));
      rules=TemplatesFactory.newInstance().newTemplates(schRules);
    }
    if (rules == null) {
      logger.warn("Schematron rules not found {}",path);
      throw new SchematronConfigException("Failed to load rules: " + path);
    }
  }
}
