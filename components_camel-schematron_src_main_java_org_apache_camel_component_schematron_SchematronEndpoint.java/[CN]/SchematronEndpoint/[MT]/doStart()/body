{
  super.doStart();
  if (transformerFactory == null) {
    createTransformerFactory();
  }
  if (rules == null) {
    try {
      LOG.debug("Reading schematron rules from class path {}",path);
      InputStream schRules=ResourceHelper.resolveMandatoryResourceAsInputStream(getCamelContext(),path);
      rules=TemplatesFactory.newInstance().getTemplates(schRules,transformerFactory);
    }
 catch (    Exception e) {
      LOG.debug("Schamatron rules not found in class path, attempting file system {}",path);
      InputStream schRules=FileUtils.openInputStream(new File(path));
      rules=TemplatesFactory.newInstance().getTemplates(schRules,transformerFactory);
    }
    if (rules == null) {
      LOG.error("Failed to load schematron rules {}",path);
      throw new SchematronConfigException("Failed to load schematron rules: " + path);
    }
  }
}
