{
  return new RouteBuilder(){
    @Override public void configure() throws Exception {
      context.setTracing(true);
      errorHandler(deadLetterChannel("mock:error"));
      onException(MyTechnicalException.class).maximumRedeliveries(0).handled(true).to("mock:tech");
      onException(MyFunctionalException.class).maximumRedeliveries(0).handled(true).to("mock:func");
      from("direct:start").choice().when(method("myServiceBean").isEqualTo("James")).to("mock:when").otherwise().to("mock:otherwise");
    }
  }
;
}
