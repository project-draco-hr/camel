{
  final Map<String,Object> args=getMethodArguments();
  try {
    Object result=doInvokeMethod(args);
    if (result != null && (result instanceof Collection || result.getClass().isArray())) {
      final Object array=getResultAsArray(result);
      final int length=Array.getLength(array);
      for (int i=0; i < length; i++) {
        processResult(Array.get(array,i));
      }
      return length;
    }
 else {
      processResult(result);
      return 1;
    }
  }
 catch (  Throwable t) {
    throw ObjectHelper.wrapRuntimeCamelException(t);
  }
}
