{
  applicationContext=new ClassPathXmlApplicationContext("classpath:org/apache/camel/component/spring/batch/springBatchtestContext.xml");
  producerTemplate=applicationContext.getBean(ProducerTemplate.class);
  outputEndpoint=applicationContext.getBean(CamelContext.class).getEndpoint("mock:output",MockEndpoint.class);
  jobExecutionEventsQueueEndpoint=applicationContext.getBean(CamelContext.class).getEndpoint("mock:jobExecutionEventsQueue",MockEndpoint.class);
  inputMessages=new String[]{"foo","bar","baz"};
  for (  String message : inputMessages) {
    producerTemplate.sendBody("seda:inputQueue",message);
  }
  producerTemplate.sendBody("seda:inputQueue",null);
}
