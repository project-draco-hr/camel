{
  Exchange exchange=new DefaultExchange(context);
  Message message=exchange.getIn();
  message.setBody(body);
  if (headers.size() > 0) {
    message.setHeaders(headers);
  }
  for (  Map.Entry<String,Object> entry : properties.entrySet()) {
    exchange.setProperty(entry.getKey(),entry.getValue());
  }
  if (pattern != null) {
    exchange.setPattern(pattern);
  }
  return exchange;
}
