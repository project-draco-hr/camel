{
  boolean foundNonDaemon;
  do {
    foundNonDaemon=false;
    Collection threads=getActiveThreads(threadGroup);
    for (Iterator iter=threads.iterator(); iter.hasNext(); ) {
      Thread thread=(Thread)iter.next();
      if (thread.isDaemon()) {
        continue;
      }
      foundNonDaemon=true;
      joinThread(thread,0);
    }
  }
 while (foundNonDaemon);
}
