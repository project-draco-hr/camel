{
  return new RouteBuilder(){
    public void configure(){
      from("file:foo/xyz?noop=true").choice().when(xpath("/person/city = 'London'")).to("file:target/messages/uk").otherwise().to("file:target/messages/others");
      from("file:foo/bar?noop=true").filter(header("foo").isEqualTo("bar")).to("file:xyz?noop=true");
      from("file:xyz?noop=true").filter(header("foo").isEqualTo("bar")).recipientList(header("bar")).splitter(XPathBuilder.xpath("/invoice/lineItems")).throttler(3).to("mock:result");
    }
  }
;
}
