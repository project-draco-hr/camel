{
  try {
    getScriptContext();
    populateBindings(getEngine(),exchange);
    return runScript();
  }
 catch (  ScriptException e) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Script evaluation failed: " + e,e);
    }
    throw createScriptEvaluationException(e.getCause());
  }
catch (  IOException e) {
    throw createScriptEvaluationException(e);
  }
}
