{
  if (engineHolder.get() == null) {
    ScriptEngineHolder holder=new ScriptEngineHolder();
    engineHolder.set(holder);
    engineHolders.put(Thread.currentThread(),holder);
  }
  if (engineHolder.get() == null) {
    throw new IllegalArgumentException("No script engine could be created for: " + getScriptEngineName());
  }
  ScriptEngineHolder holder=engineHolder.get();
  if (holder.engine == null) {
    holder.engine=createScriptEngine();
    engineHolders.put(Thread.currentThread(),holder);
  }
  return holder.engine;
}
