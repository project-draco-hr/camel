{
  if (a == b) {
    return true;
  }
  if (a instanceof byte[] && b instanceof byte[]) {
    return equalByteArray((byte[])a,(byte[])b);
  }
  if (ignoreCase) {
    if (a instanceof String && b instanceof String) {
      return ((String)a).equalsIgnoreCase((String)b);
    }
  }
  return a != null && b != null && a.equals(b);
}
