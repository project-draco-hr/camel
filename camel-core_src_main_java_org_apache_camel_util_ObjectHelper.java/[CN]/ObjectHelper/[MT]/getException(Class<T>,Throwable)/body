{
  if (exception == null) {
    return null;
  }
  for (  Throwable throwable : exception.getSuppressed()) {
    if (type.isInstance(throwable)) {
      return type.cast(throwable);
    }
  }
  for (  final Throwable throwable : createExceptionIterable(exception)) {
    if (type.isInstance(throwable)) {
      return type.cast(throwable);
    }
  }
  return null;
}
