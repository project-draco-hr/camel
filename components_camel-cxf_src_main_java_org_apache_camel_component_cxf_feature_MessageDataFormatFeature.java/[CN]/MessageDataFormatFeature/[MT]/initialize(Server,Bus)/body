{
  Interceptor<? extends Message> wsdlGetInterceptor=getInterceptorByName(server.getEndpoint().getInInterceptors(),"org.apache.cxf.frontend.WSDLGetInterceptor");
  removeInterceptorWhichIsOutThePhases(server.getEndpoint().getService().getInInterceptors(),REMAINING_IN_PHASES);
  removeInterceptorWhichIsOutThePhases(server.getEndpoint().getInInterceptors(),REMAINING_IN_PHASES);
  if (wsdlGetInterceptor != null) {
    server.getEndpoint().getInInterceptors().add(wsdlGetInterceptor);
  }
  Interceptor<? extends Message> loggingOutputInterceptor=getLoggingOutInterceptor(server);
  server.getEndpoint().getBinding().getInInterceptors().clear();
  removeInterceptorWhichIsOutThePhases(server.getEndpoint().getService().getOutInterceptors(),REMAINING_OUT_PHASES);
  removeInterceptorWhichIsOutThePhases(server.getEndpoint().getOutInterceptors(),REMAINING_OUT_PHASES);
  server.getEndpoint().getBinding().getOutInterceptors().clear();
  server.getEndpoint().getOutInterceptors().add(new RawMessageContentRedirectInterceptor());
  if (loggingOutputInterceptor != null) {
    server.getEndpoint().getOutInterceptors().add(loggingOutputInterceptor);
  }
}
