{
  InputStream is=exchange.getContext().getTypeConverter().convertTo(InputStream.class,graph);
  if (is == null) {
    throw new IllegalArgumentException("Cannot get the inputstream for GzipDataFormat mashalling");
  }
  GZIPOutputStream zipOutput=new GZIPOutputStream(stream);
  try {
    IOHelper.copy(is,zipOutput);
  }
  finally {
    zipOutput.close();
  }
}
