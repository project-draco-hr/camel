{
  ResponseWrapper respWrap=method.getAnnotation(ResponseWrapper.class);
  if (respWrap != null && respWrap.className() != null) {
    return new TypeInfo(respWrap.className(),new QName(respWrap.targetNamespace(),respWrap.localName()));
  }
  Class<?> returnType=method.getReturnType();
  if (Void.TYPE.equals(returnType)) {
    return new TypeInfo(null,null);
  }
 else {
    Class<?> type=method.getReturnType();
    WebResult webResult=method.getAnnotation(WebResult.class);
    if (webResult != null) {
      return new TypeInfo(type.getName(),new QName(webResult.targetNamespace(),webResult.name()));
    }
 else {
      throw new IllegalArgumentException("Result type of method " + method.getName() + " is not annotated with WebParam. This is not yet supported");
    }
  }
}
