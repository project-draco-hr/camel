{
  RequestWrapper requestWrapper=method.getAnnotation(RequestWrapper.class);
  Class<?>[] types=method.getParameterTypes();
  if (types.length == 0) {
    return new TypeInfo(null,null);
  }
  if (requestWrapper != null && requestWrapper.className() != null) {
    return new TypeInfo(requestWrapper.className(),new QName(requestWrapper.targetNamespace(),requestWrapper.localName()));
  }
  if (types.length == 1) {
    Annotation[] firstParamAnnotations=method.getParameterAnnotations()[0];
    for (    Annotation annotation : firstParamAnnotations) {
      if (annotation instanceof WebParam) {
        WebParam webParam=(WebParam)annotation;
        return new TypeInfo(types[0].getName(),new QName(webParam.targetNamespace(),webParam.name()));
      }
    }
    throw new IllegalArgumentException("Parameter of method " + method.getName() + " is not annotated with WebParam. This is not yet supported");
  }
  throw new IllegalArgumentException("Method " + method.getName() + " has more than one parameter and no request wrapper. This is not yet supported");
}
