{
  XMLReader reader=new Parser();
  try {
    reader.setFeature(Parser.namespacesFeature,false);
    reader.setFeature(Parser.namespacePrefixesFeature,false);
    if (getParserFeatures() != null) {
      for (      Entry<String,Boolean> e : getParserFeatures().entrySet()) {
        reader.setFeature(e.getKey(),e.getValue());
      }
    }
    if (getParserPropeties() != null) {
      for (      Entry<String,Object> e : getParserPropeties().entrySet()) {
        reader.setProperty(e.getKey(),e.getValue());
      }
    }
    if (this.getParsingSchema() != null) {
      reader.setProperty(Parser.schemaProperty,getParsingSchema());
    }
  }
 catch (  Exception e) {
    throw new CamelException("Problem setting the parser feature",e);
  }
  return reader;
}
