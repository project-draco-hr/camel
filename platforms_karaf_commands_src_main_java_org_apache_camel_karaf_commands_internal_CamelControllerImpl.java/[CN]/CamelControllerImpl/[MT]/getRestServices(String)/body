{
  Map<String,List<RestRegistry.RestService>> answer=new LinkedHashMap<String,List<RestRegistry.RestService>>();
  if (camelContextName != null) {
    CamelContext context=this.getCamelContext(camelContextName);
    if (context != null) {
      List<RestRegistry.RestService> services=new ArrayList<RestRegistry.RestService>(context.getRestRegistry().listAllRestServices());
      Collections.sort(services,new Comparator<RestRegistry.RestService>(){
        @Override public int compare(        RestRegistry.RestService o1,        RestRegistry.RestService o2){
          return o1.getUrl().compareTo(o2.getUrl());
        }
      }
);
      answer.put(camelContextName,services);
    }
  }
 else {
    List<CamelContext> camelContexts=this.getCamelContexts();
    for (    CamelContext camelContext : camelContexts) {
      List<RestRegistry.RestService> services=new ArrayList<RestRegistry.RestService>(camelContext.getRestRegistry().listAllRestServices());
      Collections.sort(services,new Comparator<RestRegistry.RestService>(){
        @Override public int compare(        RestRegistry.RestService o1,        RestRegistry.RestService o2){
          return o1.getUrl().compareTo(o2.getUrl());
        }
      }
);
      answer.put(camelContext.getName(),services);
    }
  }
  return answer;
}
