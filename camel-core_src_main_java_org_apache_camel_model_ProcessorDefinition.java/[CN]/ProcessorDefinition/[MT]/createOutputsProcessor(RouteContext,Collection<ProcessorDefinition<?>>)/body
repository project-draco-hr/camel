{
  List<Processor> list=new ArrayList<Processor>();
  for (  ProcessorDefinition<?> output : outputs) {
    output.preCreateProcessor();
    resolvePropertyPlaceholders(routeContext,output);
    resolveKnownConstantFields(output);
    ProcessorDefinition<?> me=(ProcessorDefinition<?>)output;
    if (me instanceof ExpressionNode) {
      ExpressionNode exp=(ExpressionNode)me;
      ExpressionDefinition expressionDefinition=exp.getExpression();
      if (expressionDefinition != null) {
        resolvePropertyPlaceholders(routeContext,expressionDefinition);
        resolveKnownConstantFields(expressionDefinition);
      }
    }
    Processor processor=null;
    if (routeContext.getCamelContext().getProcessorFactory() != null) {
      processor=routeContext.getCamelContext().getProcessorFactory().createProcessor(routeContext,output);
    }
    if (processor == null) {
      processor=output.createProcessor(routeContext);
    }
    if (output instanceof Channel && processor == null) {
      continue;
    }
    Processor channel=wrapChannel(routeContext,processor,output);
    list.add(channel);
  }
  Processor processor=null;
  if (!list.isEmpty()) {
    if (list.size() == 1) {
      processor=list.get(0);
    }
 else {
      processor=createCompositeProcessor(routeContext,list);
    }
  }
  return processor;
}
