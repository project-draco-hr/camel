{
  Processor processor=null;
  preCreateProcessor();
  resolvePropertyPlaceholders(routeContext,this);
  resolveKnownConstantFields(this);
  ProcessorDefinition me=(ProcessorDefinition)this;
  if (me instanceof ExpressionNode) {
    ExpressionNode exp=(ExpressionNode)me;
    ExpressionDefinition expressionDefinition=exp.getExpression();
    if (expressionDefinition != null) {
      resolvePropertyPlaceholders(routeContext,expressionDefinition);
      resolveKnownConstantFields(expressionDefinition);
    }
  }
  if (routeContext.getCamelContext().getProcessorFactory() != null) {
    processor=routeContext.getCamelContext().getProcessorFactory().createProcessor(routeContext,this);
  }
  if (processor == null) {
    processor=createProcessor(routeContext);
  }
  if (processor == null) {
    return null;
  }
  return wrapProcessor(routeContext,processor);
}
