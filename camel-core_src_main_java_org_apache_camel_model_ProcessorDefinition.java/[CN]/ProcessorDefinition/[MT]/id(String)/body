{
  if (isOutputSupported() && getOutputs().isEmpty()) {
    setId(id);
  }
 else {
    List<ProcessorDefinition<?>> outputs=getOutputs();
    if (!blocks.isEmpty()) {
      if (blocks.getLast() instanceof ProcessorDefinition) {
        ProcessorDefinition<?> block=(ProcessorDefinition<?>)blocks.getLast();
        if (!block.getOutputs().isEmpty()) {
          outputs=block.getOutputs();
        }
      }
    }
    if (!getOutputs().isEmpty()) {
      outputs.get(outputs.size() - 1).setId(id);
    }
 else {
      setId(id);
    }
  }
  return (Type)this;
}
