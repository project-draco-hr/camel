{
  Map<String,String> contextProps=context.getProperties();
  contextProps.put(XMLSecurityDataFormat.XML_ENC_TRUST_STORE_URL,getClass().getClassLoader().getResource("sender.ts").toString());
  contextProps.put(XMLSecurityDataFormat.XML_ENC_TRUST_STORE_PASSWORD,"password");
  contextProps.put(XMLSecurityDataFormat.XML_ENC_RECIPIENT_ALIAS,"recipient");
  contextProps.put(XMLSecurityDataFormat.XML_ENC_KEY_STORE_URL,getClass().getClassLoader().getResource("recipient.ks").toString());
  contextProps.put(XMLSecurityDataFormat.XML_ENC_KEY_STORE_PASSWORD,"password");
  contextProps.put(XMLSecurityDataFormat.XML_ENC_KEY_STORE_ALIAS,"recipient");
  context.addRoutes(new RouteBuilder(){
    public void configure(){
      from("direct:start").marshal().secureXML("",true,null,testCypherAlgorithm,XMLCipher.RSA_v1dot5).to("mock:encrypted").unmarshal().secureXML("",true,null,testCypherAlgorithm,XMLCipher.RSA_v1dot5).to("mock:decrypted");
    }
  }
);
  testDecryption();
}
