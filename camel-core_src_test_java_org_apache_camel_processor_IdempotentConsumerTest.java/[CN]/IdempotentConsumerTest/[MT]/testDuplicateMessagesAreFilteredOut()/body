{
  sendMessage("1","one");
  sendMessage("2","two");
  sendMessage("1","one");
  sendMessage("2","two");
  sendMessage("1","one");
  sendMessage("3","three");
  boolean received=latch.await(20,TimeUnit.SECONDS);
  assertTrue("Did not receive the message!",received);
  assertEquals("Should have received 3 responses: " + receivedBodies,3,receivedBodies.size());
  assertEquals("received bodies",Arrays.asList(new Object[]{"one","two","three"}),receivedBodies);
  log.debug("Received bodies: " + receivedBodies);
}
