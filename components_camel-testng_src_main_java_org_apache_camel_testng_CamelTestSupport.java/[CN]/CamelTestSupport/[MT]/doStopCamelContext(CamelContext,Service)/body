{
  if (camelContextService != null) {
    if (camelContextService == threadService.get()) {
      threadService.remove();
    }
    camelContextService.stop();
    camelContextService=null;
  }
 else {
    if (context != null) {
      if (context == threadCamelContext.get()) {
        threadCamelContext.remove();
      }
      context.stop();
      context=null;
    }
  }
}
