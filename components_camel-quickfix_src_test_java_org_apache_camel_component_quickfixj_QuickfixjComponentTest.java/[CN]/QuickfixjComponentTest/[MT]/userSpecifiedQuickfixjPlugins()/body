{
  setUpComponent(true);
  settings.setString(sessionID,SessionFactory.SETTING_CONNECTION_TYPE,SessionFactory.INITIATOR_CONNECTION_TYPE);
  settings.setLong(sessionID,Initiator.SETTING_SOCKET_CONNECT_PORT,1234);
  writeSettings();
  component.createEndpoint(getEndpointUri(settingsFile.getName(),null));
  component.start();
  assertThat(component.getEngines().size(),is(1));
  QuickfixjEngine engine=component.getEngines().values().iterator().next();
  assertThat(engine.getMessageFactory(),is(engineMessageFactory));
  assertThat(engine.getMessageStoreFactory(),is(engineMessageStoreFactory));
  assertThat(engine.getLogFactory(),is(engineLogFactory));
}
