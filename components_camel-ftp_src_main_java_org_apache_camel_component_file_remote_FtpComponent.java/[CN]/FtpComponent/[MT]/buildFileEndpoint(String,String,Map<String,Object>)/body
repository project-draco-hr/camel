{
  String baseUri=getBaseUri(uri);
  FtpConfiguration config=new FtpConfiguration(new URI(baseUri));
  FtpEndpoint<FTPFile> answer=new FtpEndpoint<FTPFile>(uri,this,config);
  extractAndSetFtpClientConfigParameters(parameters,answer);
  extractAndSetFtpClientParameters(parameters,answer);
  config.setDirectory(remaining);
  config.setDirectoryName(remaining);
  return answer;
}
