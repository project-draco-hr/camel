{
  super(endpoint);
  Registry registry=endpoint.getCamelContext().getRegistry();
  Object service=registry.lookupByName(GitHubConstants.GITHUB_DATA_SERVICE);
  if (service != null) {
    LOG.debug("Using DataService found in registry " + service.getClass().getCanonicalName());
    dataService=(DataService)service;
  }
 else {
    dataService=new DataService();
  }
  initService(dataService);
  if (endpoint.getEncoding() != null) {
    encoding=endpoint.getEncoding();
    if (!encoding.equalsIgnoreCase(Blob.ENCODING_BASE64) && !encoding.equalsIgnoreCase(Blob.ENCODING_UTF8)) {
      throw new IllegalArgumentException("Unknown encoding '" + encoding + "'");
    }
  }
}
