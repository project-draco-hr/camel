{
  return new RouteBuilder(){
    public void configure(){
      from(routerEndpointURI).process(new Processor(){
        @SuppressWarnings("unchecked") public void process(        Exchange exchange) throws Exception {
          Message inMessage=exchange.getIn();
          CxfMessage message=(CxfMessage)inMessage;
          List<Element> elements=message.getMessage().get(List.class);
          assertNotNull("We should get the payload elements here",elements);
          assertEquals("Get the wrong elements size",elements.size(),1);
          assertEquals("Get the wrong namespace URI",elements.get(0).getNamespaceURI(),"http://camel.apache.org/pizza/types");
          List<SoapHeader> headers=CastUtils.cast((List<?>)message.getMessage().get(Header.HEADER_LIST));
          assertNotNull("We should get the headers here",headers);
          assertEquals("Get the wrong headers size",headers.size(),1);
          assertEquals("Get the wrong namespace URI",((Element)(headers.get(0).getObject())).getNamespaceURI(),"http://camel.apache.org/pizza/types");
        }
      }
).to(serviceEndpointURI);
    }
  }
;
}
