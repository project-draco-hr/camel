{
  Callable<Object> task=new Callable<Object>(){
    public Object call() throws Exception {
      return requestBodyAndHeaders(endpoint,body,headers);
    }
  }
;
  if (executor == null) {
    throw new IllegalStateException("ProducerTemplate has not been started");
  }
  return executor.submit(task);
}
