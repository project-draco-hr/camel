{
  Endpoint endpoint=null;
  if (isUseEndpointCache()) {
synchronized (endpointCache) {
      endpoint=endpointCache.get(endpointUri);
      if (endpoint == null) {
        endpoint=context.getEndpoint(endpointUri);
        if (endpoint != null) {
          endpointCache.put(endpointUri,endpoint);
        }
      }
    }
  }
 else {
    endpoint=context.getEndpoint(endpointUri);
  }
  if (endpoint == null) {
    throw new NoSuchEndpointException(endpointUri);
  }
  return endpoint;
}
