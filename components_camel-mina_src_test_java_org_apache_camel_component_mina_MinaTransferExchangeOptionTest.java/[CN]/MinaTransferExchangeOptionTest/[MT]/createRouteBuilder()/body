{
  return new RouteBuilder(){
    public void configure(){
      from(URI).process(new Processor(){
        public void process(        Exchange e) throws InterruptedException {
          Thread.sleep(100);
          Assert.assertNotNull(e.getIn().getBody());
          Assert.assertNotNull(e.getIn().getHeaders());
          Assert.assertNotNull(e.getProperties());
          Assert.assertEquals("Hello!",e.getIn().getBody());
          Assert.assertEquals("feta",e.getIn().getHeader("cheese"));
          Assert.assertEquals("old",e.getProperty("ham"));
          Assert.assertEquals(ExchangePattern.InOut,e.getPattern());
          e.getOut().setBody("Goodbye!");
          e.getOut().setHeader("cheese","cheddar");
          e.setProperty("salami","fresh");
        }
      }
);
    }
  }
;
}
