{
  if (getConnectionResource() != null) {
    if (getConnectionResource() instanceof DefaultConnectionResource) {
      ((DefaultConnectionResource)getConnectionResource()).drainPool();
    }
  }
  super.doStop();
}
