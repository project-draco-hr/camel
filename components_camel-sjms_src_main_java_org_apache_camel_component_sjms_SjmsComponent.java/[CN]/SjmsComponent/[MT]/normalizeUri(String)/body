{
  String tempUri=uri;
  String endpointName=tempUri.substring(0,tempUri.indexOf(":"));
  tempUri=tempUri.substring(endpointName.length());
  if (tempUri.startsWith("://")) {
    tempUri=tempUri.substring(3);
  }
  String protocol=null;
  if (tempUri.indexOf(":") > 0) {
    protocol=tempUri.substring(0,tempUri.indexOf(":"));
  }
  if (ObjectHelper.isEmpty(protocol)) {
    protocol="queue";
  }
 else   if (protocol != null && (protocol.equals("queue") || protocol.equals("topic"))) {
    tempUri=tempUri.substring(protocol.length() + 1);
  }
 else {
    throw new Exception("Unsupported Protocol: " + protocol);
  }
  String path=tempUri;
  uri=endpointName + "://" + protocol+ ":"+ path;
  return uri;
}
