{
  inputs.clear();
  boolean isShutdownCamelContext=camelContext.isStopping();
  if (isShutdownCamelContext || isRemovingRoutes()) {
    for (    LifecycleStrategy strategy : camelContext.getLifecycleStrategies()) {
      strategy.onRoutesRemove(routes);
    }
  }
  for (  Route route : routes) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Stopping route: " + route);
    }
    List<Service> services=route.getServices();
    List<Service> list=new ArrayList<Service>();
    for (    Service service : services) {
      doGetChildServices(list,service);
    }
    stopChildService(route,list,isShutdownCamelContext);
    if (isShutdownCamelContext) {
      ServiceHelper.stopAndShutdownService(route);
    }
 else {
      ServiceHelper.stopService(route);
    }
    EventHelper.notifyRouteStopped(camelContext,route);
  }
  camelContext.removeRouteCollection(routes);
}
