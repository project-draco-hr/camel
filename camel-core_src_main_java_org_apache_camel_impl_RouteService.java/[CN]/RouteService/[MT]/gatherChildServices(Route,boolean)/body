{
  List<Service> services=new ArrayList<Service>();
  services.addAll(route.getServices());
  doGetRouteScopedServices(services,route);
  Set<Service> list=new LinkedHashSet<Service>();
  for (  Service service : services) {
    list.addAll(ServiceHelper.getChildServices(service));
  }
  if (includeErrorHandler) {
    doGetRouteScopedErrorHandler(list,route);
  }
  Set<Service> answer=new LinkedHashSet<Service>();
  answer.addAll(list);
  return answer;
}
