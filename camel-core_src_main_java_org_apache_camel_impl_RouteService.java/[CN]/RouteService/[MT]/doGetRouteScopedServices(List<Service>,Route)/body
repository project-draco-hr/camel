{
  for (  ProcessorDefinition output : route.getRouteContext().getRoute().getOutputs()) {
    if (output instanceof OnExceptionDefinition) {
      OnExceptionDefinition onExceptionDefinition=(OnExceptionDefinition)output;
      if (onExceptionDefinition.isRouteScoped()) {
        Processor errorHandler=onExceptionDefinition.getErrorHandler(route.getId());
        if (errorHandler != null && errorHandler instanceof Service) {
          services.add((Service)errorHandler);
        }
      }
    }
  }
}
