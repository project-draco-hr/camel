{
  MockEndpoint dead=context.getEndpoint("mock:dead",MockEndpoint.class);
  MockEndpoint result=context.getEndpoint("mock:result",MockEndpoint.class);
  dead.expectedBodiesReceived("Hello World");
  dead.message(0).header("org.apache.camel.Redelivered").isEqualTo(true);
  dead.message(0).header("org.apache.camel.RedeliveryCounter").isEqualTo(3);
  result.expectedMessageCount(0);
  try {
    template.sendBody("direct:in","Hello World");
  }
 catch (  Exception e) {
  }
  result.assertIsSatisfied();
  dead.assertIsSatisfied();
}
