{
  MQTTConfiguration configuration=new MQTTConfiguration();
  if (host != null) {
    configuration.setHost(host);
  }
  if (userName != null) {
    configuration.setUserName(userName);
  }
  if (password != null) {
    configuration.setPassword(password);
  }
  setProperties(configuration,parameters);
  MQTTEndpoint endpoint=new MQTTEndpoint(uri,this,configuration);
  endpoint.setName(remaining);
  return endpoint;
}
