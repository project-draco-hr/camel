{
  if (sequence % concurrentConsumers == ordinal) {
    try {
      process(event);
    }
 catch (    Exception e) {
      final Exchange exchange=event.getExchange();
      if (exchange != null) {
        getExceptionHandler().handleException("Error processing exchange",exchange,e);
      }
 else {
        getExceptionHandler().handleException(e);
      }
    }
  }
}
