{
  ObjectHelper.notNull(type,"type");
  LOG.trace("Lookups based of type {}",type);
  Map<String,T> beans=new HashMap<String,T>();
  Set<Bean<T>> definitions=BeanProvider.getBeanDefinitions(type,true,true);
  if (definitions == null) {
    return beans;
  }
  for (  Bean<T> bean : definitions) {
    if (bean.getName() != null) {
      beans.put(bean.getName(),BeanProvider.getContextualReference(type,bean));
    }
  }
  return beans;
}
