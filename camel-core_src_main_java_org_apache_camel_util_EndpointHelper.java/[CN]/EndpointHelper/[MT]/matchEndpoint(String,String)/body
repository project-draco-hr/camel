{
  try {
    uri=URISupport.normalizeUri(uri);
  }
 catch (  Exception e) {
    throw new ResolveEndpointFailedException(uri,e);
  }
  if (uri.indexOf("://") != -1) {
    String scheme=ObjectHelper.before(uri,"://");
    String path=ObjectHelper.after(uri,"://");
    if (doMatchEndpoint(scheme + ":" + path,pattern)) {
      return true;
    }
  }
 else {
    String scheme=ObjectHelper.before(uri,":");
    String path=ObjectHelper.after(uri,":");
    if (doMatchEndpoint(scheme + "://" + path,pattern)) {
      return true;
    }
  }
  return doMatchEndpoint(uri,pattern);
}
