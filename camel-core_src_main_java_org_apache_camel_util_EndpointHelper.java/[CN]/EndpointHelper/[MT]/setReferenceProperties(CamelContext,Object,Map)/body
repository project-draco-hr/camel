{
  Iterator<Map.Entry> it=parameters.entrySet().iterator();
  while (it.hasNext()) {
    Map.Entry entry=it.next();
    Object key=entry.getKey();
    Object v=entry.getValue();
    String value=v != null ? v.toString() : null;
    if (value != null && isReferenceParameter(value)) {
      Object ref=context.getRegistry().lookup(value.substring(1));
      String name=key.toString();
      if (ref != null) {
        boolean hit=IntrospectionSupport.setProperty(context.getTypeConverter(),bean,name,ref);
        if (hit) {
          if (LOG.isDebugEnabled()) {
            LOG.debug("Configured property: " + name + " on bean: "+ bean+ " with value: "+ ref);
          }
          it.remove();
        }
      }
    }
  }
}
