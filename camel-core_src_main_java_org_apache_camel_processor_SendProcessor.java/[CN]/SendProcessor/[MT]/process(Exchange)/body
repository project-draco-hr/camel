{
  if (!init) {
    init=true;
    Endpoint lookup=exchange.getContext().getEndpoint(destination.getEndpointUri());
    if (lookup instanceof InterceptSendToEndpoint) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("SendTo is intercepted using a interceptSendToEndpoint: " + lookup.getEndpointUri());
      }
      destination=lookup;
    }
  }
  getProducerCache(exchange).doInProducer(destination,exchange,pattern,new ProducerCallback<Exchange>(){
    public Exchange doInProducer(    Producer producer,    Exchange exchange,    ExchangePattern pattern) throws Exception {
      exchange=configureExchange(exchange,pattern);
      producer.process(exchange);
      return exchange;
    }
  }
);
}
