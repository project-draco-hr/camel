{
  MockEndpoint a=getMockEndpoint("mock:a");
  a.expectedMessageCount(1);
  StreamSource message=new StreamSource(new StringReader("<hello>world!</hello>"));
  template.sendBody("direct:a",message);
  assertMockEndpointsSatisfied();
  Exchange exchange=a.getExchanges().get(0);
  StreamCache cache=assertIsInstanceOf(StreamCache.class,exchange.getIn().getBody());
  assertNotNull(cache);
  assertNotSame(message,cache);
}
