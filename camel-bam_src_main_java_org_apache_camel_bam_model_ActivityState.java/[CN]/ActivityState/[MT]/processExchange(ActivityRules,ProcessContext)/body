{
  int messageCount=0;
  Integer count=getReceivedMessageCount();
  if (count != null) {
    messageCount=count.intValue();
  }
  setReceivedMessageCount(++messageCount);
  if (messageCount == 1) {
    onFirstMessage(context);
  }
  int expectedMessages=activityRules.getExpectedMessages();
  if (messageCount == expectedMessages) {
    onExpectedMessage(context);
  }
 else   if (messageCount > expectedMessages) {
    onExcessMessage(context);
  }
  activityRules.processExchange(this,context);
}
