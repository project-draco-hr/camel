{
  MockEndpoint mock=getMockEndpoint("mock:assert");
  mock.expectedBodiesReceivedInAnyOrder("Hello World","Bye World","Hi World");
  ExchangeNotifierBuilder builder=new ExchangeNotifierBuilder(context).from("direct:foo").whenSatisfied(mock).and().from("direct:bar").whenExactlyDone(5).whenAnyReceivedMatches(body().contains("Camel")).create();
  assertEquals(false,builder.matches());
  template.sendBody("direct:foo","Bye World");
  assertEquals(false,builder.matches());
  template.sendBody("direct:foo","Hello World");
  assertEquals(false,builder.matches());
  template.sendBody("direct:bar","Hi World");
  assertEquals(false,builder.matches());
  template.sendBody("direct:foo","Hi World");
  assertEquals(false,builder.matches());
  template.sendBody("direct:bar","Hi Camel");
  assertEquals(false,builder.matches());
  template.sendBody("direct:bar","A");
  template.sendBody("direct:bar","B");
  template.sendBody("direct:bar","C");
  assertEquals(true,builder.matches());
}
