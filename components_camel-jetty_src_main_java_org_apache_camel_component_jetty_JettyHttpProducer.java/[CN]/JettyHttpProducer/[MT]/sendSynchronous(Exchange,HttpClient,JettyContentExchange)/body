{
  doSendExchange(client,httpExchange);
  if (LOG.isTraceEnabled()) {
    LOG.trace("Waiting for HTTP exchange to be done");
  }
  int exchangeState=httpExchange.waitForDoneOrFailure();
  if (LOG.isTraceEnabled()) {
    LOG.trace("HTTP exchange is done with state " + exchangeState);
  }
  if (exchangeState == HttpExchange.STATUS_COMPLETED) {
    getBinding().populateResponse(exchange,httpExchange);
  }
 else   if (exchangeState == HttpExchange.STATUS_EXPIRED) {
    throw new ExchangeTimedOutException(exchange,client.getTimeout());
  }
 else {
    if (exchange.getException() != null) {
      throw exchange.getException();
    }
 else {
      exchange.setException(new CamelExchangeException("JettyClient failed with state " + exchangeState,exchange));
    }
  }
}
