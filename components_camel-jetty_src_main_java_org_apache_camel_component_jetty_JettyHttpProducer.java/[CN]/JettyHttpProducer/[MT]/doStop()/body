{
  super.doStop();
  if (!sharedClient && client != null) {
    client.stop();
    LOG.debug("Stopping client thread pool {}",client.getThreadPool());
    if (client.getThreadPool() instanceof LifeCycle) {
      ((LifeCycle)client.getThreadPool()).stop();
    }
  }
}
