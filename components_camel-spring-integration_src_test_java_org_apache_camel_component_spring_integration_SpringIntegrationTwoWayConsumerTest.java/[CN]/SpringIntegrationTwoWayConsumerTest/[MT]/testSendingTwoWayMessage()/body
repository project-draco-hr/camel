{
  MessageChannel requestChannel=(MessageChannel)applicationContext.getBean("requestChannel");
  Message message=new StringMessage(MESSAGE_BODY);
  message.getHeader().setReturnAddress("responseChannel");
  requestChannel.send(message);
  MessageChannel responseChannel=(MessageChannel)applicationContext.getBean("responseChannel");
  Message responseMessage=responseChannel.receive();
  String result=(String)responseMessage.getPayload();
  assertEquals("Get the wrong result",MESSAGE_BODY + " is processed",result);
}
