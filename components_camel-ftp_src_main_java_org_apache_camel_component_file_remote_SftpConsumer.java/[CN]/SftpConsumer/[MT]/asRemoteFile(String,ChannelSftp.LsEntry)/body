{
  RemoteFile<ChannelSftp.LsEntry> answer=new RemoteFile<ChannelSftp.LsEntry>();
  answer.setEndpointPath(endpointPath);
  answer.setFile(file);
  answer.setFileName(file.getFilename());
  answer.setFileLength(file.getAttrs().getSize());
  answer.setLastModified(file.getAttrs().getMTime() * 1000L);
  answer.setHostname(((RemoteFileConfiguration)endpoint.getConfiguration()).getHost());
  answer.setAbsolute(false);
  String absoluteFileName=(ObjectHelper.isNotEmpty(directory) ? directory + "/" : "") + file.getFilename();
  answer.setAbsoluteFileName(absoluteFileName);
  String relativePath=ObjectHelper.after(absoluteFileName,endpointPath);
  if (relativePath.startsWith("/")) {
    relativePath=relativePath.substring(1);
  }
  answer.setRelativeFileName(relativePath);
  return answer;
}
