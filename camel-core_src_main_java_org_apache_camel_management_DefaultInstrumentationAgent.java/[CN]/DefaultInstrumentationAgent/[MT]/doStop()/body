{
  if (cs != null) {
    try {
      cs.stop();
    }
 catch (    IOException e) {
    }
    cs=null;
  }
  Object[] mBeans=mbeans.toArray();
  int caught=0;
  for (  Object name : mBeans) {
    mbeans.remove(name);
    try {
      unregister((ObjectName)name);
    }
 catch (    JMException jmex) {
      LOG.info("Exception unregistering MBean",jmex);
      caught++;
    }
  }
  if (caught > 0) {
    LOG.warn("A number of " + caught + " exceptions caught while unregistering MBeans during stop operation."+ " See INFO log for details.");
  }
}
