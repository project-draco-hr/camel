{
  Message in=exchange.getIn();
  CamelContext context=endpoint.getCamelContext();
  Map map=context.getTypeConverter().convertTo(Map.class,exchange,in.getBody());
  Dictionary dict=new Hashtable();
  for (  Object key : map.keySet()) {
    String keyString=CamelContextHelper.convertTo(context,String.class,key);
    if (keyString != null) {
      Object val=map.get(key);
      dict.put(keyString,val);
    }
  }
  return dict;
}
