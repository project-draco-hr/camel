{
  SchemeRegistry schemeRegistry=new SchemeRegistry();
  HttpParams params=new BasicHttpParams();
  ConnManagerParamBean param=new ConnManagerParamBean(params);
  if (getMaxTotalConnections() > 0) {
    param.setMaxTotalConnections(getMaxTotalConnections());
  }
  if (getConnectionsPerRoute() > 0) {
    param.setConnectionsPerRoute(new ConnPerRouteBean(getConnectionsPerRoute()));
  }
  ThreadSafeClientConnManager answer=new ThreadSafeClientConnManager(params,schemeRegistry);
  LOG.info("Created ClientConnectionManager " + answer);
  return answer;
}
