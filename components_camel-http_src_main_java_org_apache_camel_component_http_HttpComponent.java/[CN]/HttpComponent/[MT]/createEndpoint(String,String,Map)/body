{
  HttpClientParams params=new HttpClientParams();
  IntrospectionSupport.setProperties(params,parameters,"httpClient.");
  URI httpUri=new URI(uri);
  String part=httpUri.getSchemeSpecificPart();
  if (part != null) {
    part=part.toLowerCase();
    if (part.startsWith("//http://") || part.startsWith("//https://")) {
      throw new ResolveEndpointFailedException(uri,"The uri part is not configured correctly. You have duplicated the http(s) protocol.");
    }
  }
  return new HttpEndpoint(uri,this,httpUri,params,httpConnectionManager,httpClientConfigurer);
}
