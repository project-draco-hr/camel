{
  if (strategy == null) {
    return;
  }
  Map<String,List<String>> cxfHeaders=CastUtils.cast((Map)message.get(Message.PROTOCOL_HEADERS));
  if (cxfHeaders != null) {
    for (    Map.Entry<String,List<String>> entry : cxfHeaders.entrySet()) {
      if (!strategy.applyFilterToExternalHeaders(entry.getKey(),entry.getValue(),exchange)) {
        headers.put(entry.getKey(),entry.getValue().get(0));
      }
    }
  }
  String key=Message.CONTENT_TYPE;
  Object value=message.get(key);
  if (value != null && !strategy.applyFilterToExternalHeaders(key,value,exchange)) {
    headers.put(Exchange.CONTENT_TYPE,value);
  }
  key=Client.REQUEST_CONTEXT;
  value=message.get(key);
  if (value != null && !strategy.applyFilterToExternalHeaders(key,value,exchange)) {
    headers.put(key,value);
  }
  key=Client.RESPONSE_CONTEXT;
  value=message.get(key);
  if (value != null && !strategy.applyFilterToExternalHeaders(key,value,exchange)) {
    headers.put(key,value);
  }
  key=Message.RESPONSE_CODE;
  value=message.get(key);
  if (value != null && !strategy.applyFilterToExternalHeaders(key,value,exchange)) {
    headers.put(Exchange.HTTP_RESPONSE_CODE,value);
  }
}
