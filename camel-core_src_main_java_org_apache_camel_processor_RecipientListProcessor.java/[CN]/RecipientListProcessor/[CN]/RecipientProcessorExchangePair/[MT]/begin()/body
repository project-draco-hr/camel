{
  LOG.trace("RecipientProcessorExchangePair #{} begin: {}",index,exchange);
  exchange.setProperty(Exchange.RECIPIENT_LIST_ENDPOINT,endpoint.getEndpointUri());
  MessageHelper.resetStreamCache(exchange.getIn());
  if (endpoint instanceof DefaultEndpoint) {
    ExchangePattern pattern=((DefaultEndpoint)endpoint).getExchangePattern();
    if (pattern != null && !pattern.equals(exchange.getPattern())) {
      LOG.trace("Using exchangePattern: {} on exchange: {}",pattern,exchange);
      exchange.setPattern(pattern);
    }
  }
}
