{
  if (recipient instanceof String) {
    String s=((String)recipient).trim();
    s=URISupport.normalizeUri(s);
    URI url=new URI(s);
    Map<String,Object> parameters=URISupport.parseParameters(url);
    String pattern=(String)parameters.get("exchangePattern");
    if (pattern != null) {
      return ExchangePattern.asEnum(pattern);
    }
  }
  return null;
}
