{
  SslSelectChannelConnector sslSocketConnector=null;
  if (sslContextParameters != null) {
    SslContextFactory sslContextFactory=new WebSocketComponentSslContextFactory();
    try {
      sslContextFactory.setSslContext(sslContextParameters.createSSLContext());
    }
 catch (    Exception e) {
      throw new RuntimeCamelException("Error initiating SSLContext.",e);
    }
    sslSocketConnector=new SslSelectChannelConnector(sslContextFactory);
  }
 else {
    sslSocketConnector=new SslSelectChannelConnector();
    sslSocketConnector.getSslContextFactory().setKeyManagerPassword(sslPassword);
    sslSocketConnector.getSslContextFactory().setKeyStorePassword(sslKeyPassword);
    if (sslKeystore != null) {
      sslSocketConnector.getSslContextFactory().setKeyStorePath(sslKeystore);
    }
  }
  return sslSocketConnector;
}
