{
  if (!HystrixRequestContext.isCurrentThreadInitialized()) {
    HystrixRequestContext customRequestContext=exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_REQUEST_CONTEXT_KEY,HystrixRequestContext.class);
    if (customRequestContext != null) {
      HystrixRequestContext.setContextOnCurrentThread(customRequestContext);
    }
 else {
      HystrixRequestContext.setContextOnCurrentThread(requestContext);
      exchange.getIn().setHeader(HystrixConstants.CAMEL_HYSTRIX_REQUEST_CONTEXT_KEY,requestContext);
    }
  }
}
