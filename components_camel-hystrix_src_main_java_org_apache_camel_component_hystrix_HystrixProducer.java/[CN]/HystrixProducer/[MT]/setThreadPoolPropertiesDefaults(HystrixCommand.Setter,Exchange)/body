{
  HystrixThreadPoolProperties.Setter threadPoolProperties=HystrixThreadPoolProperties.Setter();
  setter.andThreadPoolPropertiesDefaults(threadPoolProperties);
  if (exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_THREAD_POOL_KEY,configuration.getThreadPoolKey(),String.class) != null) {
    setter.andThreadPoolKey(HystrixThreadPoolKey.Factory.asKey(exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_THREAD_POOL_KEY,configuration.getThreadPoolKey(),String.class)));
  }
  if (exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_CORE_SIZE,configuration.getCoreSize(),Integer.class) != null) {
    threadPoolProperties.withCoreSize(exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_CORE_SIZE,configuration.getCoreSize(),Integer.class));
  }
  if (exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_KEEP_ALIVE_TIME,configuration.getKeepAliveTime(),Integer.class) != null) {
    threadPoolProperties.withKeepAliveTimeMinutes(exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_KEEP_ALIVE_TIME,configuration.getKeepAliveTime(),Integer.class));
  }
  if (exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_MAX_QUEUE_SIZE,configuration.getMaxQueueSize(),Integer.class) != null) {
    threadPoolProperties.withMaxQueueSize(exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_MAX_QUEUE_SIZE,configuration.getMaxQueueSize(),Integer.class));
  }
  if (exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_QUEUE_SIZE_REJECTION_THRESHOLD,configuration.getQueueSizeRejectionThreshold(),Integer.class) != null) {
    threadPoolProperties.withQueueSizeRejectionThreshold(exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_QUEUE_SIZE_REJECTION_THRESHOLD,configuration.getQueueSizeRejectionThreshold(),Integer.class));
  }
  if (exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_THREAD_POOL_METRICS_ROLLING_STATISTICAL_WINDOW_IN_MILLISECONDS,configuration.getThreadPoolMetricsRollingStatisticalWindowInMilliseconds(),Integer.class) != null) {
    threadPoolProperties.withMetricsRollingStatisticalWindowInMilliseconds(exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_THREAD_POOL_METRICS_ROLLING_STATISTICAL_WINDOW_IN_MILLISECONDS,configuration.getThreadPoolMetricsRollingStatisticalWindowInMilliseconds(),Integer.class));
  }
  if (exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_THREAD_POOL_ROLLING_NUMBER_STATISTICAL_WINDOW_BUCKETS,configuration.getThreadPoolMetricsRollingStatisticalWindowBuckets(),Integer.class) != null) {
    threadPoolProperties.withMetricsRollingStatisticalWindowBuckets(exchange.getIn().getHeader(HystrixConstants.CAMEL_HYSTRIX_THREAD_POOL_ROLLING_NUMBER_STATISTICAL_WINDOW_BUCKETS,configuration.getThreadPoolMetricsRollingStatisticalWindowBuckets(),Integer.class));
  }
}
