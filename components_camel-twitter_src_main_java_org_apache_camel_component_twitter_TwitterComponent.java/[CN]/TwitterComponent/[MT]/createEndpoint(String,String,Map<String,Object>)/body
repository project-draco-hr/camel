{
  TwitterProperties properties=new TwitterProperties();
  setProperties(properties,parameters);
  TwitterEndpoint endpoint=null;
switch (EndpointType.fromUri(properties.getType())) {
case POLLING:
    endpoint=new TwitterEndpointPolling(uri,this,properties);
  break;
default :
endpoint=new TwitterEndpointDirect(uri,this,properties);
break;
}
endpoint.initiate();
return endpoint;
}
