{
  if (projectClassLoader == null) {
    final List classpathElements;
    try {
      classpathElements=project.getRuntimeClasspathElements();
    }
 catch (    org.apache.maven.artifact.DependencyResolutionRequiredException e) {
      throw new MojoExecutionException(e.getMessage(),e);
    }
    final URL[] urls=new URL[classpathElements.size()];
    int i=0;
    for (Iterator it=classpathElements.iterator(); it.hasNext(); i++) {
      try {
        urls[i]=new File((String)it.next()).toURI().toURL();
      }
 catch (      MalformedURLException e) {
        throw new MojoExecutionException(e.getMessage(),e);
      }
    }
    projectClassLoader=new URLClassLoader(urls,Thread.currentThread().getContextClassLoader());
  }
  return projectClassLoader;
}
