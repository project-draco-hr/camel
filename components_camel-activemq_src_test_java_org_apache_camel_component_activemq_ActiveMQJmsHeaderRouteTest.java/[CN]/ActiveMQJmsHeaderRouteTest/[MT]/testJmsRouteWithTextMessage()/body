{
  MockEndpoint resultEndpoint=resolveMandatoryEndpoint("mock:result",MockEndpoint.class);
  resultEndpoint.expectedBodiesReceived(expectedBody);
  resultEndpoint.message(0).header("cheese").isEqualTo(123);
  resultEndpoint.message(0).header("JMSReplyTo").convertTo(String.class).isEqualTo(replyQueue.toString());
  resultEndpoint.message(0).header("JMSCorrelationID").isEqualTo(correlationID);
  resultEndpoint.message(0).header("JMSType").isEqualTo(messageType);
  template.sendBodyAndHeader("activemq:test.a",expectedBody,"cheese",123);
  resultEndpoint.assertIsSatisfied();
}
