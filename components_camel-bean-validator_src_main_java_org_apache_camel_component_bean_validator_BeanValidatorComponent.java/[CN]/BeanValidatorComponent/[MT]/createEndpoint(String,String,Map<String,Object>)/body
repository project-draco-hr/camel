{
  BeanValidator beanValidator=new BeanValidator();
  ValidatorFactory validatorFactory=buildValidatorFactory(isOsgiContext(),resolveAndRemoveReferenceParameter(parameters,"validationProviderResolver",ValidationProviderResolver.class),resolveAndRemoveReferenceParameter(parameters,"messageInterpolator",MessageInterpolator.class),resolveAndRemoveReferenceParameter(parameters,"traversableResolver",TraversableResolver.class),resolveAndRemoveReferenceParameter(parameters,"constraintValidatorFactory",ConstraintValidatorFactory.class));
  beanValidator.setValidatorFactory(validatorFactory);
  String group=getAndRemoveParameter(parameters,"group",String.class);
  if (group != null) {
    beanValidator.setGroup(getCamelContext().getClassResolver().resolveMandatoryClass(group));
  }
  return new ProcessorEndpoint(uri,this,beanValidator);
}
