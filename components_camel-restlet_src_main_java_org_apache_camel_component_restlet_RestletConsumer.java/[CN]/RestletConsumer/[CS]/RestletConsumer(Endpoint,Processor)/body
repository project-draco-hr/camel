{
  super(endpoint,processor);
  restlet=new Restlet(){
    @Override public void handle(    Request request,    Response response){
      LOG.debug("Consumer restlet handle request method: {}",request.getMethod());
      try {
        Exchange exchange=getEndpoint().createExchange();
        RestletBinding binding=getEndpoint().getRestletBinding();
        binding.populateExchangeFromRestletRequest(request,response,exchange);
        try {
          getProcessor().process(exchange);
        }
 catch (        Exception e) {
          exchange.setException(e);
        }
        binding.populateRestletResponseFromExchange(exchange,response);
      }
 catch (      Exception e) {
        throw new RuntimeCamelException("Cannot process request",e);
      }
    }
  }
;
}
