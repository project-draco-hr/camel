{
  ChannelFuture future;
  if (remoteAddress != null) {
    if (log.isDebugEnabled()) {
      log.debug("Channel: {} remote address: {} writing body: {}",new Object[]{channel,remoteAddress,body});
    }
    future=channel.write(body,remoteAddress);
  }
 else {
    if (log.isDebugEnabled()) {
      log.debug("Channel: {} writing body: {}",new Object[]{channel,body});
    }
    future=channel.write(body);
  }
  if (listener != null) {
    future.addListener(listener);
  }
}
