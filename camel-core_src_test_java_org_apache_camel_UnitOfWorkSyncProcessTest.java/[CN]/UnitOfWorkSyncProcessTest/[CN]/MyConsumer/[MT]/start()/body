{
  consumerThread=Thread.currentThread().getName();
  Exchange exchange=new DefaultExchange(context);
  exchange.setProperty(Exchange.UNIT_OF_WORK_PROCESS_SYNC,true);
  exchange.addOnCompletion(new SynchronizationAdapter(){
    @Override public void onDone(    Exchange exchange){
      doneThread=Thread.currentThread().getName();
    }
  }
);
  processor.process(exchange);
}
