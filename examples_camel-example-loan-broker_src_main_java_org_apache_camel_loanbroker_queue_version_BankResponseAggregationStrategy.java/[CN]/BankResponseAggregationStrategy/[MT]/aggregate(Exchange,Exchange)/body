{
  LOG.debug("oldExchange: {}, newExchange: {}",oldExchange,newExchange);
  if (oldExchange == null) {
    return newExchange;
  }
  Message oldMessage;
  Message newMessage;
  oldMessage=oldExchange.getIn();
  newMessage=newExchange.getIn();
  Double oldRate=oldMessage.getHeader(Constants.PROPERTY_RATE,Double.class);
  Double newRate=newMessage.getHeader(Constants.PROPERTY_RATE,Double.class);
  Exchange result;
  if (newRate >= oldRate) {
    result=oldExchange;
  }
 else {
    result=newExchange;
  }
  LOG.debug("Lowest rate exchange: {}",result);
  return result;
}
