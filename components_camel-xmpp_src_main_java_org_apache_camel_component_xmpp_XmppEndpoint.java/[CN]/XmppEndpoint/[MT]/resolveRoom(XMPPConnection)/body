{
  ObjectHelper.notEmpty(room,"room");
  if (room.indexOf('@',0) != -1) {
    return room;
  }
  Iterator<String> iterator=MultiUserChat.getServiceNames(connection).iterator();
  if (!iterator.hasNext()) {
    throw new XMPPErrorException("Cannot find Multi User Chat service",new XMPPError(new XMPPError.Condition("Cannot find Multi User Chat service on connection: " + getConnectionMessage(connection))));
  }
  String chatServer=iterator.next();
  LOG.debug("Detected chat server: {}",chatServer);
  return room + "@" + chatServer;
}
