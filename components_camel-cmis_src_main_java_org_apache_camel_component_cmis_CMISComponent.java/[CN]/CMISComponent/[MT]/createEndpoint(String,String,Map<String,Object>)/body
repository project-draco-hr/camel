{
  boolean queryMode=removeQueryMode(parameters);
  CMISSessionFacade sessionFacade=new CMISSessionFacade(remaining);
  setProperties(sessionFacade,parameters);
  CMISEndpoint endpoint=new CMISEndpoint(uri,this,new CMISSessionFacadeFactory(){
    @Override public CMISSessionFacade create() throws Exception {
      CMISSessionFacade sessionFacade=new CMISSessionFacade(remaining);
      setProperties(sessionFacade,parameters);
      return sessionFacade;
    }
  }
);
  endpoint.setQueryMode(queryMode);
  return endpoint;
}
