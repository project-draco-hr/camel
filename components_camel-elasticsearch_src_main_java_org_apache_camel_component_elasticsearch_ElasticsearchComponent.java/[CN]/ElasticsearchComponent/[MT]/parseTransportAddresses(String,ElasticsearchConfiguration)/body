{
  if (ipsString == null || ipsString.isEmpty()) {
    return null;
  }
  List<String> addressesStr=Arrays.asList(ipsString.split(ElasticsearchConstants.TRANSPORT_ADDRESSES_SEPARATOR_REGEX));
  List<InetSocketTransportAddress> addressesTrAd=new ArrayList<InetSocketTransportAddress>(addressesStr.size());
  for (  String address : addressesStr) {
    String[] split=address.split(ElasticsearchConstants.IP_PORT_SEPARATOR_REGEX);
    String hostname;
    if (split.length > 0) {
      hostname=split[0];
    }
 else {
      throw new IllegalArgumentException();
    }
    Integer port=split.length > 1 ? Integer.parseInt(split[1]) : ElasticsearchConstants.DEFAULT_PORT;
    addressesTrAd.add(new InetSocketTransportAddress(hostname,port));
  }
  return addressesTrAd;
}
