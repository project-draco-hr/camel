{
  if (mailMessage != null) {
    try {
      Enumeration names=mailMessage.getAllHeaders();
      while (names.hasMoreElements()) {
        Header header=(Header)names.nextElement();
        String value=header.getValue();
        String name=header.getName();
        CollectionHelper.appendValue(map,name,value);
      }
    }
 catch (    MessagingException e) {
      throw new RuntimeCamelException("Error accessing headers due to: " + e.getMessage(),e);
    }
  }
}
