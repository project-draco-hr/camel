{
  deleteDirectory("target/file2file");
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(1);
  template.sendBodyAndHeader("newfile://target/file2file/in","Hello World",FileComponent.HEADER_FILE_NAME,"hello.txt");
  assertMockEndpointsSatisfied();
  Thread.sleep(100);
  File file=new File("./target/file2file/out/hello.txt");
  file=file.getAbsoluteFile();
  assertTrue("The file should exists",file.exists());
}
