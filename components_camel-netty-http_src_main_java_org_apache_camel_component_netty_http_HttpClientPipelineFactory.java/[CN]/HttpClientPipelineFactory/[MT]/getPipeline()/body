{
  ChannelPipeline pipeline=Channels.pipeline();
  SslHandler sslHandler=configureClientSSLOnDemand();
  if (sslHandler != null) {
    sslHandler.setCloseOnSSLException(true);
    LOG.debug("Client SSL handler configured and added as an interceptor against the ChannelPipeline: {}",sslHandler);
    pipeline.addLast("ssl",sslHandler);
  }
  pipeline.addLast("http",new HttpClientCodec());
  pipeline.addLast("handler",new HttpClientChannelHandler(producer));
  return pipeline;
}
