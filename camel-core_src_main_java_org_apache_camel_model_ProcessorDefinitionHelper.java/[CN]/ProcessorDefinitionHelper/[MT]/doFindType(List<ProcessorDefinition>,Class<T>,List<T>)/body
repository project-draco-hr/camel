{
  if (outputs == null || outputs.isEmpty()) {
    return;
  }
  for (  ProcessorDefinition out : outputs) {
    if (type.isInstance(out)) {
      found.add((T)out);
    }
    if (out instanceof SendDefinition) {
      SendDefinition send=(SendDefinition)out;
      List<ProcessorDefinition> children=send.getOutputs();
      doFindType(children,type,found);
    }
    if (out instanceof ChoiceDefinition) {
      ChoiceDefinition choice=(ChoiceDefinition)out;
      for (      WhenDefinition when : choice.getWhenClauses()) {
        List<ProcessorDefinition> children=when.getOutputs();
        doFindType(children,type,found);
      }
      if (choice.getOtherwise() != null) {
        List<ProcessorDefinition> children=choice.getOtherwise().getOutputs();
        doFindType(children,type,found);
      }
    }
    List<ProcessorDefinition> children=out.getOutputs();
    doFindType(children,type,found);
  }
}
