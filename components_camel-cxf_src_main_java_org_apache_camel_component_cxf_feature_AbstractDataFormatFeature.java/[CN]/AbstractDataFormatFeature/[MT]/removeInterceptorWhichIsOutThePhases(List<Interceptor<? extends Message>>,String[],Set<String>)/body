{
  for (  Interceptor<? extends Message> i : interceptors) {
    boolean outside=false;
    if (i instanceof PhaseInterceptor) {
      PhaseInterceptor<? extends Message> p=(PhaseInterceptor<? extends Message>)i;
      for (      String phaseName : phaseNames) {
        if (p.getPhase().equals(phaseName)) {
          outside=true;
          break;
        }
      }
      if (!outside) {
        if (needToBeKept == null) {
          getLogger().info("removing the interceptor " + p);
          interceptors.remove(p);
        }
 else         if (!needToBeKept.contains(p.getClass().getName())) {
          getLogger().info("removing the interceptor " + p);
          interceptors.remove(p);
        }
      }
    }
  }
}
