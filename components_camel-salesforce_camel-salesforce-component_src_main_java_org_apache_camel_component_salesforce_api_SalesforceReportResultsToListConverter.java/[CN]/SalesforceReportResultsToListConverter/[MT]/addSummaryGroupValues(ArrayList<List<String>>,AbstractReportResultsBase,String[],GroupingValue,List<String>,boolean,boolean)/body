{
  final ReportFactWithDetails factWithDetails=reportResults.getFactMap().get(groupingValue.getKey() + "!T");
  final List<String> newPrefix=new ArrayList<String>(rowPrefix);
  newPrefix.add(groupingValue.getLabel());
  final GroupingValue[] groupings=groupingValue.getGroupings();
  if (groupings.length > 0) {
    for (    GroupingValue subGroup : groupings) {
      addSummaryGroupValues(result,reportResults,columnNames,subGroup,newPrefix,includeDetails,includeSummary);
    }
  }
 else   if (includeDetails) {
    addDetailRows(result,newPrefix,factWithDetails);
  }
 else   if (!includeSummary) {
    result.add(newPrefix);
  }
  if (includeSummary) {
    final SummaryValue[] summaryValues=factWithDetails.getAggregates();
    final String[] aggregates=reportResults.getReportMetadata().getAggregates();
    addSummaryValues(result,includeDetails,columnNames,newPrefix,aggregates,summaryValues);
  }
}
