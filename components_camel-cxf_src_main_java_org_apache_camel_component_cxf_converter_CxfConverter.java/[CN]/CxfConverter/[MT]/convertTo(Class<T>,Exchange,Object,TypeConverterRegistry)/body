{
  if (MessageContentsList.class.isAssignableFrom(value.getClass())) {
    MessageContentsList list=(MessageContentsList)value;
    for (    Object embedded : list) {
      if (embedded != null) {
        if (type.isInstance(embedded)) {
          return type.cast(embedded);
        }
 else {
          TypeConverter tc=registry.lookup(type,embedded.getClass());
          if (tc != null) {
            return tc.convertTo(type,exchange,embedded);
          }
        }
      }
    }
  }
  return null;
}
