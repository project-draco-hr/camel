{
  return new RouteBuilder(){
    public void configure(){
      getContext().getComponent("sql",SqlComponent.class).setDataSource(db);
      from("direct:start").to("sql:select * from projects order by id?outputType=StreamList").to("log:stream").to("mock:result");
      from("direct:withSplit").to("sql:select * from projects order by id?outputType=StreamList").to("log:stream").split(body()).streaming().to("log:row").to("mock:result").end();
      from("direct:withSplitModel").to("sql:select * from projects order by id?outputType=StreamList&outputClass=org.apache.camel.component.sql.ProjectModel").to("log:stream").split(body()).streaming().to("log:row").to("mock:result").end();
    }
  }
;
}
