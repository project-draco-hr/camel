{
  context=createCamelContext();
  assertValidContext(context);
  template=context.createProducerTemplate();
  if (useRouteBuilder) {
    RouteBuilder[] builders=createRouteBuilders();
    for (    RouteBuilder builder : builders) {
      log.debug("Using created route builder: " + builder);
      context.addRoutes(builder);
    }
  }
 else {
    log.debug("Using route builder from the created context: " + context);
  }
  startCamelContext();
  log.debug("Routing Rules are: " + context.getRoutes());
}
