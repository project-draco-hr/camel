{
  context=createCamelContext();
  template=new CamelTemplate<Exchange>(context);
  if (useRouteBuilder) {
    RouteBuilder builder=createRouteBuilder();
    log.debug("Using created route builder: " + builder);
    context.addRoutes(builder);
  }
 else {
    log.debug("Using route builder from the created context: " + context);
  }
  if (camelContextService != null) {
    camelContextService.start();
  }
 else {
    context.start();
  }
  log.debug("Routing Rules are: " + context.getRoutes());
}
