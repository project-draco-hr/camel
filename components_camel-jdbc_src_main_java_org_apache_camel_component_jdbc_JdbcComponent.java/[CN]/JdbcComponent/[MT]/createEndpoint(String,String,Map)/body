{
  DataSource dataSource;
  if (ds != null) {
    dataSource=ds;
  }
 else {
    dataSource=getCamelContext().getRegistry().lookup(remaining,DataSource.class);
    if (dataSource == null) {
      throw new IllegalArgumentException("DataSource " + remaining + " not found in registry");
    }
  }
  JdbcEndpoint jdbc=new JdbcEndpoint(uri,this,dataSource);
  setProperties(jdbc,parameters);
  return jdbc;
}
