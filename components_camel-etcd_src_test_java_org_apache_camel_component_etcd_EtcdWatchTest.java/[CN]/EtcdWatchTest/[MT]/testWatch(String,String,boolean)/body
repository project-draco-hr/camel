{
  MockEndpoint mock=getMockEndpoint(mockEndpoint);
  mock.expectedMessageCount(2);
  mock.expectedHeaderReceived(EtcdConstants.ETCD_PATH,key);
  mock.expectedMessagesMatches(new Predicate(){
    @Override public boolean matches(    Exchange exchange){
      return exchange.getIn().getBody(String.class).startsWith(key + "=myValue-");
    }
  }
);
  if (updateKey) {
    EtcdClient client=getClient();
    client.put(key,"myValue-1").send().get();
    Thread.sleep(250);
    client.put(key,"myValue-2").send().get();
  }
  mock.assertIsSatisfied();
}
