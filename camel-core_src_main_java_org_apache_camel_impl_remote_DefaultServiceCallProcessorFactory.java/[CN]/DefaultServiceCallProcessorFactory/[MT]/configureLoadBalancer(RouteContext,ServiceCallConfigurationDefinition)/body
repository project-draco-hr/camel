{
  ServiceCallLoadBalancer lb=config.getLoadBalancer();
  if (lb == null && config.getLoadBalancerRef() != null) {
    String ref=config.getLoadBalancerRef();
    if ("random".equalsIgnoreCase(ref)) {
      lb=new RandomServiceCallLoadBalancer();
    }
 else     if ("roundrobin".equalsIgnoreCase(ref)) {
      lb=new RoundRobinServiceCallLoadBalancer();
    }
 else {
      lb=CamelContextHelper.mandatoryLookup(routeContext.getCamelContext(),ref,ServiceCallLoadBalancer.class);
    }
  }
  return lb;
}
