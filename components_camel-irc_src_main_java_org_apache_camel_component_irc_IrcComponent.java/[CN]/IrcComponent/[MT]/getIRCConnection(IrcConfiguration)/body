{
  final IRCConnection connection;
  if (connectionCache.containsKey(configuration.getCacheKey())) {
    if (log.isDebugEnabled()) {
      log.debug("Returning Cached Connection to " + configuration.getHostname() + " "+ configuration.getTarget());
    }
    connection=connectionCache.get(configuration.getCacheKey());
  }
 else {
    connection=createConnection(configuration);
    connectionCache.put(configuration.getCacheKey(),connection);
  }
  return connection;
}
