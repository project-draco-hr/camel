{
  LOG.debug("Creating Connection to " + configuration.getHostname() + " destination: "+ configuration.getTarget()+ " nick: "+ configuration.getNickname()+ " user: "+ configuration.getUsername());
  final IRCConnection conn=new IRCConnection(configuration.getHostname(),configuration.getPorts(),configuration.getPassword(),configuration.getNickname(),configuration.getUsername(),configuration.getRealname());
  conn.setEncoding("UTF-8");
  conn.setColors(configuration.isColors());
  conn.setPong(true);
  try {
    conn.connect();
  }
 catch (  Exception e) {
    LOG.error("Failed to connect: " + e,e);
    throw new RuntimeCamelException(e);
  }
  return conn;
}
