{
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(1);
  String name="foo";
  double price=1;
  double amount=2;
  String purchaseOrderXml=String.format("<order2 name='%s' price='%s' amount='%s' />",name,price + "",amount + "");
  template.sendBody("direct:start",purchaseOrderXml);
  assertMockEndpointsSatisfied();
  PurchaseOrder2 body=mock.getReceivedExchanges().get(0).getIn().getBody(PurchaseOrder2.class);
  assertEquals(name,body.getName());
  assertEquals(price,body.getPrice(),1);
  assertEquals(amount,body.getAmount(),1);
}
