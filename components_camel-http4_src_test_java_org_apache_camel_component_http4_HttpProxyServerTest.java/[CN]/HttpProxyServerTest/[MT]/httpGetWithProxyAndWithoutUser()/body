{
  Map<String,String> expectedHeaders=new HashMap<String,String>();
  expectedHeaders.put("Host",getHostName() + ":" + getPort());
  expectedHeaders.put("Proxy-Connection","Keep-Alive");
  proxy.register("*",new HeaderValidationHandler("GET",null,null,getExpectedContent(),expectedHeaders));
  Exchange exchange=template.request("http4://" + getHostName() + ":"+ getPort()+ "?proxyAuthHost="+ getProxyHost()+ "&proxyAuthPort="+ getProxyPort(),new Processor(){
    public void process(    Exchange exchange) throws Exception {
    }
  }
);
  assertExchange(exchange);
}
