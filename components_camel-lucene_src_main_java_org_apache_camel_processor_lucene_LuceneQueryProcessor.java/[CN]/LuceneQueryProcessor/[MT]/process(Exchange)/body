{
  Hits hits;
  String phrase=exchange.getIn().getHeader("QUERY",String.class);
  if (phrase != null) {
    searcher=new LuceneSearcher();
    searcher.open(indexDirectory,analyzer);
    hits=searcher.search(phrase,maxNumberOfHits);
  }
 else {
    throw new IllegalArgumentException("SearchPhrase for LuceneQueryProcessor not set. Set the Header value: QUERY");
  }
  exchange.getIn().setBody(hits);
}
