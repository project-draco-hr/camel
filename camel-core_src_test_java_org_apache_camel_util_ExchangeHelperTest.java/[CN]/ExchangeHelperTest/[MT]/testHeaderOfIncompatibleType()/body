{
  exchange.getIn().setHeader("foo",123);
  try {
    List value=ExchangeHelper.getMandatoryHeader(exchange,"foo",List.class);
    fail("Should have failed but got: " + value);
  }
 catch (  NoSuchHeaderException e) {
    assertEquals("foo",e.getHeaderName());
  }
}
