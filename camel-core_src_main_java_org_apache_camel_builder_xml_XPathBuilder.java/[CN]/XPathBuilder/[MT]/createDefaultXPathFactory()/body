{
  XPathFactory factory=null;
  Properties properties=System.getProperties();
  for (  Map.Entry<Object,Object> prop : properties.entrySet()) {
    String key=(String)prop.getKey();
    if (key.startsWith(XPathFactory.DEFAULT_PROPERTY_NAME)) {
      String uri=ObjectHelper.after(key,":");
      if (uri != null) {
        factory=XPathFactory.newInstance(uri);
        LOG.info("Using system property {} with value {} when created default XPathFactory {}",new Object[]{key,uri,factory});
      }
    }
  }
  if (factory == null) {
    factory=XPathFactory.newInstance();
    LOG.info("Created default XPathFactory {}",factory);
  }
  return factory;
}
