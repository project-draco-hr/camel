{
  transactionTemplate.execute(new TransactionCallback(){
    public Object doInTransaction(    TransactionStatus status){
      try {
        Object key=getCorrelationKey(exchange);
        T entity=loadEntity(exchange,key);
        if (log.isDebugEnabled()) {
          log.debug("Correlation key: " + key + " with entity: "+ entity);
        }
        processEntity(exchange,entity);
        return entity;
      }
 catch (      Exception e) {
        if (log.isDebugEnabled()) {
          log.debug("Caught: " + e,e);
        }
        throw new RuntimeCamelException(e);
      }
    }
  }
);
}
