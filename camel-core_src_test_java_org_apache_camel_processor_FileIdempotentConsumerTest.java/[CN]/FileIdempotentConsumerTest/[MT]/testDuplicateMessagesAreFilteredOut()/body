{
  assertFalse(repo.contains("1"));
  assertFalse(repo.contains("2"));
  assertFalse(repo.contains("3"));
  assertTrue(repo.contains("4"));
  resultEndpoint.expectedBodiesReceived("one","two","three");
  sendMessage("1","one");
  sendMessage("2","two");
  sendMessage("1","one");
  sendMessage("2","two");
  sendMessage("4","four");
  sendMessage("1","one");
  sendMessage("3","three");
  resultEndpoint.assertIsSatisfied();
  assertTrue(repo.contains("1"));
  assertTrue(repo.contains("2"));
  assertTrue(repo.contains("3"));
  assertTrue(repo.contains("4"));
}
