{
  Exchange exchange=new DefaultExchange(new DefaultCamelContext());
  exchange.getIn().setBody("<products><product type='food'><pizza/></product><product type='beer'><stella/></product></products>");
  Object result=xquery(".//product[@type = 'beer']/*").evaluate(exchange,Object.class);
  assertTrue("Should be a document but was: " + className(result),result instanceof Document);
  Document doc=(Document)result;
  assertEquals("Root document element name","stella",doc.getDocumentElement().getLocalName());
  result=xquery(".//product[@type = 'beer']/*").evaluate(exchange,String.class);
  assertEquals("Get a wrong result","<stella/>",result);
}
