{
  getLog().info("Downloading: " + page);
  URL url=new URL(page);
  Document doc=new Tidy().parseDOM(new BufferedInputStream(url.openStream()),new ByteArrayOutputStream());
  NodeList nodeList=doc.getElementsByTagName("div");
  for (int i=0; i < nodeList.getLength(); ++i) {
    Node node=nodeList.item(i);
    NamedNodeMap nm=node.getAttributes();
    Node attr=nm.getNamedItem("class");
    if (attr != null && attr.getNodeValue().equalsIgnoreCase("wiki-content")) {
      ByteArrayOutputStream contentData=new ByteArrayOutputStream(1024 * 100);
      TransformerFactory tFactory=TransformerFactory.newInstance();
      Transformer transformer=tFactory.newTransformer();
      transformer.transform(new DOMSource(node),new StreamResult(contentData));
      String content=new String(contentData.toByteArray(),"UTF-8");
      content=content.substring(content.indexOf("<div"));
      return content;
    }
  }
  throw new MojoExecutionException("The '" + page + "' page did not have a <div class=\"wiki-content\"> element.");
}
