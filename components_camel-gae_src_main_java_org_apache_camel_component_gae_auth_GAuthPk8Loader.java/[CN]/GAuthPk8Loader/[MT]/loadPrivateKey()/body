{
  InputStream is=ResourceHelper.resolveMandatoryResourceAsInputStream(getCamelContext().getClassResolver(),keyLocation);
  String str;
  try {
    str=getCamelContext().getTypeConverter().mandatoryConvertTo(String.class,is);
  }
  finally {
    IOHelper.close(is);
  }
  if (!System.lineSeparator().equals("\n")) {
    str=str.replaceAll(System.lineSeparator(),"\n");
  }
  if (str.contains(BEGIN) && str.contains(END)) {
    str=str.substring(BEGIN.length(),str.lastIndexOf(END));
  }
  byte[] decoded=Base64.decode(str);
  KeyFactory factory=KeyFactory.getInstance("RSA");
  return factory.generatePrivate(new PKCS8EncodedKeySpec(decoded));
}
