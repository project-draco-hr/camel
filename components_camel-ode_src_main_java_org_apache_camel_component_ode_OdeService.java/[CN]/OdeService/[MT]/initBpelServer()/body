{
  config=new OdeConfigProperties(new File(getInstallRoot() + "/" + CONFIG_FILE_NAME),CONFIG_FILE_NAME);
  config.load();
  server=new BpelServerImpl();
  endpointReferenceContext=new OdeEndpointReferenceContext();
  messageExchangeContext=new OdeMessageExchangeContext();
  bindingContext=new OdeBindingContext();
  scheduler=new MockScheduler();
  scheduler.setJobProcessor(server);
  store=new ProcessStoreImpl(endpointReferenceContext,null,"jpa",config,true);
  daoConnectionFactory=new BpelDAOConnectionFactoryImpl(scheduler);
  server.setInMemDaoConnectionFactory(new BpelDAOConnectionFactoryImpl(scheduler,config.getInMemMexTtl()));
  server.setDaoConnectionFactory(daoConnectionFactory);
  server.setEndpointReferenceContext(endpointReferenceContext);
  server.setMessageExchangeContext(messageExchangeContext);
  server.setBindingContext(bindingContext);
  server.setScheduler(scheduler);
  server.setConfigProperties(config.getProperties());
  server.init();
}
