{
  ObjectHelper.notNull(getContext(),"container");
  if (path.startsWith(QUEUE_PREFIX)) {
    template.setPubSubDomain(false);
    path=path.substring(QUEUE_PREFIX.length());
  }
 else   if (path.startsWith(TOPIC_PREFIX)) {
    template.setPubSubDomain(false);
    path=path.substring(TOPIC_PREFIX.length());
  }
  final String subject=convertPathToActualDestination(path);
  template.setDefaultDestinationName(subject);
  return new JmsEndpoint(uri,getContext(),subject,template);
}
