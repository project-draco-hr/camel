{
  getMockEndpoint("mock:test.before.1").expectedMessageCount(10);
  getMockEndpoint("mock:test.before.2").expectedMessageCount(10);
  getMockEndpoint("mock:test.after.1").expectedMessageCount(10);
  getMockEndpoint("mock:test.after.2").expectedMessageCount(10);
  for (int i=1; i <= 10; i++) {
    template.sendBody("direct:start","Hello World " + i);
  }
  getMockEndpoint("mock:test.before.1").assertIsSatisfied();
  getMockEndpoint("mock:test.before.2").assertIsSatisfied();
  getMockEndpoint("mock:test.after.1").assertIsSatisfied();
  getMockEndpoint("mock:test.after.2").assertIsSatisfied();
}
