{
  MinaPayloadHolder payload=new MinaPayloadHolder();
  payload.inBody=checkSerializableObject(exchange.getIn().getBody());
  if (exchange.getOut(false) != null) {
    payload.outBody=checkSerializableObject(exchange.getOut().getBody());
  }
  payload.inHeaders.putAll(checkMapSerializableObjects(exchange.getIn().getHeaders()));
  payload.outHeaders.putAll(checkMapSerializableObjects(exchange.getOut().getHeaders()));
  payload.properties.putAll(checkMapSerializableObjects(exchange.getProperties()));
  payload.exception=exchange.getException();
  if (exchange.getFault(false) != null) {
    payload.faultBody=exchange.getFault().getBody();
    payload.faultHeaders.putAll(checkMapSerializableObjects(exchange.getFault().getHeaders()));
  }
  return payload;
}
