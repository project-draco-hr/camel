{
  Class<? extends Endpoint> endpointType=Endpoint.class;
  Type pointType=point.getType();
  if (pointType instanceof Class<?>) {
    endpointType=(Class<? extends Endpoint>)pointType;
  }
  EndpointInject annotation=point.getAnnotated().getAnnotation(EndpointInject.class);
  if (annotation != null) {
    String uri=annotation.uri();
    if (ObjectHelper.isEmpty(uri)) {
      String ref=annotation.ref();
      if (ObjectHelper.isNotEmpty(ref)) {
        uri="ref:" + ref;
      }
 else {
      }
    }
    return camelContext.getEndpoint(uri,endpointType);
  }
  throw new IllegalArgumentException("Could not create instance of Endpoint for the given injection point " + point);
}
