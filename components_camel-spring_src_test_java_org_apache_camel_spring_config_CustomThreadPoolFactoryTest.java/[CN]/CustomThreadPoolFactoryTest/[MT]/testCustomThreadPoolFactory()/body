{
  context.getExecutorServiceManager().newSingleThreadExecutor(this,"foo");
  MyCustomThreadPoolFactory factory=assertIsInstanceOf(MyCustomThreadPoolFactory.class,context.getExecutorServiceManager().getThreadPoolFactory());
  assertTrue("Should use custom thread pool factory",factory.isInvoked());
}
