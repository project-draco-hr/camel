{
  context.getExecutorServiceManager().newSingleThreadExecutor(this,"foo");
  Assert.assertTrue(context.getExecutorServiceManager().getThreadPoolFactory() instanceof MyCustomThreadPoolFactory);
  MyCustomThreadPoolFactory factory=(MyCustomThreadPoolFactory)context.getExecutorServiceManager().getThreadPoolFactory();
  assertTrue("Should use custom thread pool factory",factory.isInvoked());
}
