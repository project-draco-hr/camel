{
  String ssn=exchange.getIn().getHeader(Constants.PROPERTY_SSN,String.class);
  Integer historyLength=exchange.getIn().getHeader(Constants.PROPERTY_HISTORYLENGTH,Integer.class);
  double rate=primeRate + (double)(historyLength / 12) / 10 + (Math.random() * 10) / 10;
  exchange.getOut().setHeader(Constants.PROPERTY_BANK,bankName);
  exchange.getOut().setHeader(Constants.PROPERTY_SSN,ssn);
  exchange.getOut().setHeader(Constants.PROPERTY_RATE,rate);
}
