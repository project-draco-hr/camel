{
  ApplicationContext applicationContext=new ClassPathXmlApplicationContext("org/apache/camel/spring/findRouteBuildersOnClassPath.xml");
  CamelContext context=(CamelContext)applicationContext.getBean("camel");
  assertNotNull("No context found!",context);
  Map<Endpoint,Processor> map=context.getRoutes();
  log.debug("Found routes: " + map);
  Set<Map.Entry<Endpoint,Processor>> entries=map.entrySet();
  assertEquals("One Route should be found",1,entries.size());
  for (  Map.Entry<Endpoint,Processor> entry : entries) {
    Endpoint key=entry.getKey();
    Processor processor=entry.getValue();
    assertEndpointUri(key,"queue:test.a");
  }
}
