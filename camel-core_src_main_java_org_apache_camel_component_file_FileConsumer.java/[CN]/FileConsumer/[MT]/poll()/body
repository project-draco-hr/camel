{
  List<File> files=new ArrayList<File>();
  scanFilesToPoll(endpoint.getFile(),true,files);
  if (endpoint.getSorter() != null) {
    Collections.sort(files,endpoint.getSorter());
  }
  int total=files.size();
  for (int index=0; index < files.size(); index++) {
    File file=files.get(index);
    processFile(file,total,index);
  }
}
