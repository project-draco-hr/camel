{
  if (fileOrDirectory == null || !fileOrDirectory.exists()) {
    return;
  }
  if (!fileOrDirectory.isDirectory()) {
    addFile(fileOrDirectory,fileList);
  }
 else   if (processDir && matchFile(fileOrDirectory)) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Polling directory " + fileOrDirectory);
    }
    File[] files=fileOrDirectory.listFiles();
    for (    File file : files) {
      scanFilesToPoll(file,isRecursive(),fileList);
    }
  }
 else {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Skipping directory " + fileOrDirectory);
    }
  }
}
