{
  Message inMessage=exchange.getInMessage();
  CxfEndpoint endpoint=cxfConsumer.getEndpoint();
  CxfExchange cxfExchange=endpoint.createExchange(inMessage);
  BindingOperationInfo bop=exchange.get(BindingOperationInfo.class);
  cxfExchange.setProperty(BindingOperationInfo.class.toString(),bop);
  if (bop != null && bop.getOperationInfo().isOneWay()) {
    cxfExchange.setPattern(ExchangePattern.InOnly);
  }
 else {
    cxfExchange.setPattern(ExchangePattern.InOut);
  }
  try {
    cxfConsumer.getProcessor().process(cxfExchange);
  }
 catch (  Exception ex) {
    throw new Fault(ex);
  }
  copybackExchange(cxfExchange,exchange);
  Message outMessage=exchange.getOutMessage();
  outMessage.put(Message.INBOUND_MESSAGE,Boolean.FALSE);
  BindingOperationInfo boi=exchange.get(BindingOperationInfo.class);
  if (boi != null) {
    exchange.put(BindingMessageInfo.class,boi.getOutput());
  }
}
