{
  CxfEndpoint endpoint=cxfConsumer.getEndpoint();
  Object params=null;
  if (o instanceof List) {
    params=CastUtils.cast((List<?>)o);
  }
 else   if (o != null) {
    params=new MessageContentsList(o);
  }
  CxfExchange cxfExchange=endpoint.createExchange(exchange.getInMessage());
  BindingOperationInfo bop=exchange.get(BindingOperationInfo.class);
  MethodDispatcher md=(MethodDispatcher)exchange.get(Service.class).get(MethodDispatcher.class.getName());
  Method m=md.getMethod(bop);
  if (bop != null && bop.getOperationInfo().isOneWay()) {
    cxfExchange.setPattern(ExchangePattern.InOnly);
  }
 else {
    cxfExchange.setPattern(ExchangePattern.InOut);
  }
  cxfExchange.getIn().setHeader(CxfConstants.OPERATION_NAME,m.getName());
  cxfExchange.getIn().setBody(params);
  try {
    cxfConsumer.getProcessor().process(cxfExchange);
  }
 catch (  Exception ex) {
    throw new Fault(ex);
  }
  Object result=null;
  if (cxfExchange.isFailed()) {
    Exception ex=(Exception)cxfExchange.getFault().getBody();
    if (ex instanceof Fault) {
      throw (Fault)ex;
    }
 else {
      throw new Fault(ex);
    }
  }
 else {
    result=cxfExchange.getOut().getBody();
  }
  return result;
}
