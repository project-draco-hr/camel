{
  if (getNumberFormat() != null) {
    Locale.setDefault(super.getLocale());
    DecimalFormat df=(DecimalFormat)getNumberFormat();
    df.setParseBigDecimal(true);
    BigDecimal bd=(BigDecimal)df.parse(string.trim());
    if (super.getPrecision() != -1) {
      bd=bd.setScale(super.getPrecision(),RoundingMode.valueOf(super.getRounding()));
    }
    Locale.getDefault();
    return bd;
  }
 else {
    return new BigDecimal(string.trim());
  }
}
