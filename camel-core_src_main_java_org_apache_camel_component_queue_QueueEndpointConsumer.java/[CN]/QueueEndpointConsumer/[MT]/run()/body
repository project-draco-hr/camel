{
  while (!isStopping()) {
    E exchange;
    try {
      exchange=endpoint.getQueue().poll(1000,TimeUnit.MILLISECONDS);
    }
 catch (    InterruptedException e) {
      break;
    }
    if (exchange != null && !isStopping()) {
      try {
        processor.process(exchange);
      }
 catch (      Throwable e) {
        e.printStackTrace();
      }
    }
  }
}
