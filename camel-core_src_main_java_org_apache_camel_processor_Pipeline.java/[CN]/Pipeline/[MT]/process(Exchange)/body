{
  Exchange nextExchange=exchange;
  boolean first=true;
  for (  Processor producer : getProcessors()) {
    if (nextExchange.isFailed()) {
      if (LOG.isDebugEnabled()) {
        LOG.debug("Mesage exchange has failed so breaking out of pipeline: " + nextExchange + " exception: "+ nextExchange.getException()+ " fault: "+ nextExchange.getFault(false));
      }
      break;
    }
    if (first) {
      first=false;
    }
 else {
      nextExchange=createNextExchange(producer,nextExchange);
    }
    producer.process(nextExchange);
  }
  ExchangeHelper.copyResults(exchange,nextExchange);
}
