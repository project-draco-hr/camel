{
  Iterator<Processor> processors=getProcessors().iterator();
  Exchange nextExchange=exchange;
  boolean first=true;
  while (continueRouting(processors,nextExchange)) {
    if (first) {
      first=false;
    }
 else {
      nextExchange=createNextExchange(nextExchange);
    }
    Processor processor=processors.next();
    AsyncProcessor async=AsyncProcessorTypeConverter.convert(processor);
    boolean sync=process(exchange,nextExchange,callback,processors,async);
    if (!sync) {
      LOG.trace("Processing exchangeId: {} is continued being processed asynchronously",exchange.getExchangeId());
      return false;
    }
    LOG.trace("Processing exchangeId: {} is continued being processed synchronously",exchange.getExchangeId());
    if (!continueProcessing(nextExchange,"so breaking out of pipeline",LOG)) {
      break;
    }
  }
  LOG.trace("Processing complete for exchangeId: {} >>> {}",exchange.getExchangeId(),nextExchange);
  ExchangeHelper.copyResults(exchange,nextExchange);
  callback.done(true);
  return true;
}
