{
  Set<LogFactory> impliedLogFactories=new HashSet<LogFactory>();
  isFileLog(settings,impliedLogFactories);
  isScreenLog(settings,impliedLogFactories);
  isJdbcLog(settings,impliedLogFactories);
  isSL4JLog(settings,impliedLogFactories);
  if (impliedLogFactories.size() > 1) {
    throw new ConfigError("Ambiguous log factory implied in configuration");
  }
  LogFactory sessionLogFactory;
  if (impliedLogFactories.size() == 1) {
    sessionLogFactory=(LogFactory)impliedLogFactories.iterator().next();
  }
 else {
    sessionLogFactory=new ScreenLogFactory(settings);
  }
  LOG.info("Inferring log factory: " + sessionLogFactory.getClass().getName());
  return sessionLogFactory;
}
