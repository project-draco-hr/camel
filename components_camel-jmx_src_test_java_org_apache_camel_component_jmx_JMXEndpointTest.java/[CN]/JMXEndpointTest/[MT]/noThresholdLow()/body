{
  JMXEndpoint ep=(JMXEndpoint)context.getEndpoint("jmx:platform?objectDomain=FooDomain&objectName=theObjectName&monitorType=gauge&observedAttribute=foo&thresholdHigh=100&notifyHigh=true");
  try {
    ep.createConsumer(null);
    fail("expected exception");
  }
 catch (  IllegalArgumentException e) {
    assertEquals(JMXEndpoint.ERR_THRESHOLD_LOW,e.getMessage());
  }
}
