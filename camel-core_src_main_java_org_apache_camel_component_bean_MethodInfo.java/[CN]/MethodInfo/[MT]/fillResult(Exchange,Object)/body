{
  if (exchange.getPattern().isOutCapable()) {
    LOG.debug("Setting bean invocation result on the OUT message: {}",result);
    exchange.getOut().setBody(result);
    exchange.getOut().getHeaders().putAll(exchange.getIn().getHeaders());
  }
 else {
    LOG.debug("Setting bean invocation result on the IN message: {}",result);
    exchange.getIn().setBody(result);
  }
}
