{
  DefaultExchange exchange=new DefaultExchange(this);
  if (hasProperties()) {
    exchange.setProperties(safeCopyProperties(getProperties()));
  }
  if (safeCopy) {
    exchange.getIn().setBody(getIn().getBody());
    if (getIn().hasHeaders()) {
      exchange.getIn().setHeaders(safeCopyHeaders(getIn().getHeaders()));
    }
    if (hasOut()) {
      exchange.getOut().setBody(getOut().getBody());
      if (getOut().hasHeaders()) {
        exchange.getOut().setHeaders(safeCopyHeaders(getOut().getHeaders()));
      }
    }
  }
 else {
    exchange.setIn(getIn().copy());
    if (hasOut()) {
      exchange.setOut(getOut().copy());
    }
  }
  exchange.setException(getException());
  return exchange;
}
