{
  Object o=exchange.getIn().getHeader(MongoDbConstants.WRITECONCERN);
  if (o == null) {
    return null;
  }
 else   if (o instanceof WriteConcern) {
    return ObjectHelper.cast(WriteConcern.class,o);
  }
 else   if (o instanceof String) {
    WriteConcern answer=WriteConcern.valueOf(ObjectHelper.cast(String.class,o));
    if (answer == null) {
      throw new CamelMongoDbException("WriteConcern specified in the " + MongoDbConstants.WRITECONCERN + " header, with value "+ o+ " could not be resolved to a WriteConcern type");
    }
  }
  LOG.warn("A problem occurred while resolving the Exchange's Write Concern");
  return null;
}
