{
  if (node instanceof MulticastType) {
    List<ProcessorType> outputs=node.getOutputs();
    for (    ProcessorType output : outputs) {
      printNode(writer,fromData,output);
    }
    return fromData;
  }
  NodeData toData=getNodeData(node);
  printNode(writer,toData);
  if (fromData != null) {
    writer.print("<Edge fromID='");
    writer.print(fromData.id);
    writer.print("' toID='");
    writer.print(toData.id);
    writer.print("' association='");
    writer.print(toData.association);
    writer.println("'/>");
  }
  List<ProcessorType> outputs=toData.outputs;
  if (outputs != null) {
    for (    ProcessorType output : outputs) {
      NodeData newData=printNode(writer,toData,output);
      if (!isMulticastNode(node)) {
        toData=newData;
      }
    }
  }
  return toData;
}
