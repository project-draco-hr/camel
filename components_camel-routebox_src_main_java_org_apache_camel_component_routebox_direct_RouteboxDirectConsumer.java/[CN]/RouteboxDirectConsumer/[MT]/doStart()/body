{
  boolean existing=this == ((RouteboxDirectEndpoint)getRouteboxEndpoint()).getConsumer();
  if (!existing && ((RouteboxDirectEndpoint)getRouteboxEndpoint()).hasConsumer(this)) {
    throw new IllegalArgumentException("Cannot add a 2nd consumer to the same endpoint. Endpoint " + getRouteboxEndpoint() + " only allows one consumer.");
  }
  if (!existing) {
    ((RouteboxDirectEndpoint)getRouteboxEndpoint()).addConsumer(this);
  }
  if (!isStartedInnerContext()) {
    doStartInnerContext();
  }
}
