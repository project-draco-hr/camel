{
  URI u=new URI(uri);
  String name;
  String group="Camel";
  String path=u.getPath();
  if (path != null && path.length() > 1) {
    if (path.startsWith("/")) {
      path=path.substring(1);
    }
    name=path;
    group=u.getHost();
  }
 else {
    name=u.getHost();
  }
  QuartzEndpoint answer=new QuartzEndpoint(uri,this,getScheduler());
  Trigger trigger=answer.getTrigger();
  trigger.setName(name);
  trigger.setGroup(group);
  Map triggerParameters=IntrospectionSupport.extractProperties(parameters,"trigger.");
  Map jobParameters=IntrospectionSupport.extractProperties(parameters,"job.");
  IntrospectionSupport.setProperties(trigger,triggerParameters);
  IntrospectionSupport.setProperties(answer.getJobDetail(),jobParameters);
  return answer;
}
