{
  Exchange exchange=template.send("direct:start",new Processor(){
    public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(SdbConstants.OPERATION,SdbConstants.OPERATION_PUT);
      exchange.getIn().setHeader(SdbConstants.ITEM_KEY,"ItemOne");
      exchange.getIn().setHeader(SdbConstants.ATTRIBUTE_PREFIX + "AttributeOne","Value One");
      exchange.getIn().setHeader(SdbConstants.ATTRIBUTE_PREFIX + "AttributeTwo","Value Two");
    }
  }
);
  assertNull("No exceptions during PUT operation",exchange.getException());
  exchange=template.send("direct:start",new Processor(){
    public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(SdbConstants.OPERATION,SdbConstants.OPERATION_GET);
      exchange.getIn().setHeader(SdbConstants.ITEM_KEY,"ItemOne");
    }
  }
);
  assertNull("No exceptions during GET operation",exchange.getException());
  assertEquals("Value One",exchange.getIn().getHeader("AttributeOne"));
  assertEquals("Value Two",exchange.getIn().getHeader("AttributeTwo"));
  exchange=template.send("direct:start",new Processor(){
    public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(SdbConstants.OPERATION,SdbConstants.OPERATION_DELETE);
      exchange.getIn().setHeader(SdbConstants.ITEM_KEY,"ItemOne");
    }
  }
);
  assertNull("No exceptions during DELETE operation",exchange.getException());
}
