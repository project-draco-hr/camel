{
  policy.setDelayPattern("3:1000;5:3000;10:5000;20:10000");
  assertEquals(0,policy.calculateRedeliveryDelay(0,0));
  assertEquals(0,policy.calculateRedeliveryDelay(0,1));
  assertEquals(0,policy.calculateRedeliveryDelay(0,2));
  assertEquals(1000,policy.calculateRedeliveryDelay(0,3));
  assertEquals(1000,policy.calculateRedeliveryDelay(0,4));
  assertEquals(3000,policy.calculateRedeliveryDelay(0,5));
  assertEquals(3000,policy.calculateRedeliveryDelay(0,5));
  assertEquals(3000,policy.calculateRedeliveryDelay(0,6));
  assertEquals(3000,policy.calculateRedeliveryDelay(0,7));
  assertEquals(3000,policy.calculateRedeliveryDelay(0,8));
  assertEquals(3000,policy.calculateRedeliveryDelay(0,9));
  assertEquals(5000,policy.calculateRedeliveryDelay(0,10));
  assertEquals(5000,policy.calculateRedeliveryDelay(0,11));
  assertEquals(5000,policy.calculateRedeliveryDelay(0,15));
  assertEquals(5000,policy.calculateRedeliveryDelay(0,19));
  assertEquals(10000,policy.calculateRedeliveryDelay(0,20));
  assertEquals(10000,policy.calculateRedeliveryDelay(0,21));
  assertEquals(10000,policy.calculateRedeliveryDelay(0,25));
  assertEquals(10000,policy.calculateRedeliveryDelay(0,50));
  assertEquals(10000,policy.calculateRedeliveryDelay(0,100));
}
