{
  ThreadPoolProfileSupport custom=new ThreadPoolProfileSupport("custom");
  custom.setPoolSize(10);
  custom.setMaxPoolSize(30);
  custom.setKeepAliveTime(50L);
  custom.setMaxQueueSize(-1);
  context.getExecutorServiceStrategy().setDefaultThreadPoolProfile(custom);
  assertEquals(true,custom.isDefaultProfile().booleanValue());
  ExecutorService myPool=context.getExecutorServiceStrategy().newDefaultThreadPool(this,"myPool");
  assertEquals(false,myPool.isShutdown());
  ThreadPoolExecutor executor=(ThreadPoolExecutor)myPool;
  assertEquals(10,executor.getCorePoolSize());
  assertEquals(30,executor.getMaximumPoolSize());
  assertEquals(50,executor.getKeepAliveTime(TimeUnit.SECONDS));
  assertEquals(Integer.MAX_VALUE,executor.getQueue().remainingCapacity());
  context.stop();
  assertEquals(true,myPool.isShutdown());
}
