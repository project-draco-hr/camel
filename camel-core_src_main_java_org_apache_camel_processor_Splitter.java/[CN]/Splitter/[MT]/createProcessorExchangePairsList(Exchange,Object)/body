{
  List<ProcessorExchangePair> result;
  Integer collectionSize=CollectionHelper.size(value);
  if (collectionSize != null) {
    result=new ArrayList<ProcessorExchangePair>(collectionSize);
  }
 else {
    result=new ArrayList<ProcessorExchangePair>();
  }
  Iterator<Object> iter=ObjectHelper.createIterator(value);
  while (iter.hasNext()) {
    Object part=iter.next();
    Exchange newExchange=exchange.copy();
    if (part instanceof Message) {
      newExchange.setIn((Message)part);
    }
 else {
      Message in=newExchange.getIn();
      in.setBody(part);
    }
    result.add(new ProcessorExchangePair(getProcessors().iterator().next(),newExchange));
  }
  return result;
}
