{
  exchange.setProperty(Exchange.SPLIT_INDEX,index);
  if (allPairs instanceof Collection) {
    exchange.setProperty(Exchange.SPLIT_SIZE,((Collection<?>)allPairs).size());
  }
  if (allPairs.hasNext()) {
    exchange.setProperty(Exchange.SPLIT_COMPLETE,Boolean.FALSE);
  }
 else {
    exchange.setProperty(Exchange.SPLIT_COMPLETE,Boolean.TRUE);
  }
}
