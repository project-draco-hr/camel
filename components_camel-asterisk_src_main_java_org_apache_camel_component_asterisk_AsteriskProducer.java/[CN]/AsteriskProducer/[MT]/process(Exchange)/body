{
  ManagerAction action;
switch (endpoint.getAction()) {
case "QueueStatus":
    action=new QueueStatusAction();
  break;
case "SipPeers":
action=new SipPeersAction();
break;
case "ExtensionState":
action=new ExtensionStateAction((String)exchange.getIn().getHeader(AsteriskConstants.EXTEN),(String)exchange.getIn().getHeader(AsteriskConstants.CONTEXT));
break;
default :
throw new IllegalStateException("Unknown action");
}
LOG.debug("Asterisk, send action {} ",endpoint.getAction());
ManagerResponse response=endpoint.sendAction(action);
exchange.getIn().setBody(response);
}
