{
  MethodInfo methodInfo=null;
  String methodName=exchange.getIn().getHeader(Exchange.BEAN_METHOD_NAME,String.class);
  if (methodName != null) {
    String name=methodName;
    if (methodName.contains("(")) {
      name=ObjectHelper.before(methodName,"(");
    }
    List<MethodInfo> methods=getOperations(name);
    if (methods != null && methods.size() == 1) {
      methodInfo=methods.get(0);
    }
 else     if (methods != null) {
      methodInfo=chooseMethod(pojo,exchange,methodName);
      if (methodInfo == null || !name.equals(methodInfo.getMethod().getName())) {
        throw new AmbiguousMethodCallException(exchange,methods);
      }
    }
 else {
      throw new MethodNotFoundException(exchange,pojo,methodName);
    }
  }
  if (methodInfo == null) {
    methodInfo=chooseMethod(pojo,exchange,null);
  }
  if (methodInfo == null) {
    methodInfo=defaultMethod;
  }
  if (methodInfo != null) {
    LOG.trace("Chosen method to invoke: {} on bean: {}",methodInfo,pojo);
    return methodInfo.createMethodInvocation(pojo,exchange);
  }
  LOG.debug("Cannot find suitable method to invoke on bean: {}",pojo);
  return null;
}
