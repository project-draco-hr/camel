{
  if (LOG.isTraceEnabled()) {
    LOG.trace("Introspecting class: " + clazz + ", method: "+ method);
  }
  String opName=method.getName();
  MethodInfo methodInfo=createMethodInfo(clazz,method);
  MethodInfo existingMethodInfo=overridesExistingMethod(methodInfo);
  if (existingMethodInfo != null) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("This method is already overriden in a subclass, so the method from the sub class is preferred: " + existingMethodInfo);
    }
    return existingMethodInfo;
  }
  if (LOG.isTraceEnabled()) {
    LOG.trace("Adding operation: " + opName + " for method: "+ methodInfo);
  }
  if (operations.containsKey(opName)) {
    List<MethodInfo> existing=operations.get(opName);
    existing.add(methodInfo);
  }
 else {
    List<MethodInfo> methods=new ArrayList<MethodInfo>();
    methods.add(methodInfo);
    operations.put(opName,methods);
  }
  if (methodInfo.hasCustomAnnotation()) {
    operationsWithCustomAnnotation.add(methodInfo);
  }
 else   if (methodInfo.hasBodyParameter()) {
    operationsWithBody.add(methodInfo);
  }
  if (methodInfo.hasHandlerAnnotation()) {
    operationsWithHandlerAnnotation.add(methodInfo);
  }
  methodMap.put(method,methodInfo);
  return methodInfo;
}
