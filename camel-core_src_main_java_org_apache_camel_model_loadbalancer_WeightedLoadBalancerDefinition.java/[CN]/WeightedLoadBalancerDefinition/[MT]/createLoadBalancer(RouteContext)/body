{
  WeightedLoadBalancer loadBalancer=null;
  List<Integer> distributionRatioList=new ArrayList<Integer>();
  try {
    if (distributionRatioDelimiter == null) {
      distributionRatioDelimiter=":";
    }
    String[] ratios=distributionRatio.split(distributionRatioDelimiter);
    for (    String ratio : ratios) {
      distributionRatioList.add(new Integer(ratio.trim()));
    }
    if (!roundRobin) {
      loadBalancer=new WeightedRandomLoadBalancer(distributionRatioList);
    }
 else {
      loadBalancer=new WeightedRoundRobinLoadBalancer(distributionRatioList);
    }
  }
 catch (  Exception e) {
  }
  return loadBalancer;
}
