{
  super(endpoint);
  this.endpoint=endpoint;
  this.room=endpoint.resolveRoom();
  if (room == null) {
    throw new IllegalArgumentException("No room property specified");
  }
}
