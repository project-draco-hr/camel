{
  context.getRegistry(JndiRegistry.class).bind("filter",Sets.newHashSet(EventType.EVT_CACHE_OBJECT_PUT));
  context.addRoutes(new RouteBuilder(){
    @Override public void configure() throws Exception {
      from("ignite:events:abc?events=#filter").to("mock:test2");
    }
  }
);
  getMockEndpoint("mock:test2").expectedMessageCount(2);
  IgniteCache<String,String> cache=ignite().getOrCreateCache("abc");
  cache.put("abc","123");
  cache.get("abc");
  cache.remove("abc");
  cache.get("abc");
  cache.put("abc","123");
  assertMockEndpointsSatisfied();
  List<Integer> eventTypes=receivedEventTypes("mock:test2");
  assert_().that(eventTypes).containsExactly(EventType.EVT_CACHE_OBJECT_PUT,EventType.EVT_CACHE_OBJECT_PUT).inOrder();
}
