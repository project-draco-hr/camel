{
  LOG.debug("Going to execute the query '{}'",query);
  String answer=getEndpoint().getCamelContext().getTypeConverter().mandatoryConvertTo(String.class,new URL(query));
  LOG.debug("Got back the answer '{}'",answer);
  if (ObjectHelper.isEmpty(answer)) {
    throw new IllegalStateException("Got the empty string '" + answer + "' as the result of the query '"+ query+ "'");
  }
  Exchange exchange=getEndpoint().createExchange();
  exchange.getIn().setBody(answer);
  exchange.getIn().setHeader(WeatherConstants.WEATHER_QUERY,query);
  getProcessor().process(exchange);
  return 1;
}
