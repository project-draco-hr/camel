{
  CamelContext camelContext=new SpringCamelContext(applicationContext);
  SpringCamelContext.setNoStart(true);
  if (!config.isJmxEnabled()) {
    camelContext.disableJMX();
  }
  if (config.getName() != null) {
    ((SpringCamelContext)camelContext).setName(config.getName());
  }
  if (config.getLogDebugMaxChars() > 0) {
    camelContext.getProperties().put(Exchange.LOG_DEBUG_BODY_MAX_CHARS,"" + config.getLogDebugMaxChars());
  }
  return camelContext;
}
