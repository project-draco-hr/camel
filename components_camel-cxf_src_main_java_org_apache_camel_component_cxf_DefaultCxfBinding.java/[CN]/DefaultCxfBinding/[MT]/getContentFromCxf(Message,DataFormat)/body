{
  Set<Class<?>> contentFormats=message.getContentFormats();
  Object answer=null;
  if (contentFormats != null) {
    if (LOG.isTraceEnabled()) {
      for (      Class<?> contentFormat : contentFormats) {
        LOG.trace("Content format=" + contentFormat + " value="+ message.getContent(contentFormat));
      }
    }
    if (dataFormat == DataFormat.POJO) {
      answer=message.getContent(List.class);
      if (answer == null) {
        answer=message.getContent(Object.class);
        if (answer != null) {
          answer=new MessageContentsList(answer);
        }
      }
    }
 else     if (dataFormat == DataFormat.PAYLOAD) {
      List<SoapHeader> headers=CastUtils.cast((List<?>)message.get(Header.HEADER_LIST));
      answer=new CxfPayload<SoapHeader>(headers,getPayloadBodyElements(message));
    }
 else     if (dataFormat == DataFormat.MESSAGE) {
      answer=message.getContent(InputStream.class);
    }
    if (LOG.isTraceEnabled()) {
      LOG.trace("Extracted body from CXF message = " + answer);
    }
  }
  return answer;
}
