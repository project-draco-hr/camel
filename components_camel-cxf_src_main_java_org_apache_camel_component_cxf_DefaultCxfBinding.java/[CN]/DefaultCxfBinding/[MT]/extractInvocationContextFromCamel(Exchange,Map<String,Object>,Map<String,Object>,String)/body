{
  Map context=(Map)camelHeaders.get(contextKey);
  if (context != null) {
    cxfContext.putAll(context);
    if (LOG.isTraceEnabled()) {
      LOG.trace("Propagate " + contextKey + " from header context = "+ ((context instanceof WrappedMessageContext) ? ((WrappedMessageContext)context).getWrappedMap() : context));
    }
  }
  context=(Map)camelExchange.getProperty(contextKey);
  if (context != null) {
    cxfContext.putAll(context);
    if (LOG.isTraceEnabled()) {
      LOG.trace("Propagate " + contextKey + " from exchange property context = "+ ((context instanceof WrappedMessageContext) ? ((WrappedMessageContext)context).getWrappedMap() : context));
    }
  }
  if (camelExchange.getProperties() != null) {
    cxfContext.putAll(camelExchange.getProperties());
  }
  camelExchange.setProperty(contextKey,cxfContext);
}
