{
  resultEndpoint.expectedBodiesReceived("Ginger","Mr Boots");
  template.send("direct:custom",new Processor(){
    public void process(    Exchange exchange){
      Message in=exchange.getIn();
      CatFight catFight=new CatFight();
      catFight.setName("blueydart");
      catFight.setCats(new String[]{"Ginger","Mr Boots"});
      in.setBody(catFight);
      in.setHeader("foo","bar");
    }
  }
);
  resultEndpoint.assertIsSatisfied();
}
