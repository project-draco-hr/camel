{
  URL wsdlUrl=getClass().getResource(wsdl);
  assertNotNull("Could not find WSDL: " + wsdl,wsdlUrl);
  WSDLServiceFactory factory=new WSDLServiceFactory(bus,wsdlUrl,new QName(ns,serviceName));
  Service service=factory.create();
  List<ServiceInfo> list=service.getServiceInfos();
  for (  ServiceInfo serviceInfo : list) {
    endpointInfo=serviceInfo.getEndpoint(new QName(ns,portName));
    if (endpointInfo != null) {
      break;
    }
  }
}
