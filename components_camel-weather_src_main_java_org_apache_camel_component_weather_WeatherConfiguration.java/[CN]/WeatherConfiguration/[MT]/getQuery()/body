{
  String answer="http://api.openweathermap.org/data/2.5/";
  String location;
  if (isEmpty(getLocation())) {
    location=getGeoLocation();
  }
 else {
    location="q=" + getLocation();
  }
  if (isEmpty(getPeriod())) {
    answer+="weather?" + location;
  }
 else {
    answer+="forecast/daily?" + location + "&cnt="+ getPeriod();
  }
  if (getUnits() != METRIC) {
    answer+="&units=" + getUnits().name().toLowerCase();
  }
  if (getMode() != JSON) {
    answer+="&mode=" + getMode().name().toLowerCase();
  }
  return answer;
}
