{
  Object value=lookupBean();
  if (value == null) {
    throw new NoSuchBeanException(name);
  }
  if (value != bean) {
    bean=value;
    processor=null;
    if (!ObjectHelper.equal(ObjectHelper.type(bean),ObjectHelper.type(value))) {
      beanInfo=null;
    }
    if (bean instanceof Class) {
      bean=context.getInjector().newInstance((Class<Object>)bean);
      value=bean;
    }
  }
  return value;
}
