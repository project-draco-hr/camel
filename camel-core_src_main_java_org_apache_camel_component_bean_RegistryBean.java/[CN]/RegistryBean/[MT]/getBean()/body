{
  Object value=lookupBean();
  if (value == null) {
    value=context.getClassResolver().resolveClass(name);
    if (value == null) {
      throw new NoSuchBeanException(name);
    }
  }
  if (value != bean) {
    if (!ObjectHelper.equal(ObjectHelper.type(bean),ObjectHelper.type(value))) {
      beanInfo=null;
    }
    bean=value;
    processor=null;
    if (bean instanceof Class) {
      bean=context.getInjector().newInstance((Class<?>)bean);
      value=bean;
    }
  }
  return value;
}
