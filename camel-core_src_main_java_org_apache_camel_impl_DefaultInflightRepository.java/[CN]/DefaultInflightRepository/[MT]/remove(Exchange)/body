{
  int count=totalCount.decrementAndGet();
  if (LOG.isTraceEnabled()) {
    LOG.trace("Total " + count + " inflight exchanges. Last removed: "+ exchange.getExchangeId());
  }
  if (exchange.getFromEndpoint() == null) {
    return;
  }
  String key=exchange.getFromEndpoint().getEndpointKey();
  AtomicInteger existing=endpointCount.get(key);
  if (existing != null) {
    existing.addAndGet(-1);
  }
}
