{
  int count=totalCount.decrementAndGet();
  LOG.trace("Total {} inflight exchanges. Last removed: {}",count,exchange.getExchangeId());
  if (exchange.getFromEndpoint() == null) {
    return;
  }
  String key=exchange.getFromEndpoint().getEndpointKey();
  AtomicInteger existing=endpointCount.get(key);
  if (existing != null) {
    existing.addAndGet(-1);
  }
}
