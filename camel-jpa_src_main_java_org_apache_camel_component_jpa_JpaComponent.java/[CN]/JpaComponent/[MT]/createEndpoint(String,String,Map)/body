{
  JpaEndpoint endpoint=new JpaEndpoint(uri,this);
  Map consumerProperties=IntrospectionSupport.extractProperties(options,"consumer.");
  if (consumerProperties != null) {
    endpoint.setConsumerProperties(consumerProperties);
  }
  Map emProperties=IntrospectionSupport.extractProperties(options,"emf.");
  if (emProperties != null) {
    endpoint.setEntityManagerProperties(emProperties);
  }
  if (path != null) {
    Class<?> type=ObjectHelper.loadClass(path);
    if (type != null) {
      endpoint.setEntityType(type);
    }
  }
  return endpoint;
}
