{
  Class<?> fromType=null;
  if (value != null) {
    fromType=value.getClass();
  }
  TypeMapping key=new TypeMapping(toType,fromType);
  TypeConverter converter=typeMappings.get(key);
  if (converter == null) {
    converter=lookup(toType,fromType);
    if (converter != null) {
      typeMappings.putIfAbsent(key,converter);
    }
  }
  return converter;
}
