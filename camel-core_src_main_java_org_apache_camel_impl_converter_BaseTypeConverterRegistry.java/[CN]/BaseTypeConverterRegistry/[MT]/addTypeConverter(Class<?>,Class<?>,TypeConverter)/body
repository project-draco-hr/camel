{
  log.trace("Adding type converter: {}",typeConverter);
  TypeMapping key=new TypeMapping(toType,fromType);
  TypeConverter converter=typeMappings.get(key);
  if (typeConverter != converter) {
    boolean add=true;
    if (converter != null) {
      if (typeConverterExists == TypeConverterExists.Overwrite) {
        CamelLogger logger=new CamelLogger(log,typeConverterExistsLoggingLevel);
        logger.log("Overriding type converter from: " + converter + " to: "+ typeConverter);
      }
 else       if (typeConverterExists == TypeConverterExists.Ignore) {
        CamelLogger logger=new CamelLogger(log,typeConverterExistsLoggingLevel);
        logger.log("Ignoring duplicate type converter from: " + converter + " to: "+ typeConverter);
        add=false;
      }
 else {
        throw new TypeConverterExistsException(toType,fromType);
      }
    }
    if (add) {
      typeMappings.put(key,typeConverter);
      misses.remove(key);
    }
  }
}
