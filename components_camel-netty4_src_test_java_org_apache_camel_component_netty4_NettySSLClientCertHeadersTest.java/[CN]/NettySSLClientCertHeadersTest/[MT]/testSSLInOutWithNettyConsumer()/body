{
  if (isJavaVendor("ibm")) {
    return;
  }
  getMockEndpoint("mock:input").expectedMessageCount(1);
  getMockEndpoint("mock:input").expectedHeaderReceived(NettyConstants.NETTY_SSL_CLIENT_CERT_SUBJECT_NAME,"CN=arlu15, OU=Sun Java System Application Server, O=Sun Microsystems, L=Santa Clara, ST=California, C=US");
  getMockEndpoint("mock:input").expectedHeaderReceived(NettyConstants.NETTY_SSL_CLIENT_CERT_ISSUER_NAME,"CN=arlu15, OU=Sun Java System Application Server, O=Sun Microsystems, L=Santa Clara, ST=California, C=US");
  getMockEndpoint("mock:input").expectedHeaderReceived(NettyConstants.NETTY_SSL_CLIENT_CERT_SERIAL_NO,"1210701502");
  context.addRoutes(new RouteBuilder(){
    public void configure(){
      from("netty4:tcp://localhost:{{port}}?sync=true&ssl=true&passphrase=changeit&keyStoreFile=#ksf&trustStoreFile=#tsf" + "&needClientAuth=true&sslClientCertHeaders=true").to("mock:input").transform().constant("Bye World");
    }
  }
);
  context.start();
  String response=template.requestBody("netty4:tcp://localhost:{{port}}?sync=true&ssl=true&passphrase=changeit&keyStoreFile=#ksf&trustStoreFile=#tsf","Hello World",String.class);
  assertEquals("Bye World",response);
  assertMockEndpointsSatisfied();
}
