{
  List<NameValuePair> nvps=new ArrayList<NameValuePair>();
  nvps.add(new BasicNameValuePair("param1",LARGE_HEADER_VALUE));
  nvps.add(new BasicNameValuePair("param2",LARGE_HEADER_VALUE));
  nvps.add(new BasicNameValuePair("param3",LARGE_HEADER_VALUE));
  HttpEntity entity=new UrlEncodedFormEntity(nvps,Consts.UTF_8);
  HttpPost httpPost=new HttpPost("http://localhost:" + port2 + "/test/hello");
  httpPost.setEntity(entity);
  HttpHost proxy=new HttpHost("localhost",8888,"http");
  RequestConfig config=RequestConfig.custom().setProxy(proxy).build();
  httpPost.setConfig(config);
  CloseableHttpClient httpClient=HttpClients.createDefault();
  try {
    CloseableHttpResponse response=httpClient.execute(httpPost);
    assertEquals(response.getStatusLine().getStatusCode(),200);
    response.close();
  }
 catch (  IOException e) {
  }
 finally {
    httpClient.close();
  }
}
