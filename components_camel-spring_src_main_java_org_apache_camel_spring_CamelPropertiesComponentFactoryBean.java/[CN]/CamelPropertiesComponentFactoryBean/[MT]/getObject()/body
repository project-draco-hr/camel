{
  CamelContext context=getCamelContext();
  if (context.hasComponent(getId()) != null) {
    throw new IllegalArgumentException("A component already exists with the name " + getId());
  }
  PropertiesComponent pc=new PropertiesComponent();
  pc.setLocation(getLocation());
  if (ObjectHelper.isNotEmpty(getPropertiesResolverRef())) {
    PropertiesResolver resolver=CamelContextHelper.mandatoryLookup(getCamelContext(),getPropertiesResolverRef(),PropertiesResolver.class);
    pc.setPropertiesResolver(resolver);
  }
  return pc;
}
