{
  RestDefinition rest=context.getRestDefinitions().get(0);
  assertNotNull(rest);
  BeanConfig config=new BeanConfig();
  config.setHost("localhost:8080");
  config.setSchemes(new String[]{"http"});
  config.setBasePath("/api");
  RestSwaggerReader reader=new RestSwaggerReader();
  Swagger swagger=reader.read(rest,config);
  assertNotNull(swagger);
  ObjectMapper mapper=new ObjectMapper();
  mapper.enable(SerializationFeature.INDENT_OUTPUT);
  mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);
  String json=mapper.writeValueAsString(swagger);
  log.info(json);
  assertTrue(json.contains("\"host\" : \"localhost:8080\""));
  assertTrue(json.contains("\"basePath\" : \"/api\""));
  assertTrue(json.contains("\"/hello//bye\""));
  assertTrue(json.contains("\"summary\" : \"To update the greeting message\""));
  assertTrue(json.contains("\"/hello//bye/{name}\""));
  assertTrue(json.contains("\"/hello//hi/{name}\""));
  context.stop();
}
