{
  String id="";
  String result;
  if (!showBreadCrumb && !showExchangeId && !showShortExchangeId&& !showNode) {
    return "";
  }
  if (showBreadCrumb) {
    id=getBreadCrumbID(exchange).toString();
  }
 else   if (showExchangeId || showShortExchangeId) {
    id=getBreadCrumbID(exchange).toString();
    if (showShortExchangeId) {
      id=id.substring(id.indexOf("/") + 1);
    }
  }
  String from="";
  if (showNode && exchange.getUnitOfWork() instanceof TraceableUnitOfWork) {
    TraceableUnitOfWork tuow=(TraceableUnitOfWork)exchange.getUnitOfWork();
    ProcessorDefinition prev=tuow.getLastInterceptedNode();
    if (prev != null) {
      from=getNodeMessage(prev);
    }
 else     if (exchange.getFromEndpoint() != null) {
      from=exchange.getFromEndpoint().getEndpointUri();
    }
  }
  String to="";
  if (showNode) {
    to=getNodeMessage(currentNode);
  }
  if (showNode) {
    result=id.trim() + " >>> " + from+ " --> "+ to.trim();
    if (interceptor.shouldTraceOutExchanges() && exchange.getOut(false) != null) {
      result+=" (OUT) ";
    }
  }
 else {
    result=id;
  }
  if (breadCrumbLength > 0) {
    return String.format("%1$-" + breadCrumbLength + "."+ breadCrumbLength+ "s",result.trim());
  }
 else {
    return result.trim();
  }
}
