{
  ExecCommand execCommand=getBinding().readInput(exchange,endpoint);
  if (log.isInfoEnabled()) {
    log.info("Executing " + execCommand);
  }
  ExecResult result=endpoint.getCommandExecutor().execute(execCommand);
  ObjectHelper.notNull(result,"The command executor must return a not-null result");
  if (log.isInfoEnabled()) {
    log.info("The command " + execCommand + " had exit value "+ result.getExitValue());
  }
 else   if (log.isErrorEnabled() && result.getExitValue() != 0) {
    log.error("The command " + execCommand + " returned exit value "+ result.getExitValue());
  }
  getBinding().writeOutput(exchange,result);
}
