{
  getMockEndpoint().expectedBodiesReceived("test1");
  getMockEndpoint().expectedHeaderReceived("test","test2");
  producerTemplate.sendBodyAndHeader("direct:input","test1","test","test2");
  getMockEndpoint().assertIsSatisfied();
  Message received=getMockEndpoint().getExchanges().get(0).getIn();
  assertEquals("default",received.getHeader(GTaskBinding.GTASK_QUEUE_NAME));
  assertEquals(0,received.getHeader(GTaskBinding.GTASK_RETRY_COUNT));
}
