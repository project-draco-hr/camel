{
  DozerBeanMapper answer=new DozerBeanMapper();
  InputStream mapStream=null;
  try {
    LOG.info("Loading Dozer mapping file {}.",configuration.getMappingFile());
    mapStream=ResourceHelper.resolveMandatoryResourceAsInputStream(getCamelContext().getClassResolver(),configuration.getMappingFile());
    answer.addMapping(mapStream);
    Map<String,CustomConverter> converters=new HashMap<String,CustomConverter>();
    converters.put(CUSTOM_MAPPING_ID,customMapper);
    converters.put(LITERAL_MAPPING_ID,literalMapper);
    converters.putAll(answer.getCustomConvertersWithId());
    answer.setCustomConvertersWithId(converters);
  }
  finally {
    IOHelper.close(mapStream);
  }
  return answer;
}
