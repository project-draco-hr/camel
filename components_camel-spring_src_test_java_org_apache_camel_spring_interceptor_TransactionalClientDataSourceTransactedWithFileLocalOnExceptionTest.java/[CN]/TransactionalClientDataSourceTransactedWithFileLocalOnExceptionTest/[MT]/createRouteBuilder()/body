{
  return new SpringRouteBuilder(){
    public void configure() throws Exception {
      from("file://target/transacted/okay").transacted().setBody(constant("Tiger in Action")).beanRef("bookService").setBody(constant("Elephant in Action")).beanRef("bookService");
      from("file://target/transacted/fail?moveFailed=../failed").transacted().onException(IllegalArgumentException.class).handled(false).to("mock:error").end().setBody(constant("Tiger in Action")).beanRef("bookService").setBody(constant("Donkey in Action")).beanRef("bookService");
    }
  }
;
}
