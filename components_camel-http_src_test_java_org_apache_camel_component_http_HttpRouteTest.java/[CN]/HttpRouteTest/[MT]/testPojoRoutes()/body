{
  CamelContext camelContext=new DefaultCamelContext();
  JettyHttpComponent component=new JettyHttpComponent();
  camelContext.addComponent("http",component);
  camelContext.addRoutes(new RouteBuilder(){
    public void configure(){
      from("http://0.0.0.0:8080/test").to("mock:a");
    }
  }
);
  MockEndpoint mockA=(MockEndpoint)camelContext.getEndpoint("mock:a");
  mockA.expectedMessageCount(1);
  camelContext.start();
  URL url=new URL("http://localhost:8080/test");
  InputStream is=url.openConnection().getInputStream();
  System.out.println("Content: " + is);
  mockA.assertIsSatisfied();
  camelContext.stop();
}
