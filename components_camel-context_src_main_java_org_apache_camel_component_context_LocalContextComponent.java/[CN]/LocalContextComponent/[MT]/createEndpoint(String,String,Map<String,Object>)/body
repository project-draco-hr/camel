{
  Map<String,Endpoint> map=getLocalCamelContext().getEndpointMap();
  if (LOG.isTraceEnabled()) {
    LOG.trace("Trying to lookup " + remaining + " in local map "+ map.keySet());
  }
  Endpoint endpoint=map.get(remaining);
  if (endpoint != null) {
    logUsingEndpoint(uri,endpoint);
    return endpoint;
  }
  String[] separators={":","://"};
  for (  String scheme : localProtocolSchemes) {
    for (    String separator : separators) {
      String newUri=scheme + separator + remaining;
      endpoint=map.get(newUri);
      if (endpoint != null) {
        logUsingEndpoint(uri,endpoint);
        return endpoint;
      }
    }
  }
  return null;
}
