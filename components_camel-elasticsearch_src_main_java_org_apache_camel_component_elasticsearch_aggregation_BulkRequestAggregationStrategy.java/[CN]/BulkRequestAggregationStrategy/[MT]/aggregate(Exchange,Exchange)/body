{
  Object objBody=newExchange.getIn().getBody();
  if (!(objBody instanceof ActionRequest)) {
    throw new InvalidPayloadRuntimeException(newExchange,ActionRequest.class);
  }
  ActionRequest newBody=(ActionRequest)objBody;
  BulkRequest request;
  if (oldExchange == null) {
    request=new BulkRequest();
    request.add(newBody);
    newExchange.getIn().setBody(request);
    return newExchange;
  }
 else {
    request=oldExchange.getIn().getBody(BulkRequest.class);
    request.add(newBody);
    return oldExchange;
  }
}
