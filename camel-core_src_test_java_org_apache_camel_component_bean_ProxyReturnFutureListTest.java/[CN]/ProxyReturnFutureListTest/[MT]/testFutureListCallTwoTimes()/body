{
  Users service=ProxyHelper.createProxy(context.getEndpoint("direct:echo"),Users.class);
  Future future=service.getUsers(true);
  log.info("Got future");
  assertFalse("Should not be done",future.isDone());
  log.info("Waiting for future to be done ...");
  List<String> users=(List<String>)future.get(5,TimeUnit.SECONDS);
  assertEquals("Claus",users.get(0));
  assertEquals("Jonathan",users.get(1));
  future=service.getUsers(true);
  log.info("Got future");
  assertFalse("Should not be done",future.isDone());
  log.info("Waiting for future to be done ...");
  users=(List<String>)future.get(5,TimeUnit.SECONDS);
  assertEquals("Claus",users.get(0));
  assertEquals("Jonathan",users.get(1));
}
