{
  if (bean instanceof CamelContext && beanName.equals("camelContext")) {
    CamelContext camelContext=(CamelContext)bean;
    LOG.debug("Post-processing CamelContext bean: {}",camelContext.getName());
    for (    RoutesBuilder routesBuilder : applicationContext.getBeansOfType(RoutesBuilder.class).values()) {
      try {
        LOG.debug("Injecting following route into the CamelContext: {}",routesBuilder);
        camelContext.addRoutes(routesBuilder);
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
    if (camelContextConfiguration != null) {
      LOG.debug("CamelContextConfiguration found. Invoking: {}",camelContextConfiguration);
      camelContextConfiguration.beforeApplicationStart(camelContext);
    }
  }
  return bean;
}
