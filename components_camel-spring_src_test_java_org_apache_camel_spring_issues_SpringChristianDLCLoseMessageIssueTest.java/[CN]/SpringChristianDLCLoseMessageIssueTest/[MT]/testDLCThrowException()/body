{
  MockEndpoint result=getMockEndpoint("mock:result");
  result.expectedMessageCount(2);
  MockEndpoint error=getMockEndpoint("mock:error");
  error.expectedMessageCount(2);
  MockEndpoint kaboom=getMockEndpoint("mock:kaboom");
  kaboom.expectedMessageCount(0);
  template.sendBody("direct:start","Hello World");
  template.sendBody("direct:start","Kaboom");
  template.sendBody("direct:start","Hello World");
  template.sendBody("direct:start","Kaboom");
  assertMockEndpointsSatisfied();
}
