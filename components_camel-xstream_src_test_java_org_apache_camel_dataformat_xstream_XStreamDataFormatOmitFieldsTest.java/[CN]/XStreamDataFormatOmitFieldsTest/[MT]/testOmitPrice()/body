{
  PurchaseOrder purchaseOrder=new PurchaseOrder();
  purchaseOrder.setName("foo");
  purchaseOrder.setPrice(1);
  XStreamDataFormat xStreamDataFormat=new XStreamDataFormat();
  Map<String,String[]> omitFields=new HashMap<String,String[]>();
  omitFields.put(PurchaseOrder.class.getName(),new String[]{"price"});
  xStreamDataFormat.setOmitFields(omitFields);
  XStream xStream=xStreamDataFormat.createXStream(new DefaultClassResolver());
  String marshalledOrder=xStream.toXML(purchaseOrder);
  assertTrue(!marshalledOrder.contains("<price>"));
}
