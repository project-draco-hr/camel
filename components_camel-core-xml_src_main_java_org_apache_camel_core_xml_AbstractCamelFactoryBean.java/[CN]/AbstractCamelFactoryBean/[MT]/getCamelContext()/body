{
  if (camelContext == null && camelContextId != null) {
    camelContext=getCamelContextWithId(camelContextId);
    if (camelContext == null) {
      throw new IllegalStateException("Cannot find CamelContext with id: " + camelContextId);
    }
  }
  if (camelContext == null) {
    camelContext=discoverDefaultCamelContext();
  }
  return camelContext;
}
