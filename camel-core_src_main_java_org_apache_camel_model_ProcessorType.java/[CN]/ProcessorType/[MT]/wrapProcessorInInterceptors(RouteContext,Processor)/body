{
  if (target == null) {
    throw new RuntimeCamelException("target provided.");
  }
  DelegateProcessor first=null;
  DelegateProcessor last=null;
  List<InterceptorType> interceptors=new ArrayList<InterceptorType>(routeContext.getRoute().getInterceptors());
  List<InterceptorType> list=getInterceptors();
  for (  InterceptorType interceptorType : list) {
    if (!interceptors.contains(interceptorType)) {
      interceptors.add(interceptorType);
    }
  }
  for (  InterceptorType interceptorRef : interceptors) {
    DelegateProcessor p=interceptorRef.createInterceptor(routeContext);
    if (first == null) {
      first=p;
    }
    if (last != null) {
      last.setProcessor(p);
    }
    last=p;
  }
  if (last != null) {
    last.setProcessor(target);
  }
  return first == null ? target : first;
}
