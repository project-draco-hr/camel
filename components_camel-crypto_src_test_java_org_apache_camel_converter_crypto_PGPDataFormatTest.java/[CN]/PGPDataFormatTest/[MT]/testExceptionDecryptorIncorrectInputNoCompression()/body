{
  ByteArrayOutputStream bos=new ByteArrayOutputStream();
  createEncryptedNonCompressedData(bos,PUB_KEY_RING_SUBKEYS_FILE_NAME);
  MockEndpoint mock=getMockEndpoint("mock:exception");
  mock.expectedMessageCount(1);
  template.sendBody("direct:subkeyUnmarshal",bos.toByteArray());
  assertMockEndpointsSatisfied();
  checkThrownException(mock,IllegalArgumentException.class,null,"The input message body has an invalid format.");
}
