{
switch (level) {
case DEBUG:
    if (log.isDebugEnabled()) {
      log.debug(logMessage(exchange,e),e);
    }
  break;
case ERROR:
if (log.isErrorEnabled()) {
  log.error(logMessage(exchange,e),e);
}
break;
case FATAL:
if (log.isFatalEnabled()) {
log.fatal(logMessage(exchange,e),e);
}
break;
case INFO:
if (log.isInfoEnabled()) {
log.debug(logMessage(exchange,e),e);
}
break;
case TRACE:
if (log.isTraceEnabled()) {
log.trace(logMessage(exchange,e),e);
}
break;
case WARN:
if (log.isWarnEnabled()) {
log.warn(logMessage(exchange,e),e);
}
break;
default :
log.error("Unknown level: " + level + " when trying to log exchange: "+ logMessage(exchange,e),e);
}
}
