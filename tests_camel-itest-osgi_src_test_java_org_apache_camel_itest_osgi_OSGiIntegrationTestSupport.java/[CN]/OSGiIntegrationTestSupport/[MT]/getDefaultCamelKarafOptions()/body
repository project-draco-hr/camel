{
  deleteDirectory("target/paxrunner");
  int failsafe=1000;
  workDir="target/paxrunner/work-" + COUNTER.getAndIncrement();
  File dir=new File(workDir);
  while (dir.exists() && failsafe-- > 0) {
    workDir="target/paxrunner/work-" + COUNTER.getAndIncrement();
    dir=new File(workDir);
  }
  createDirectory(workDir);
  System.out.println("Using working directory: " + workDir);
  Option[] options=combine(combine(Helper.getDefaultConfigOptions(Helper.getDefaultSystemOptions(),getResource("/org/apache/camel/itest/karaf/config.properties"),Helper.setLogLevel("WARN")),Helper.getDefaultProvisioningOptions()),scanFeatures(getKarafFeatureUrl(),"spring","spring-dm","jetty"),scanFeatures(getCamelKarafFeatureUrl(),"cxf-jaxb"),scanFeatures(getCamelKarafFeatureUrl(),"camel-core","camel-spring","camel-test"),workingDirectory(workDir));
  return options;
}
