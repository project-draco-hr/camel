{
  Component ann=type.getAnnotation(Component.class);
  if (ann != null) {
    String id=ann.value();
    if (ObjectHelper.isEmpty(id)) {
      String[] names=applicationContext.getBeanNamesForType(type,true,true);
      if (names != null && names.length == 1) {
        id=names[0];
      }
    }
    if (ObjectHelper.isNotEmpty(id)) {
      boolean match=applicationContext.isTypeMatch(id,type);
      if (LOG.isTraceEnabled()) {
        LOG.trace("Is there already a RouteBuilder registering in Spring with id " + id + ": "+ match);
      }
      if (match) {
        Object existing=applicationContext.getBean(id,type);
        if (existing instanceof RouteBuilder) {
          if (LOG.isDebugEnabled()) {
            LOG.debug("Found existing @Component annotated RouteBuilder with id " + id);
          }
          return RouteBuilder.class.cast(existing);
        }
      }
    }
  }
  return null;
}
