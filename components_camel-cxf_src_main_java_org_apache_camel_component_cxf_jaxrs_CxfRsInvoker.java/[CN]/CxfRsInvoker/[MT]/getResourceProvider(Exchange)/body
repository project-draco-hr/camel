{
  if (exchange.get(JAXRSUtils.ROOT_PROVIDER) != null) {
    return (ResourceProvider)exchange.get(JAXRSUtils.ROOT_PROVIDER);
  }
 else {
    OperationResourceInfo ori=exchange.get(OperationResourceInfo.class);
    ClassResourceInfo cri=ori.getClassResourceInfo();
    return cri.getResourceProvider();
  }
}
