{
  char[] buffer=new char[10];
  expect(readerMock.read((char[])notNull(),anyInt(),anyInt())).andReturn(-1);
  replayAll();
  int result=nonXmlFilterReader.read(buffer,3,5);
  verifyAll();
  assertEquals("Unexpected number of chars read",-1,result);
  assertArrayEquals("Buffer should not have been affected",new char[]{0,0,0,0,0,0,0,0,0,0},buffer);
}
