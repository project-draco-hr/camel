{
  super.doStart();
  if (getPort() != SparkBase.SPARK_DEFAULT_PORT) {
    SparkBase.setPort(getPort());
  }
 else {
    RestConfiguration config=getCamelContext().getRestConfiguration();
    if (config.getComponent() == null || config.getComponent().equals("spark-rest")) {
      int port=config.getPort();
      if (port > 0) {
        SparkBase.setPort(port);
      }
    }
  }
  if (getIpAddress() != null) {
    SparkBase.setIpAddress(getIpAddress());
  }
  RestConfiguration config=getCamelContext().getRestConfiguration();
  if (config.getComponent() == null || config.getComponent().equals("spark-rest")) {
    if (config.getComponentProperties() != null && !config.getComponentProperties().isEmpty()) {
      setProperties(sparkConfiguration,config.getComponentProperties());
    }
  }
}
