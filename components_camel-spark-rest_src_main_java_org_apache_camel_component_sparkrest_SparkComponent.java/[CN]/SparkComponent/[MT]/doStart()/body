{
  super.doStart();
  if (getPort() != 4567) {
    CamelSpark.port(getPort());
  }
 else {
    RestConfiguration config=getCamelContext().getRestConfiguration("spark-rest",true);
    int port=config.getPort();
    if (port > 0) {
      CamelSpark.port(port);
    }
  }
  if (getIpAddress() != null) {
    CamelSpark.ipAddress(getIpAddress());
  }
  if (keystoreFile != null || truststoreFile != null) {
    CamelSpark.security(keystoreFile,keystorePassword,truststoreFile,truststorePassword);
  }
  RestConfiguration config=getCamelContext().getRestConfiguration("spark-rest",true);
  if (config.getComponentProperties() != null && !config.getComponentProperties().isEmpty()) {
    setProperties(sparkConfiguration,config.getComponentProperties());
  }
}
