{
  SparkEndpoint endpoint;
  if (consumes != null) {
    endpoint=camelContext.getEndpoint("spark-rest:" + verb + ":"+ path+ "?accept="+ consumes,SparkEndpoint.class);
  }
 else {
    endpoint=camelContext.getEndpoint("spark-rest:" + verb + ":"+ path,SparkEndpoint.class);
  }
  setProperties(endpoint,parameters);
  return endpoint.createConsumer(processor);
}
