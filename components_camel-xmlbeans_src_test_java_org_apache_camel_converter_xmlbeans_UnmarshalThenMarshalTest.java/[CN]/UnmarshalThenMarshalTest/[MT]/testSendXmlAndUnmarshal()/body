{
  MockEndpoint resultEndpoint=resolveMandatoryEndpoint("mock:result",MockEndpoint.class);
  resultEndpoint.expectedMessageCount(1);
  String expectedBody="<purchaseOrder name=\"Wine\" amount=\"123.45\" price=\"2.22\"/>";
  template.sendBody("direct:start",expectedBody);
  resultEndpoint.assertIsSatisfied();
  List<Exchange> list=resultEndpoint.getReceivedExchanges();
  Exchange exchange=list.get(0);
  String actualBody=exchange.getIn().getBody(String.class);
  log.debug("Received: " + actualBody);
  assertTrue("Bad result: " + actualBody,actualBody.contains(expectedBody));
}
