{
  Scheduler scheduler=getComponent().getScheduler();
  JobDetail jobDetail;
  Trigger trigger=scheduler.getTrigger(triggerKey);
  if (trigger == null) {
    jobDetail=createJobDetail();
    trigger=createTrigger(jobDetail);
    QuartzHelper.updateJobDataMap(getCamelContext(),jobDetail,getEndpointUri());
    Date nextFireDate=scheduler.scheduleJob(jobDetail,trigger);
    if (LOG.isInfoEnabled()) {
      LOG.info("Job {} (triggerType={}, jobClass={}) is scheduled. Next fire date is {}",new Object[]{trigger.getKey(),trigger.getClass().getSimpleName(),jobDetail.getJobClass().getSimpleName(),nextFireDate});
    }
  }
 else {
    ensureNoDupTriggerKey();
  }
  AtomicInteger number=(AtomicInteger)scheduler.getContext().get(QuartzConstants.QUARTZ_CAMEL_JOBS_COUNT);
  if (number != null) {
    number.incrementAndGet();
  }
  jobAdded.set(true);
}
