{
  IoAcceptor acceptor=new DatagramAcceptor();
  SocketAddress address=new InetSocketAddress(connectUri.getHost(),connectUri.getPort());
  IoConnector connector=new DatagramConnector();
  DatagramConnectorConfig connectorConfig=new DatagramConnectorConfig();
  configureDataGramCodecFactory(connectorConfig,parameters);
  DatagramAcceptorConfig acceptorConfig=new DatagramAcceptorConfig();
  configureDataGramCodecFactory(acceptorConfig,parameters);
  acceptorConfig.setDisconnectOnUnbind(true);
  boolean lazySessionCreation=ObjectConverter.toBool(parameters.get("lazySessionCreation"));
  MinaEndpoint endpoint=new MinaEndpoint(uri,this,address,acceptor,acceptorConfig,connector,connectorConfig,lazySessionCreation);
  boolean sync=ObjectConverter.toBool(parameters.get("sync"));
  if (sync) {
    endpoint.setExchangePattern(ExchangePattern.InOut);
  }
 else {
    endpoint.setExchangePattern(ExchangePattern.InOnly);
  }
  return endpoint;
}
