{
  ObjectHelper.notNull(configuration,"configuration");
  MinaConfiguration config=configuration.copy();
  URI u=new URI(remaining);
  config.setHost(u.getHost());
  config.setPort(u.getPort());
  config.setProtocol(u.getScheme());
  setProperties(config,parameters);
  return createEndpoint(uri,config);
}
