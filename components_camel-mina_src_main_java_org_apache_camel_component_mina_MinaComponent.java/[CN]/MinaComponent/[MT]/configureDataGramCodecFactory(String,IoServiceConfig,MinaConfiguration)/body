{
  ProtocolCodecFactory codecFactory=configuration.getCodec();
  if (codecFactory == null) {
    final Charset charset=getEncodingParameter(type,configuration);
    codecFactory=new MinaUdpProtocolCodecFactory(getCamelContext(),charset);
    if (LOG.isDebugEnabled()) {
      LOG.debug(type + ": Using CodecFactory: " + codecFactory+ " using encoding: "+ charset);
    }
  }
  addCodecFactory(config,codecFactory);
}
