{
  ProtocolCodecFactory codecFactory=configuration.getCodec();
  if (codecFactory == null) {
    final Charset charset=getEncodingParameter(type,configuration);
    codecFactory=new MinaUdpProtocolCodecFactory(getCamelContext(),charset);
    if (LOG.isDebugEnabled()) {
      LOG.debug("{}: Using CodecFactory: {} using encoding: {}",new Object[]{type,codecFactory,charset});
    }
  }
  addCodecFactory(config,codecFactory);
}
