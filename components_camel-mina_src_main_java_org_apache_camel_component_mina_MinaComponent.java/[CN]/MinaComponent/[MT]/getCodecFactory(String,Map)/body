{
  ProtocolCodecFactory codecFactory=null;
  String codec=(String)parameters.get("codec");
  if (codec != null) {
    codecFactory=getCamelContext().getRegistry().lookup(codec,ProtocolCodecFactory.class);
    if (LOG.isDebugEnabled()) {
      LOG.debug(type + ": Using custom CodecFactory: " + codecFactory);
    }
  }
  return codecFactory;
}
