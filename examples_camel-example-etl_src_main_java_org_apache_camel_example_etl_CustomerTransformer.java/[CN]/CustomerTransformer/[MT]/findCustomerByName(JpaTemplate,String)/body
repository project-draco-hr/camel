{
  List<CustomerEntity> list=CastUtils.cast(template.find("select x from " + CustomerEntity.class.getName() + " x where x.userName = ?1",user));
  if (list.isEmpty()) {
    CustomerEntity answer=new CustomerEntity();
    answer.setUserName(user);
    template.persist(answer);
    return answer;
  }
 else {
    return list.get(0);
  }
}
