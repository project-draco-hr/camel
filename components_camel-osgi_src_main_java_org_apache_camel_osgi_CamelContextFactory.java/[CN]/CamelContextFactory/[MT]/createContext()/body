{
  DefaultCamelContext context=new DefaultCamelContext();
  if (bundleContext != null) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("The bundle context is not be null, let's setup the Osgi resolvers");
    }
    context.setFactoryFinderResolver(new OsgiFactoryFinderResolver());
    context.setPackageScanClassResolver(new OsgiPackageScanClassResolver(bundleContext));
    context.setComponentResolver(new OsgiComponentResolver());
    context.setLanguageResolver(new OsgiLanguageResolver());
    addOsgiAnnotationTypeConverterLoader(context,bundleContext);
  }
  return context;
}
