{
  DefaultCamelContext context=new DefaultCamelContext();
  if (bundleContext != null) {
    LOG.debug("The bundle context is not be null, let's setup the Osgi resolvers");
    context.setPackageScanClassResolver(new OsgiPackageScanClassResolver(bundleContext));
    context.setComponentResolver(new OsgiComponentResolver());
    context.setLanguageResolver(new OsgiLanguageResolver());
    addOsgiAnnotationTypeConverterLoader(context,bundleContext);
    context.setFactoryFinderResolver(new OsgiFactoryFinderResolver());
  }
  return context;
}
