{
  ObjectHelper.notNull(camelContext,"camelContext",this);
  if (inputs == null) {
    inputs=new HashMap<String,Set<String>>();
  }
  if (outputs == null) {
    outputs=new HashMap<String,Map<String,String>>();
  }
  if (getCamelContext().getManagementStrategy().getManagementAgent() != null) {
    extended=getCamelContext().getManagementStrategy().getManagementAgent().getStatisticsLevel().isExtended();
  }
  if (extended) {
    inputUtilization=new DefaultEndpointUtilizationStatistics(limit);
    outputUtilization=new DefaultEndpointUtilizationStatistics(limit);
  }
  ServiceHelper.startServices(inputUtilization,outputUtilization);
}
