{
  deleteCounter=0;
  existsCounter=0;
  GenericFileEndpoint endpoint=context.getEndpoint("file://target/foo",GenericFileEndpoint.class);
  Exchange exchange=endpoint.createExchange();
  GenericFile file=new GenericFile();
  file.setAbsoluteFilePath("target/foo/me.txt");
  GenericFileDeleteProcessStrategy strategy=new GenericFileDeleteProcessStrategy();
  strategy.commit(new MyGenericFileOperations(),endpoint,exchange,file);
  assertEquals("Should have tried to delete file 2 times",2,deleteCounter);
  assertEquals("Should have tried to delete file 2 times",2,existsCounter);
}
