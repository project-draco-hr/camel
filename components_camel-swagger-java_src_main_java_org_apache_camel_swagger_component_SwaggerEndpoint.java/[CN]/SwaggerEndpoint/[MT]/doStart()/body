{
  super.doStart();
  if (apiDoc == null) {
    throw new IllegalArgumentException("The swagger api-doc must be configured using the apiDoc option");
  }
  InputStream is=resolveMandatoryResourceAsInputStream(getCamelContext(),apiDoc);
  try {
    SwaggerParser parser=new SwaggerParser();
    String json=getCamelContext().getTypeConverter().mandatoryConvertTo(String.class,is);
    LOG.debug("Loaded swagger api-doc:\n{}",json);
    swagger=parser.parse(json);
  }
  finally {
    IOHelper.close(is);
  }
}
