{
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedBodiesReceived("Bye World");
  writeFiles();
  assertMockEndpointsSatisfied();
  assertTrue(oneExchangeDone.matchesMockWaitTime());
  assertFileExists("target/readlock/out/file2.dat");
  assertFileExists("target/readlock/in/file1.dat.camelLock");
  assertFileExists("target/readlock/in/file1.dat");
}
