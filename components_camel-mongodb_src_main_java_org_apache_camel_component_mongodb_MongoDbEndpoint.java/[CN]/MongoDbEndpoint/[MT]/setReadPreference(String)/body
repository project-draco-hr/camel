{
  Class<?>[] innerClasses=ReadPreference.class.getDeclaredClasses();
  for (  Class<?> inClass : innerClasses) {
    if (inClass.getSuperclass() == ReadPreference.class && inClass.getName().equals(readPreference)) {
      try {
        this.readPreference=(ReadPreference)inClass.getConstructor((Class<?>)null).newInstance((Object[])null);
      }
 catch (      Exception e) {
        continue;
      }
      break;
    }
  }
  LOG.error("Could not resolve specified ReadPreference of type {}. Read preferences are resolved from inner " + "classes of com.mongodb.ReadPreference.",readPreference);
  throw new IllegalArgumentException("MongoDB endpoint could not resolve specified ReadPreference");
}
