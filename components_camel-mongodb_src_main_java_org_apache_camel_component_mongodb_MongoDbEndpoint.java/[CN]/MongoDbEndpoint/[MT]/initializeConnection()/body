{
  LOG.info("Initialising MongoDb endpoint: {}",this.toString());
  if (database == null || collection == null) {
    throw new CamelMongoDbException("Missing required endpoint configuration: database and/or collection");
  }
  db=mongoConnection.getDB(database);
  if (db == null) {
    throw new CamelMongoDbException("Could not initialise MongoDbComponent. Database " + database + " does not exist.");
  }
  if (!createCollection && !db.collectionExists(collection)) {
    throw new CamelMongoDbException("Could not initialise MongoDbComponent. Collection " + collection + " and createCollection is false.");
  }
  dbCollection=db.getCollection(collection);
  LOG.info("MongoDb component initialised and endpoint bound to MongoDB collection with the following paramters. Address list: {}, Db: {}, Collection: {}",new Object[]{mongoConnection.getAllAddress().toString(),db.getName(),dbCollection.getName()});
}
