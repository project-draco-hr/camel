{
  MockEndpoint mock=getMockEndpoint("mock:query");
  mock.expectedMessageCount(1);
  Map<String,Object> headers=new HashMap<>();
  headers.put("num1",1);
  headers.put("num2",2);
  template.requestBodyAndHeaders("direct:query",null,headers);
  assertMockEndpointsSatisfied();
  Exchange exchange=mock.getExchanges().get(0);
  assertEquals(Integer.valueOf(3),exchange.getIn().getHeader("resultofsum"));
}
