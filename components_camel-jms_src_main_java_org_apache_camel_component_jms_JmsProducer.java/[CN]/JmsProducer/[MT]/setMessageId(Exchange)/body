{
  if (!(exchange instanceof JmsExchange)) {
    return;
  }
  try {
    JmsExchange jmsExchange=JmsExchange.class.cast(exchange);
    JmsMessage out=jmsExchange.getOut(false);
    if (out != null) {
      out.setMessageId(out.getJmsMessage().getJMSMessageID());
    }
  }
 catch (  JMSException e) {
    LOG.warn("Unable to retrieve JMSMessageID from outgoing JMS Message and " + "set it into Camel's MessageId",e);
  }
}
