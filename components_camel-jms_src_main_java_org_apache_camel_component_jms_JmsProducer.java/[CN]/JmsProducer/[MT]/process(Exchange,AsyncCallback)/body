{
  if (!isRunAllowed()) {
    if (exchange.getException() == null) {
      exchange.setException(new RejectedExecutionException());
    }
    callback.done(true);
    return true;
  }
  if (!endpoint.isDisableReplyTo() && exchange.getPattern().isOutCapable()) {
    return processInOut(exchange,callback);
  }
 else {
    return processInOnly(exchange,callback);
  }
}
