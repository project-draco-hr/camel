{
  ModelCamelContext camelContext=getContext();
  if (camelContext == null) {
    throw new IllegalArgumentException("CamelContext has not been injected!");
  }
  getRestCollection().setCamelContext(camelContext);
  if (getRestConfiguration() != null) {
    for (    Map.Entry<String,RestConfigurationDefinition> entry : getRestConfiguration().entrySet()) {
      RestConfiguration config=entry.getValue().asRestConfiguration(getContext());
      if ("default".equals(entry.getKey())) {
        camelContext.setRestConfiguration(config);
      }
 else {
        camelContext.addRestConfiguration(config);
      }
    }
  }
  camelContext.addRestDefinitions(getRestCollection().getRests());
  for (  RestDefinition rest : getRestCollection().getRests()) {
    List<RouteDefinition> routes=rest.asRouteDefinition(getContext());
    for (    RouteDefinition route : routes) {
      getRouteCollection().route(route);
    }
  }
}
