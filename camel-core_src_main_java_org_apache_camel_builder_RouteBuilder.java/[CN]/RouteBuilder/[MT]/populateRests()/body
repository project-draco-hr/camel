{
  ModelCamelContext camelContext=getContext();
  if (camelContext == null) {
    throw new IllegalArgumentException("CamelContext has not been injected!");
  }
  getRestCollection().setCamelContext(camelContext);
  if (getRestConfiguration() != null) {
    RestConfiguration config=getRestConfiguration().asRestConfiguration(getContext());
    camelContext.setRestConfiguration(config);
  }
  camelContext.addRestDefinitions(getRestCollection().getRests());
  for (  RestDefinition rest : getRestCollection().getRests()) {
    List<RouteDefinition> routes=rest.asRouteDefinition(getContext());
    for (    RouteDefinition route : routes) {
      getRouteCollection().route(route);
    }
  }
}
