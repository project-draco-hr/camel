{
  if (file.getFile() instanceof File) {
    File f=(File)file.getFile();
    com.google.api.services.drive.model.File fileMetadata=new com.google.api.services.drive.model.File();
    fileMetadata.setTitle(f.getName());
    FileContent mediaContent=new FileContent(null,f);
    if (exchange != null) {
      exchange.getIn().setHeader("CamelGoogleDrive.content",fileMetadata);
      exchange.getIn().setHeader("CamelGoogleDrive.mediaContent",mediaContent);
    }
    return fileMetadata;
  }
  if (exchange != null) {
    file.getBinding().loadContent(exchange,file);
    InputStream is=exchange.getContext().getTypeConverter().convertTo(InputStream.class,exchange,file.getBody());
    com.google.api.services.drive.model.File fileMetadata=new com.google.api.services.drive.model.File();
    fileMetadata.setTitle(file.getFileName());
    InputStreamContent mediaContent=new InputStreamContent(null,is);
    if (exchange != null) {
      exchange.getIn().setHeader("CamelGoogleDrive.content",fileMetadata);
      exchange.getIn().setHeader("CamelGoogleDrive.mediaContent",mediaContent);
    }
    return fileMetadata;
  }
  return null;
}
