{
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMinimumMessageCount(1);
  template.sendBody("direct:start",new SendEmail("one@somewhere.org"));
  template.sendBody("direct:start",new SendEmail("two@somewhere.org"));
  template.sendBody("direct:start",new SendEmail("three@somewhere.org"));
  assertMockEndpointsSatisfied();
  assertEntityInDB();
  assertTrue("Should not consume all 3 at once",mock.getReceivedCounter() < 3);
}
