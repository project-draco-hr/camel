{
  Iterator<AsyncProcessor> processors=getProcessors().iterator();
  while (continueRouting(processors,exchange)) {
    prepareResult(exchange);
    AsyncProcessor processor=processors.next();
    boolean sync=process(exchange,callback,processor,processors);
    if (!sync) {
      if (LOG.isTraceEnabled()) {
        LOG.trace("Processing exchangeId: " + exchange.getExchangeId() + " is continued being processed asynchronously");
      }
      return false;
    }
    if (LOG.isTraceEnabled()) {
      LOG.trace("Processing exchangeId: " + exchange.getExchangeId() + " is continued being processed synchronously");
    }
  }
  prepareResult(exchange);
  if (LOG.isTraceEnabled()) {
    LOG.trace("Processing complete for exchangeId: " + exchange.getExchangeId() + " >>> "+ exchange);
  }
  callback.done(true);
  return true;
}
