{
  return new RouteBuilder(){
    @Override public void configure() throws Exception {
      Tracer tracer=new Tracer();
      getContext().addInterceptStrategy(tracer);
      from("file:target/split").routeId("foo").noAutoStartup().split(body().tokenize(comma)).parallelProcessing().streaming().setProperty("split",new SimpleExpression("${property.CamelSplitIndex}")).split(body().tokenize(LS)).parallelProcessing().streaming().setBody(body().append(":Status=OK").append(LS)).to("file:target/split/outbox?fileExist=Append&fileName=result${property.split}.txt").end().setBody(new SimpleExpression("${property.split} complete")).to("file:target/split/outbox?fileExist=Append&fileName=result${property.split}.txt").end().to("mock:result");
    }
  }
;
}
