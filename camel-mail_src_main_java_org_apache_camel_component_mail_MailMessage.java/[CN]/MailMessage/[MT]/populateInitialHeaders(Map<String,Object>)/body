{
  if (mailMessage != null) {
    Enumeration names;
    try {
      names=mailMessage.getAllHeaders();
    }
 catch (    MessagingException e) {
      throw new MessageHeaderNamesAccessException(e);
    }
    while (names.hasMoreElements()) {
      String name=names.nextElement().toString();
      try {
        Object value=mailMessage.getHeader(name);
        map.put(name,value);
      }
 catch (      MessagingException e) {
        throw new MessageHeaderAccessException(name,e);
      }
    }
  }
}
