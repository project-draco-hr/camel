{
  NotifyBuilder expireMatcher=new NotifyBuilder(context).fromRoute(EXPIRED_MESSAGE_ROUTE_ID).whenCompleted(1).create();
  String endpoint=String.format("sjms:queue:%s?ttl=1000",TEST_INONLY_DESTINATION_NAME);
  template.sendBody(endpoint,"test message");
  expireMatcher.matches(2,TimeUnit.SECONDS);
  DestinationViewMBean queue=getQueueMBean(TEST_INONLY_DESTINATION_NAME);
  assertEquals("There were unexpected messages left in the queue: " + TEST_INONLY_DESTINATION_NAME,0,queue.getQueueSize());
}
