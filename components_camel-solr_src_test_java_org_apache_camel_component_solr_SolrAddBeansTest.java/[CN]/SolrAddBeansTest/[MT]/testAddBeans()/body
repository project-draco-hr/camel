{
  List<Item> beans=new ArrayList<Item>();
  Item item1=new Item();
  item1.id=TEST_ID;
  item1.categories=new String[]{"aaa","bbb","ccc"};
  beans.add(item1);
  Item item2=new Item();
  item2.id=TEST_ID2;
  item2.categories=new String[]{"aaa","bbb","ccc"};
  beans.add(item2);
  template.sendBodyAndHeader("direct:start",beans,SolrConstants.OPERATION,SolrConstants.OPERATION_ADD_BEANS);
  template.sendBodyAndHeader("direct:start",null,SolrConstants.OPERATION,SolrConstants.OPERATION_COMMIT);
  assertEquals("wrong number of entries found",1,executeSolrQuery("id:" + TEST_ID).getResults().getNumFound());
  assertEquals("wrong number of entries found",1,executeSolrQuery("id:" + TEST_ID2).getResults().getNumFound());
  assertEquals("wrong number of entries found",2,executeSolrQuery("*:*").getResults().getNumFound());
}
