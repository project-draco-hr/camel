{
synchronized (activationMutex) {
    if (this.consumer.get() != consumer) {
      throw new RuntimeCamelException("Consumer was not active.");
    }
    this.consumer.set(null);
    try {
      thread.join();
    }
 catch (    InterruptedException e) {
      throw new InterruptedIOException();
    }
    decrementReference();
  }
}
