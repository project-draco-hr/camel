{
  if (scope == ThrottlingScope.Context) {
    return exchange.getContext().getInflightRepository().size();
  }
 else {
    Endpoint endpoint=consumer.getEndpoint();
    return exchange.getContext().getInflightRepository().size(endpoint);
  }
}
