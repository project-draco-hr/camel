{
  InputStream in=null;
  try {
    in=exchange.getIn().getMandatoryBody(InputStream.class);
    return createIterator(in,exchange);
  }
 catch (  InvalidPayloadException e) {
    exchange.setException(e);
    IOHelper.close(in);
    return null;
  }
catch (  XMLStreamException e) {
    exchange.setException(e);
    IOHelper.close(in);
    return null;
  }
 finally {
    if (closeStream) {
      IOHelper.close(in);
    }
  }
}
