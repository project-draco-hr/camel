{
  try {
    Transport transport=getTransport(getSession());
    transport.connect(getHost(),getPort(),getUsername(),getPassword());
    return transport;
  }
 catch (  AuthenticationFailedException ex) {
    throw new MailAuthenticationException(ex);
  }
catch (  MessagingException ex) {
    throw new MailSendException("Mail server connection failed",ex);
  }
}
