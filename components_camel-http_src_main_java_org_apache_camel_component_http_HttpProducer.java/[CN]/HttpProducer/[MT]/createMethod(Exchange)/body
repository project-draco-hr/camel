{
  String uri=((HttpEndpoint)getEndpoint()).getHttpUri().toString();
  RequestEntity requestEntity=createRequestEntity(exchange);
  if (requestEntity == null) {
    GetMethod method=new GetMethod(uri);
    if (exchange.getIn().getHeader(QUERY) != null) {
      method.setQueryString(exchange.getIn().getHeader(QUERY,String.class));
    }
    return method;
  }
  PostMethod method=new PostMethod(uri);
  method.setRequestEntity(requestEntity);
  return method;
}
