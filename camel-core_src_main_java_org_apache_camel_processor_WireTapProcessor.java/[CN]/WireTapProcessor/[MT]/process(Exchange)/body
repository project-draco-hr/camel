{
  if (producer == null) {
    if (isStopped()) {
      LOG.warn("Ignoring exchange sent after processor is stopped: " + exchange);
    }
 else {
      throw new IllegalStateException("No producer, this processor has not been started!");
    }
  }
 else {
    Exchange wireTapExchange=configureExchange(exchange);
    procesWireTap(wireTapExchange);
  }
}
