{
  try {
    String key;
    String prefix=getCamelContext().getPropertyPrefixToken();
    String suffix=getCamelContext().getPropertySuffixToken();
    if (prefix == null && suffix == null) {
      prefix=PropertiesComponent.DEFAULT_PREFIX_TOKEN;
      suffix=PropertiesComponent.DEFAULT_SUFFIX_TOKEN;
    }
    if (!propertyName.startsWith(prefix)) {
      key=prefix + propertyName + suffix;
    }
 else {
      key=propertyName;
    }
    String value=getCamelContext().resolvePropertyPlaceholders(key);
    if (value != null) {
      return getCamelContext().getTypeConverter().mandatoryConvertTo(type,value);
    }
 else {
      return null;
    }
  }
 catch (  Exception e) {
    if (ObjectHelper.isNotEmpty(propertyDefaultValue)) {
      try {
        return getCamelContext().getTypeConverter().mandatoryConvertTo(type,propertyDefaultValue);
      }
 catch (      Exception e2) {
        throw ObjectHelper.wrapRuntimeCamelException(e2);
      }
    }
    throw ObjectHelper.wrapRuntimeCamelException(e);
  }
}
