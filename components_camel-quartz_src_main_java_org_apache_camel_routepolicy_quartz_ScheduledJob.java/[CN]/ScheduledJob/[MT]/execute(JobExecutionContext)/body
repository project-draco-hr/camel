{
  SchedulerContext schedulerContext;
  try {
    schedulerContext=jobExecutionContext.getScheduler().getContext();
  }
 catch (  SchedulerException e) {
    throw new JobExecutionException("Failed to obtain scheduler context for job " + jobExecutionContext.getJobDetail().getName());
  }
  ScheduledJobState state=(ScheduledJobState)schedulerContext.get(jobExecutionContext.getJobDetail().getName());
  Action storedAction=state.getAction();
  storedRoute=state.getRoute();
  ScheduledRoutePolicy policy=(ScheduledRoutePolicy)storedRoute.getRouteContext().getRoutePolicy();
  try {
    policy.onJobExecute(storedAction,storedRoute);
  }
 catch (  Exception e) {
    throw new JobExecutionException("Failed to execute Scheduled Job for route " + storedRoute.getId() + " with trigger name: "+ jobExecutionContext.getTrigger().getFullName());
  }
}
