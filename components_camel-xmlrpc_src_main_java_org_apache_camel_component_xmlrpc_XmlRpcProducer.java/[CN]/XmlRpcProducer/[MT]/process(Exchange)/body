{
  LOG.trace("Process exchange: {} in the sync way.",exchange);
  Message in=exchange.getIn();
  String methodName=in.getHeader(XmlRpcConstants.METHOD_NAME,String.class);
  if (ObjectHelper.isEmpty(methodName)) {
    methodName=endpoint.getDefaultMethodName();
  }
  if (ObjectHelper.isEmpty(methodName)) {
    throw new IllegalArgumentException("CamelXmlRpcMethodName header is empty, please set the message header or defaultMethodName option on the endpoint.");
  }
  try {
    Object result=client.execute(methodName,in.getBody(List.class));
    exchange.getOut().getHeaders().putAll(exchange.getIn().getHeaders());
    exchange.getOut().setBody(result);
  }
 catch (  Exception ex) {
    LOG.warn("Got an exception {0} when invoke the XMLRPC service",ex);
    exchange.setException(ex);
  }
}
