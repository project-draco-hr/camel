{
  if (nagiosSettings == null) {
    ObjectHelper.notEmpty(host,"host",this);
    if (port <= 0) {
      throw new IllegalArgumentException("Port must be a positive number on " + this);
    }
    nagiosSettings=new NagiosSettings();
    nagiosSettings.setConnectTimeout(getConnectionTimeout());
    nagiosSettings.setTimeout(getTimeout());
    nagiosSettings.setNagiosHost(getHost());
    nagiosSettings.setPort(getPort());
    nagiosSettings.setPassword(getPassword());
    if (encryptionMethod != null) {
      if (NagiosEncryptionMethod.No == encryptionMethod) {
        nagiosSettings.setEncryptionMethod(Encryption.NO_ENCRYPTION);
      }
 else       if (NagiosEncryptionMethod.Xor == encryptionMethod) {
        nagiosSettings.setEncryptionMethod(Encryption.XOR_ENCRYPTION);
      }
 else       if (NagiosEncryptionMethod.TripleDes == encryptionMethod) {
        nagiosSettings.setEncryptionMethod(Encryption.TRIPLE_DES_ENCRYPTION);
      }
 else {
        throw new IllegalArgumentException("Unknown encryption method: " + encryptionMethod);
      }
    }
  }
  return nagiosSettings;
}
