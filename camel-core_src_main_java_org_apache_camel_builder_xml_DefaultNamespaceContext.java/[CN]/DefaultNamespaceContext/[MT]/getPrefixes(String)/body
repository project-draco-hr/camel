{
  Set set=new HashSet();
  for (Iterator iter=map.entrySet().iterator(); iter.hasNext(); ) {
    Map.Entry entry=(Map.Entry)iter.next();
    if (namespaceURI.equals(entry.getValue())) {
      set.add(entry.getKey());
    }
  }
  if (parent != null) {
    Iterator iter=parent.getPrefixes(namespaceURI);
    while (iter.hasNext()) {
      set.add(iter.next());
    }
  }
  return set.iterator();
}
