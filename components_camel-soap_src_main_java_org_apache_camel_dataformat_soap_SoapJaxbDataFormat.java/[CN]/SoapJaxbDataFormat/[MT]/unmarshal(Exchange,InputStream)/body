{
  Object rootObject=JAXBIntrospector.getValue(super.unmarshal(exchange,stream));
  if (rootObject.getClass() != Envelope.class) {
    throw new RuntimeCamelException("Expected Soap Envelope but got " + rootObject.getClass());
  }
  Envelope envelope=(Envelope)rootObject;
  Object payloadEl=envelope.getBody().getAny().get(0);
  Object payload=JAXBIntrospector.getValue(payloadEl);
  if (payload instanceof Fault) {
    Exception exception=createExceptionFromFault((Fault)payload);
    exchange.setException(exception);
    return null;
  }
 else {
    return isIgnoreJAXBElement() ? payload : payloadEl;
  }
}
