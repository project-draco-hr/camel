{
  template.send("direct:a",new Processor(){
    public void process(    Exchange exchange){
      Message in=exchange.getIn();
      in.setBody(1);
    }
  }
,new AsyncCallback(){
    public void done(    boolean doneSynchronously){
      log.info("Exchange completed.");
    }
  }
);
  resultEndpoint.expectedMessageCount(0);
  resultEndpoint.assertIsSatisfied();
  continueProcessing.countDown();
  resultEndpoint.expectedMessageCount(1);
  resultEndpoint.assertIsSatisfied();
}
