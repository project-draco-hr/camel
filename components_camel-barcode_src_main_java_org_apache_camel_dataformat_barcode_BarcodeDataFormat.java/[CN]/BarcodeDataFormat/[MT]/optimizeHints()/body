{
  this.writerHintMap.clear();
  this.readerHintMap.clear();
  String format=this.params.getFormat().toString();
  if (format.equals(BarcodeFormat.QR_CODE.toString())) {
    this.writerHintMap.put(EncodeHintType.ERROR_CORRECTION,ErrorCorrectionLevel.H);
  }
  if (format.equals(BarcodeFormat.DATA_MATRIX.toString())) {
    this.writerHintMap.put(EncodeHintType.DATA_MATRIX_SHAPE,SymbolShapeHint.FORCE_SQUARE);
  }
  this.readerHintMap.put(DecodeHintType.TRY_HARDER,Boolean.TRUE);
}
