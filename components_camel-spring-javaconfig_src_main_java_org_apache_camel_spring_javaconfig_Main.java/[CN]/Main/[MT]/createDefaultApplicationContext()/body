{
  ApplicationContext parentContext=getParentApplicationContext();
  AnnotationConfigApplicationContext acApplicationContext=new AnnotationConfigApplicationContext();
  if (parentContext != null) {
    acApplicationContext.setParent(parentContext);
  }
  if (getConfigClassesString() != null) {
    Class<?>[] configClasses=getConfigClasses(getConfigClassesString());
    for (    Class<?> cls : configClasses) {
      acApplicationContext.register(cls);
    }
  }
  if (getBasedPackages() != null) {
    String[] basePackages=getBasedPackages().split(";");
    for (    String basePackage : basePackages) {
      acApplicationContext.scan(basePackage);
    }
  }
  acApplicationContext.refresh();
  return acApplicationContext;
}
