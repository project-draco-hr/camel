{
  ApplicationContext parentContext=getParentApplicationContext();
  AnnotationConfigApplicationContext acApplicationContext=new AnnotationConfigApplicationContext();
  if (parentContext != null) {
    acApplicationContext.setParent(parentContext);
  }
  if (getConfigClasses() != null) {
    Class<?>[] configClasses=getConfigClasses(getConfigClasses());
    for (    Class<?> cls : configClasses) {
      acApplicationContext.register(cls);
    }
  }
  if (getConfigClass() != null) {
    for (    Class<?> cls : getConfigClass()) {
      acApplicationContext.register(cls);
    }
  }
  if (getBasedPackages() != null) {
    String[] basePackages=getBasedPackages().split("(;|,)");
    for (    String basePackage : basePackages) {
      basePackage=basePackage.trim();
      acApplicationContext.scan(basePackage);
    }
  }
  acApplicationContext.refresh();
  return acApplicationContext;
}
