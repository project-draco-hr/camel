{
  Iterator<Throwable> it=ObjectHelper.createExceptionIterator(exception);
  while (it.hasNext()) {
    Throwable e=it.next();
    for (    Class<?> type : exceptions) {
      if (type.isInstance(e) && matchesWhen(exchange)) {
        return e;
      }
    }
  }
  return null;
}
