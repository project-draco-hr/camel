{
  shutdown.set(true);
  if (executor != null && executor instanceof ThreadPoolExecutor) {
    ((ThreadPoolExecutor)executor).shutdown();
    ((ThreadPoolExecutor)executor).awaitTermination(0,TimeUnit.SECONDS);
  }
  ServiceHelper.stopServices(processors);
}
