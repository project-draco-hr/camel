{
  try {
    if (parallelAggregate) {
      doAggregateInternal(getAggregationStrategy(subExchange),result,subExchange);
    }
 else {
      doAggregate(getAggregationStrategy(subExchange),result,subExchange);
    }
  }
 catch (  Throwable e) {
    subExchange.setException(new CamelExchangeException("Parallel processing failed for number " + aggregated.get(),subExchange,e));
  }
 finally {
    aggregated.incrementAndGet();
  }
}
