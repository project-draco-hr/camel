{
  ZooKeeperComponent comp=context.getComponent("zookeeper",ZooKeeperComponent.class);
  EndpointConfiguration conf=comp.createConfiguration("zookeeper://localhost:39913/somepath/somenode?create=true&createMode=PERSISTENT");
  assertEquals("true",conf.getParameter("create"));
  assertEquals("PERSISTENT",conf.getParameter("createMode"));
  ComponentConfiguration compConf=comp.createComponentConfiguration();
  String json=compConf.createParameterJsonSchema();
  assertNotNull(json);
  assertTrue(json.contains("\"createMode\": { \"kind\": \"parameter\", \"type\": \"string\""));
  assertTrue(json.contains("\"backoff\": { \"kind\": \"parameter\", \"type\": \"integer\""));
}
