{
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedBodiesReceivedInAnyOrder("a","b");
  template.sendBodyAndHeader("file:target/depth/3","a",Exchange.FILE_NAME,"a.txt");
  template.sendBodyAndHeader("file:target/depth/3","b",Exchange.FILE_NAME,"b.txt");
  template.sendBodyAndHeader("file:target/depth/3/foo","a2",Exchange.FILE_NAME,"a.txt");
  template.sendBodyAndHeader("file:target/depth/3/foo/bar","a3",Exchange.FILE_NAME,"a.txt");
  template.sendBodyAndHeader("file:target/depth/3/bar","b2",Exchange.FILE_NAME,"b.txt");
  template.sendBodyAndHeader("file:target/depth/3/bar/foo","b3",Exchange.FILE_NAME,"b.txt");
  assertMockEndpointsSatisfied();
}
