{
  CxfEndpoint result=null;
  if (remaining.startsWith(CxfConstants.SPRING_CONTEXT_ENDPOINT)) {
    String beanId=remaining.substring(CxfConstants.SPRING_CONTEXT_ENDPOINT.length());
    if (beanId.startsWith("//")) {
      beanId=beanId.substring(2);
    }
    CxfEndpointBean bean=CamelContextHelper.mandatoryLookup(getCamelContext(),beanId,CxfEndpointBean.class);
    result=new CxfSpringEndpoint(this,bean);
    if (getHeaderFilterStrategy() != null) {
      result.setHeaderFilterStrategy(headerFilterStrategy);
    }
    if (bean.getProperties() != null) {
      Map<String,Object> copy=new HashMap<String,Object>();
      copy.putAll(bean.getProperties());
      setProperties(result,copy);
    }
  }
 else {
    result=new CxfEndpoint(remaining,this);
  }
  return result;
}
