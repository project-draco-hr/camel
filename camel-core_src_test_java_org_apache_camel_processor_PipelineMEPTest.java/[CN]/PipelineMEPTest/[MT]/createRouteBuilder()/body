{
  final Processor inProcessor=new Processor(){
    public void process(    Exchange exchange){
      Integer number=exchange.getIn().getBody(Integer.class);
      if (number == null) {
        number=0;
      }
      number=number + 1;
      exchange.getIn().setBody(number);
    }
  }
;
  final Processor outProcessor=new Processor(){
    public void process(    Exchange exchange){
      Integer number=exchange.getIn().getBody(Integer.class);
      if (number == null) {
        number=0;
      }
      number=number + 1;
      exchange.getOut().setBody(number);
    }
  }
;
  return new RouteBuilder(){
    public void configure(){
      from("direct:a").process(outProcessor).pipeline("log:x","log:y").process(inProcessor).to("mock:result");
    }
  }
;
}
