{
  Endpoint endpoint=resolveEndpoint(routeContext);
  executorService=ExecutorServiceHelper.getConfiguredExecutorService(routeContext,"WireTap",this);
  if (executorService == null) {
    executorService=routeContext.getCamelContext().getExecutorServiceStrategy().newDefaultThreadPool(this,"WireTap");
  }
  WireTapProcessor answer=new WireTapProcessor(endpoint,getPattern(),executorService);
  if (isCopy() == null) {
    answer.setCopy(true);
  }
 else {
    answer.setCopy(isCopy());
  }
  if (newExchangeProcessorRef != null) {
    newExchangeProcessor=routeContext.lookup(newExchangeProcessorRef,Processor.class);
  }
  answer.setNewExchangeProcessor(newExchangeProcessor);
  if (newExchangeExpression != null) {
    answer.setNewExchangeExpression(newExchangeExpression.createExpression(routeContext));
  }
  return answer;
}
