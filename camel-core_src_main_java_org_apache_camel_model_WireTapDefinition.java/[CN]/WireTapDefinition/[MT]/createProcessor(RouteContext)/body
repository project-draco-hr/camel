{
  Endpoint endpoint=resolveEndpoint(routeContext);
  WireTapProcessor answer=new WireTapProcessor(endpoint,getPattern());
  if (newExchangeProcessorRef != null) {
    newExchangeProcessor=routeContext.lookup(newExchangeProcessorRef,Processor.class);
  }
  answer.setNewExchangeProcessor(newExchangeProcessor);
  if (newExchangeExpression != null) {
    answer.setNewExchangeExpression(newExchangeExpression.createExpression(routeContext));
  }
  executorService=ExecutorServiceHelper.getConfiguredExecutorService(routeContext,this);
  answer.setExecutorService(executorService);
  return answer;
}
