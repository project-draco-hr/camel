{
  try {
    template.request("http4://" + getHostName() + ":"+ getPort()+ "/XXX?throwExceptionOnFailure=true",new Processor(){
      public void process(      Exchange exchange) throws Exception {
      }
    }
);
    fail("RuntimeCamelException expected");
  }
 catch (  RuntimeCamelException e) {
    HttpOperationFailedException ex=(HttpOperationFailedException)e.getCause();
    assertEquals(501,ex.getStatusCode());
  }
}
