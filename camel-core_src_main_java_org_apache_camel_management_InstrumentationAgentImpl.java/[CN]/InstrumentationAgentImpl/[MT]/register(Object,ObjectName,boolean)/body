{
  try {
    registerMBeanWithServer(obj,name,forceRegistration);
  }
 catch (  NotCompliantMBeanException e) {
    ModelMBeanInfo mbi=null;
    mbi=assembler.getMBeanInfo(obj,name.toString());
    RequiredModelMBean mbean=(RequiredModelMBean)server.instantiate(RequiredModelMBean.class.getName());
    mbean.setModelMBeanInfo(mbi);
    try {
      mbean.setManagedResource(obj,"ObjectReference");
    }
 catch (    InvalidTargetObjectTypeException itotex) {
      throw new JMException(itotex.getMessage());
    }
    registerMBeanWithServer(mbean,name,forceRegistration);
  }
}
