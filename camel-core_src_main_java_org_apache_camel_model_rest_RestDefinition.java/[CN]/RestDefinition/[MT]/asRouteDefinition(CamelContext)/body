{
  List<RouteDefinition> answer=new ArrayList<RouteDefinition>();
  for (  VerbDefinition verb : getVerbs()) {
    String from="rest:" + verb.asVerb() + ":"+ buildUri(verb);
    Map<String,Object> options=new HashMap<String,Object>();
    if (verb.getConsumes() != null) {
      options.put("consumes",verb.getConsumes());
    }
    if (!options.isEmpty()) {
      String query=URISupport.createQueryString(options);
      from=from + "?" + query;
    }
    RouteDefinition route=verb.getRoute();
    if (route == null) {
      route=new RouteDefinition();
      route.getOutputs().add(verb.getTo());
    }
    RestBindingDefinition binding=new RestBindingDefinition();
    binding.setType(verb.getType());
    binding.setOutType(verb.getOutType());
    binding.setList(verb.getList());
    binding.setOutList(verb.getOutList());
    if (verb.getConsumes() != null) {
      binding.setConsumes(verb.getConsumes());
    }
 else {
      binding.setConsumes(getConsumes());
    }
    if (verb.getProduces() != null) {
      binding.setProduces(verb.getProduces());
    }
 else {
      binding.setProduces(getProduces());
    }
    if (verb.getBindingMode() != null) {
      binding.setBindingMode(verb.getBindingMode());
    }
 else {
      binding.setBindingMode(getBindingMode());
    }
    route.getOutputs().add(0,binding);
    route.fromRest(from);
    route.setRestDefinition(this);
    answer.add(route);
  }
  return answer;
}
