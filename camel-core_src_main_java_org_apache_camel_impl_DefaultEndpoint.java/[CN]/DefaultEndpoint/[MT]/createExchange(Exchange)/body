{
  Class<Exchange> exchangeType=getExchangeType();
  if (exchangeType != null) {
    if (exchangeType.isInstance(exchange)) {
      return exchangeType.cast(exchange);
    }
  }
  Exchange answer=createExchange();
  answer.copyFrom(exchange);
  return answer;
}
