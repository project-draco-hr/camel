{
  if (activated.compareAndSet(false,true)) {
    deactivated.set(false);
    this.inboundProcessor=inboundProcessor;
    doActivate();
  }
 else {
    throw new IllegalStateException("Endpoint is already active: " + getEndpointUri());
  }
}
