{
  return new RouteBuilder(){
    public void configure(){
      WebsocketComponent websocketComponent=getContext().getComponent("websocket",WebsocketComponent.class);
      websocketComponent.setHost("localhost");
      websocketComponent.setPort(port);
      websocketComponent.setMaxThreads(11);
      websocketComponent.setMinThreads(1);
      from("websocket://echo").log(">>> Message received from WebSocket Client : ${body}").transform().simple("${body}${body}").to("websocket://echo");
    }
  }
;
}
