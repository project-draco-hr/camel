{
  if (endpoint.isAppend()) {
    out=new RandomAccessFile(target,"rw").getChannel();
    out=out.position(out.size());
  }
 else {
    out=new FileOutputStream(target).getChannel();
  }
  return out;
}
