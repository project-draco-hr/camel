{
  boolean append=endpoint.getFileExist() == GenericFileExist.Append;
  Writer out=IOConverter.toWriter(target,append,charset);
  try {
    LOG.trace("Using Reader to transfer from: {} to: {} with charset: {}",new Object[]{in,out,charset});
    int size=endpoint.getBufferSize();
    IOHelper.copy(in,out,size);
  }
  finally {
    IOHelper.close(in,target.getName(),LOG);
    IOHelper.close(out,target.getName(),LOG);
  }
}
