{
  String encoding=getAndRemoveParameter(parameters,"encoding",String.class);
  boolean cache=getAndRemoveParameter(parameters,"contentCache",Boolean.class,Boolean.TRUE);
  MvelEndpoint answer=new MvelEndpoint(uri,this,remaining);
  answer.setContentCache(cache);
  if (ObjectHelper.isNotEmpty(encoding)) {
    answer.setEncoding(encoding);
  }
  if (ResourceHelper.isHttpUri(remaining)) {
    remaining=ResourceHelper.appendParameters(remaining,parameters);
    answer.setResourceUri(remaining);
  }
  return answer;
}
