{
  Exchange exchange=getMandatoryEndpoint("direct:input").createExchange(ExchangePattern.InOut);
  exchange.getIn().setBody("Hello Paris");
  try {
    template.send("direct:input",exchange);
    fail("Should have thrown exception");
  }
 catch (  CamelExecutionException e) {
    assertIsInstanceOf(IllegalArgumentException.class,e.getCause());
  }
  assertTrue("Should be failed",exchange.isFailed());
  assertTrue("Should be IllegalArgumentException",exchange.getException() instanceof IllegalArgumentException);
  assertEquals("Forced exception",exchange.getException().getMessage());
}
