{
  org.springframework.integration.core.Message request=SpringIntegrationBinding.createSpringIntegrationMessage(exchange);
  Map<String,Object> headers=new HashMap<String,Object>();
  if (exchange.getPattern().isOutCapable()) {
    headers.put(MessageHeaders.REPLY_CHANNEL,replyChannel);
    replyChannel.subscribe(new MessageHandler(){
      public void handleMessage(      Message<?> message){
        SpringIntegrationBinding.storeToCamelMessage(message,exchange.getOut());
        callback.done(true);
      }
    }
);
  }
  requestChannel.send(request);
  if (!exchange.getPattern().isOutCapable()) {
    callback.done(true);
  }
  return true;
}
