{
  if (!this.initialized) {
    try {
      this.afterPropertiesSet();
    }
 catch (    Exception e) {
      throw new ConfigurationException("unable to initialize " + this.getClass().getName(),e);
    }
  }
  if (!isExpectReply()) {
    messageGateway.send(message);
    return null;
  }
  return messageGateway.sendAndReceiveMessage(message);
}
