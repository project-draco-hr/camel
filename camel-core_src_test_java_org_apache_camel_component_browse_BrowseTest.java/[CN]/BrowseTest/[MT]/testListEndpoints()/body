{
  template.sendBody("browse:foo",body1);
  template.sendBody("browse:foo",body2);
  List<BrowsableEndpoint> list=CamelContextHelper.getSingletonEndpoints(context,BrowsableEndpoint.class);
  assertEquals("number of endpoints",2,list.size());
  Thread.sleep(2000);
  for (  BrowsableEndpoint endpoint : list) {
    List<Exchange> exchanges=endpoint.getExchanges();
    LOG.debug(">>>> " + endpoint + " has: "+ exchanges);
    assertEquals("Exchanges received on " + endpoint,2,exchanges.size());
    assertInMessageBodyEquals(exchanges.get(0),body1);
    assertInMessageBodyEquals(exchanges.get(1),body2);
  }
}
