{
  Endpoint from=routeContext.getEndpoint();
  final Processor processor=routeContext.createProcessor(this);
  final Aggregator service=new Aggregator(from,processor,getExpression().createExpression(routeContext),aggregationStrategy);
  if (batchSize != 0) {
    service.setBatchSize(batchSize);
  }
  if (batchSize != 0) {
    service.setBatchTimeout(batchTimeout);
  }
  Route route=new Route<Exchange>(from,service){
    @Override public String toString(){
      return "AggregatorRoute[" + getEndpoint() + " -> "+ processor+ "]";
    }
  }
;
  routes.add(route);
}
