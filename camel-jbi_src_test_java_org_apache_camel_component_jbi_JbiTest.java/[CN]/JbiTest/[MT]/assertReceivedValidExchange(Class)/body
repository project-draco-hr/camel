{
  boolean received=latch.await(5,TimeUnit.SECONDS);
  assertTrue("Did not recieve the message!",received);
  assertNotNull(receivedExchange);
  Message receivedMessage=receivedExchange.getIn();
  assertEquals("cheese header",123,receivedMessage.getHeader("cheese"));
  Object body=receivedMessage.getBody();
  log.debug("Received body: " + body);
  return body;
}
