{
  boolean foundNonDaemon;
  do {
    foundNonDaemon=false;
    Collection<Thread> threads=getActiveThreads(threadGroup);
    for (Iterator<Thread> iter=threads.iterator(); iter.hasNext(); ) {
      Thread thread=iter.next();
      if (thread.isDaemon()) {
        continue;
      }
      foundNonDaemon=true;
      joinThread(thread,0);
    }
  }
 while (foundNonDaemon);
}
