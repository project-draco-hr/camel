{
  if (source.getInputStream() != null) {
    CachedOutputStream cos=new CachedOutputStream(exchange.getContext().getProperties());
    IOHelper.copyAndCloseInput(source.getInputStream(),cos);
    streamCache=cos.getStreamCache();
    setInputStream((InputStream)streamCache);
    setSystemId(source.getSystemId());
  }
  if (source.getReader() != null) {
    String data=exchange.getContext().getTypeConverter().convertTo(String.class,source.getReader());
    readCache=new ReaderCache(data);
    setReader(readCache);
  }
}
