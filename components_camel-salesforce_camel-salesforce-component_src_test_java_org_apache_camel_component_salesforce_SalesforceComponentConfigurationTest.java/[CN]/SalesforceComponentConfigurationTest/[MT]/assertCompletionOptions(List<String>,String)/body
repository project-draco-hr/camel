{
  List<String> missing=new ArrayList<String>();
  for (  String arg : args) {
    if (!options.remove(arg)) {
      missing.add(arg);
    }
  }
  if (!missing.isEmpty() || !options.isEmpty()) {
    fail(String.format("Missing options %s, unknown options %s",missing,options));
  }
}
