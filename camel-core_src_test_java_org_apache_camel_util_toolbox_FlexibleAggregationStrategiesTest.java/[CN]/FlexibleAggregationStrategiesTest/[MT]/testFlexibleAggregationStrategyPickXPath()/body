{
  getMockEndpoint("mock:result.xpath1").expectedMessageCount(1);
  getMockEndpoint("mock:result.xpath1").message(0).body().isInstanceOf(ArrayList.class);
  template.sendBody("direct:start.xpath1","<envelope><result>ok</result></envelope>");
  template.sendBody("direct:start.xpath1","<envelope><result>error</result></envelope>");
  template.sendBody("direct:start.xpath1","<envelope>no result</envelope>");
  assertMockEndpointsSatisfied();
  ArrayList<Node> list=getMockEndpoint("mock:result.xpath1").getReceivedExchanges().get(0).getIn().getBody(ArrayList.class);
  assertEquals(2,list.size());
  assertEquals("ok",list.get(0).getTextContent());
  assertEquals("error",list.get(1).getTextContent());
}
