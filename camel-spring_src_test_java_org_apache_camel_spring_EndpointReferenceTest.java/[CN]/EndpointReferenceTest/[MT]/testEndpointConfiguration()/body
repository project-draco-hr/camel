{
  Endpoint endpoint=getMandatoryBean(Endpoint.class,"endpoint1");
  assertEquals("endpoint URI","direct:start",endpoint.getEndpointUri());
  DummyBean dummyBean=getMandatoryBean(DummyBean.class,"mybean");
  assertNotNull("The bean should have an endpoint injected",dummyBean.getEndpoint());
  assertEquals("endpoint URI","direct:start",dummyBean.getEndpoint().getEndpointUri());
  log.debug("Found dummy bean: " + dummyBean);
  SpringCamelContext context=(SpringCamelContext)applicationContext.getBean("camel");
  assertValidContext(context);
  MockEndpoint resultEndpoint=(MockEndpoint)resolveMandatoryEndpoint(context,"mock:end");
  resultEndpoint.expectedBodiesReceived(body);
  CamelClient<Exchange> client=new CamelClient<Exchange>(context);
  client.sendBody("direct:start",body);
  resultEndpoint.assertIsSatisfied();
}
