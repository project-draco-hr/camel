{
  Endpoint endpoint=context.getEndpoint("ftp://user@hostname?password=secret");
  FtpEndpoint ftpEndpoint=assertIsInstanceOf(FtpEndpoint.class,endpoint);
  FtpConfiguration config=(FtpConfiguration)ftpEndpoint.getConfiguration();
  config.setHost("somewhere");
  config.setDirectory("temp.dir");
  ftpEndpoint.createConsumer(new Processor(){
    public void process(    Exchange exchange) throws Exception {
    }
  }
);
}
