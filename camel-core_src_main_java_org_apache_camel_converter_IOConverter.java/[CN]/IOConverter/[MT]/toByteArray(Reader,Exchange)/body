{
  if (reader instanceof BufferedReader) {
    return toByteArray((BufferedReader)reader,exchange);
  }
 else {
    return toByteArray(new BufferedReader(reader),exchange);
  }
}
