{
  if (reader == null) {
    return null;
  }
  StringBuilder sb=new StringBuilder(1024);
  char[] buf=new char[1024];
  try {
    int len=0;
    while (len != -1) {
      len=reader.read(buf);
      if (len != -1) {
        sb.append(buf,0,len);
      }
    }
  }
  finally {
    IOHelper.close(reader,"reader",LOG);
  }
  return sb.toString();
}
