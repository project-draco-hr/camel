{
  Person person=new Person("David","Greco");
  template.requestBodyAndHeader("direct:input",person,"testHeading","value");
  MockEndpoint ep=(MockEndpoint)context.getEndpoint("mock:test");
  List<Exchange> exchanges=ep.getReceivedExchanges();
  for (  Exchange exchange : exchanges) {
    Message message=exchange.getIn();
    Person person1=(Person)message.getBody();
    assertEquals("David",person1.getName());
    assertEquals("Greco",person1.getSurname());
  }
}
