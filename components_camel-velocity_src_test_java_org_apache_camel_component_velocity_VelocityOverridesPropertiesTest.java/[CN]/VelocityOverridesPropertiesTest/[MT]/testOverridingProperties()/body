{
  Logger logger=Logger.getLogger("org.apache.camel.component.velocity");
  FileHandler fh=new FileHandler("target/camel-velocity-jdk-test.log");
  logger.addHandler(fh);
  logger.setLevel(Level.ALL);
  Exchange exchange=template.request("direct:a",new Processor(){
    @Override public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setBody("Monday");
      exchange.getIn().setHeader("name","Christian");
      exchange.setProperty("item","7");
    }
  }
);
  assertEquals("Dear Christian. You ordered item 7 on Monday.",exchange.getOut().getBody());
  assertEquals("Christian",exchange.getOut().getHeader("name"));
  String logContent=IOUtils.toString(new FileInputStream("target/camel-velocity-jdk-test.log"),"UTF-8");
  assertTrue(logContent.contains("JdkLogChute will use logger 'org.apache.camel.component.velocity.VelocityEndpoint' at level 'FINEST'"));
  assertTrue(logContent.contains("Using logger class org.apache.velocity.runtime.log.JdkLogChute"));
}
