{
  BeanDefinitionBuilder factory=BeanDefinitionBuilder.rootBeanDefinition(RouteBuilderFactoryBean.class);
  List childElements=DomUtils.getChildElementsByTagName(element,"route");
  ArrayList<BuilderStatement> routes=new ArrayList<BuilderStatement>(childElements.size());
  if (childElements != null && childElements.size() > 0) {
    for (int i=0; i < childElements.size(); ++i) {
      Element routeElement=(Element)childElements.get(i);
      ArrayList<BuilderAction> actions=new ArrayList<BuilderAction>();
      Class type=parseBuilderElement(parserContext,routeElement,RouteBuilder.class,actions);
      BuilderStatement statement=new BuilderStatement();
      statement.setReturnType(type);
      statement.setActions(actions);
      routes.add(statement);
    }
  }
  factory.addPropertyValue("routes",routes);
  return factory.getBeanDefinition();
}
