{
  ShardList shards=new ShardList();
  shards.addAll(createShards(null,"a","b","c","d"));
  Shard removeBefore=new Shard().withShardId("c").withParentShardId("b");
  shards.removeOlderThan(removeBefore);
  assertThat(shards.first().getShardId(),is("c"));
}
