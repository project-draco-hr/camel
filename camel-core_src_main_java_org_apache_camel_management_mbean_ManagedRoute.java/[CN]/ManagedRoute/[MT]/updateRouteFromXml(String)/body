{
  RouteDefinition def=ModelHelper.createModelFromXml(context,xml,RouteDefinition.class);
  if (def == null) {
    return;
  }
  if (ObjectHelper.isEmpty(def.getId())) {
    def.setId(getRouteId());
  }
 else   if (!def.getId().equals(getRouteId())) {
    throw new IllegalArgumentException("Cannot update route from XML as routeIds does not match. routeId: " + getRouteId() + ", routeId from XML: "+ def.getId());
  }
  LOG.debug("Updating route: {} from xml: {}",def.getId(),xml);
  try {
    context.addRouteDefinition(def);
  }
 catch (  Exception e) {
    String msg="Error updating route: " + def.getId() + " from xml: "+ xml+ " due: "+ e.getMessage();
    LOG.warn(msg,e);
    throw e;
  }
}
