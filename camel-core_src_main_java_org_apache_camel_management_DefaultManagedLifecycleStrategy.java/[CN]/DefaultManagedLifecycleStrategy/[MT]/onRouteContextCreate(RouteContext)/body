{
  if (!initialized) {
    return;
  }
  Map<ProcessorDefinition,ManagedPerformanceCounter> registeredCounters=new HashMap<ProcessorDefinition,ManagedPerformanceCounter>();
  RouteDefinition route=routeContext.getRoute();
  for (  ProcessorDefinition processor : route.getOutputs()) {
    registerPerformanceCounters(routeContext,processor,registeredCounters);
  }
  routeContext.addInterceptStrategy(new InstrumentationInterceptStrategy(registeredCounters,wrappedProcessors));
}
