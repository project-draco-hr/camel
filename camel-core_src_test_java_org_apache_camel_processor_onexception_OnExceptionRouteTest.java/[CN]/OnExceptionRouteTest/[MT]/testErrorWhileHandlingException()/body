{
  MockEndpoint error=getMockEndpoint("mock:error");
  error.expectedMessageCount(1);
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(0);
  template.sendBody("direct:start","<order><type>myType</type><user>FuncError</user></order>");
  assertMockEndpointsSatisfied();
  assertNull(myOwnHandlerBean.getPayload());
  Exception cause=error.getReceivedExchanges().get(0).getProperty(Exchange.EXCEPTION_CAUGHT,Exception.class);
  assertIsInstanceOf(IOException.class,cause);
  assertEquals("Damn something did not work",cause.getMessage());
}
