{
  if (node.getNodeType() == Node.ELEMENT_NODE) {
    Document doc=node.getOwnerDocument();
    if (node.getNamespaceURI().equals(fromNamespace)) {
      doc.renameNode(node,toNamespace,node.getLocalName());
    }
  }
  NodeList list=node.getChildNodes();
  for (int i=0; i < list.getLength(); ++i) {
    renameNamespaceRecursive(list.item(i),fromNamespace,toNamespace);
  }
}
