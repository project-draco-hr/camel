{
  renameNamespaceRecursive(element);
  if (element.getNodeName().equals(CAMEL_CONTEXT)) {
    String contextId=element.getAttribute("id");
    if (ObjectHelper.isEmpty(contextId)) {
      contextId="camelContext";
      element.setAttribute("id",contextId);
    }
    Binder<Node> binder;
    try {
      binder=getJaxbContext().createBinder();
    }
 catch (    JAXBException e) {
      throw new ComponentDefinitionException("Failed to create the JAXB binder : " + e,e);
    }
    Object value=parseUsingJaxb(element,context,binder);
    if (!(value instanceof CamelContextFactoryBean)) {
      throw new ComponentDefinitionException("Expected an instance of " + CamelContextFactoryBean.class);
    }
    MutablePassThroughMetadata factory=context.createMetadata(MutablePassThroughMetadata.class);
    factory.setId(".camelBlueprint.passThrough." + contextId);
    factory.setObject(new PassThroughCallable<Object>(value));
    MutableBeanMetadata factory2=context.createMetadata(MutableBeanMetadata.class);
    factory2.setId(".camelBlueprint.factory." + contextId);
    factory2.setFactoryComponent(factory);
    factory2.setFactoryMethod("call");
    factory2.setInitMethod("init");
    factory2.setDestroyMethod("destroy");
    MutableBeanMetadata ctx=context.createMetadata(MutableBeanMetadata.class);
    ctx.setId(contextId);
    ctx.setFactoryComponent(factory2);
    ctx.setFactoryMethod("getContext");
    ctx.setInitMethod("init");
    ctx.setDestroyMethod("destroy");
    return ctx;
  }
  return null;
}
