{
  Endpoint personEndpoint=context.getEndpoint("direct:person");
  MockEndpoint result=(MockEndpoint)context.getEndpoint("mock:result");
  Person person=new Person("Chris");
  result.expectedBodiesReceived(person);
  PersonHandler sender=PojoProxyHelper.createProxy(personEndpoint,PersonHandler.class);
  sender.onPerson(person);
  result.assertIsSatisfied();
  Assert.assertEquals(1,receiver.receivedPersons.size());
  Assert.assertEquals(person.getName(),receiver.receivedPersons.get(0).getName());
}
