{
  String openshiftServer=OpenShiftHelper.getOpenShiftServer(getEndpoint());
  IDomain domain=OpenShiftHelper.loginAndGetDomain(getEndpoint(),openshiftServer);
  if (domain == null) {
    throw new CamelExchangeException("User has no domain with id " + getEndpoint().getDomain(),exchange);
  }
  OpenShiftOperation operation=exchange.getIn().getHeader(OpenShiftConstants.OPERATION,getEndpoint().getOperation(),OpenShiftOperation.class);
switch (operation) {
case start:
    doStart(exchange,domain);
  break;
case stop:
doStop(exchange,domain);
break;
case restart:
doRestart(exchange,domain);
break;
case state:
doState(exchange,domain);
break;
case list:
default :
if (getEndpoint().getMode().equals("json")) {
doListJson(exchange,domain);
}
 else {
doListPojo(exchange,domain);
}
break;
}
}
