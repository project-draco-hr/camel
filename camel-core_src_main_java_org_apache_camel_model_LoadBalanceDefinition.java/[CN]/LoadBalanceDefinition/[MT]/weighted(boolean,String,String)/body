{
  WeightedLoadBalancer weighted;
  List<Integer> distributionRatioList=new ArrayList<Integer>();
  String[] ratios=distributionRatio.split(distributionRatioDelimiter);
  for (  String ratio : ratios) {
    distributionRatioList.add(new Integer(ratio.trim()));
  }
  if (!roundRobin) {
    weighted=new WeightedRandomLoadBalancer(distributionRatioList);
  }
 else {
    weighted=new WeightedRoundRobinLoadBalancer(distributionRatioList);
  }
  setLoadBalancerType(new LoadBalancerDefinition(weighted));
  return this;
}
