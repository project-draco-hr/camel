{
  EntityManagerTemplate entityManagerTemplate=new EntityManagerTemplate(template.getEntityManagerFactory());
  ObjectHelper.notNull(definition,"definition");
  final Long id=definition.getId();
  if (id == null) {
    LOG.warn("No primary key is available!");
    return findOrCreateProcessDefinition(template,definition.getName());
  }
  return entityManagerTemplate.execute(new EntityManagerCallback<ProcessDefinition>(){
    @Override public ProcessDefinition execute(    EntityManager entityManager){
      return entityManager.find(ProcessDefinition.class,id);
    }
  }
);
}
