{
  Map<String,Object> params=new HashMap<String,Object>(1);
  params.put("processName",processName);
  List<ProcessDefinition> list=CastUtils.cast(template.findByNamedParams("select x from " + QueryUtils.getTypeName(ProcessDefinition.class) + " x where x.name = :processName",params));
  if (!list.isEmpty()) {
    return list.get(0);
  }
 else {
    ProcessDefinition answer=new ProcessDefinition();
    answer.setName(processName);
    template.persist(answer);
    return answer;
  }
}
