{
  for (int i=0; i < 100; i++) {
    template.requestBody("ignite:set:abc?operation=ADD","hello" + i);
  }
  Set<String> toAdd=Sets.newHashSet("hello101","hello102","hello103");
  template.requestBody("ignite:set:abc?operation=ADD&treatCollectionsAsCacheObjects=true",toAdd);
  int size=template.requestBody("ignite:set:abc?operation=SIZE","hello",int.class);
  assert_().that(size).isEqualTo(101);
  assert_().that(ignite().set("abc",new CollectionConfiguration()).size()).isEqualTo(101);
  assert_().that(ignite().set("abc",new CollectionConfiguration()).contains(toAdd)).isTrue();
  boolean contains=template.requestBody("ignite:set:abc?operation=CONTAINS&treatCollectionsAsCacheObjects=true",toAdd,boolean.class);
  assert_().that(contains).isTrue();
  template.requestBody("ignite:set:abc?operation=REMOVE&treatCollectionsAsCacheObjects=true",toAdd);
  size=template.requestBody("ignite:set:abc?operation=SIZE","hello",int.class);
  assert_().that(size).isEqualTo(100);
  assert_().that(ignite().set("abc",new CollectionConfiguration()).size()).isEqualTo(100);
  assert_().that(ignite().set("abc",new CollectionConfiguration()).contains(toAdd)).isFalse();
}
