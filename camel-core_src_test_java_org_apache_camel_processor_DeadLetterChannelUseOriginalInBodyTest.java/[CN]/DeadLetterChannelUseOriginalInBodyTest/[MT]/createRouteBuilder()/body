{
  return new RouteBuilder(){
    @Override public void configure() throws Exception {
      ErrorHandlerBuilder a=deadLetterChannel("mock:a").maximumRedeliveries(2).redeliverDelay(0).logStackTrace(false).useOriginalBody().handled(true);
      ErrorHandlerBuilder b=deadLetterChannel("mock:b").maximumRedeliveries(2).redeliverDelay(0).logStackTrace(false).handled(true);
      from("direct:a").errorHandler(a).setBody(body().append(" World")).process(new MyThrowProcessor());
      from("direct:b").errorHandler(b).setBody(body().append(" World")).process(new MyThrowProcessor());
    }
  }
;
}
