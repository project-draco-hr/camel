{
  if (image instanceof BufferedImage) {
    return (BufferedImage)image;
  }
  MediaTracker tracker=new MediaTracker(new Component(){
  }
);
  tracker.addImage(image,0);
  try {
    tracker.waitForAll();
  }
 catch (  InterruptedException e) {
    throw new Fault(e);
  }
  BufferedImage bufImage=new BufferedImage(image.getWidth(null),image.getHeight(null),BufferedImage.TYPE_INT_ARGB);
  Graphics g=bufImage.createGraphics();
  g.drawImage(image,0,0,null);
  return bufImage;
}
