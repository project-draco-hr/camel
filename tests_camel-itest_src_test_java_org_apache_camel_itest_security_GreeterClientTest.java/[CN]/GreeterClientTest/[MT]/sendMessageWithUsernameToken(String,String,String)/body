{
  final javax.xml.ws.Service svc=javax.xml.ws.Service.create(WSDL_LOC,SERVICE_QNAME);
  final Greeter greeter=svc.getPort(PORT_QNAME,Greeter.class);
  Client client=ClientProxy.getClient(greeter);
  Map<String,Object> props=new HashMap<String,Object>();
  props.put("action","UsernameToken");
  props.put("user",username);
  props.put("passwordType","PasswordText");
  WSS4JOutInterceptor wss4jOut=new WSS4JOutInterceptor(props);
  client.getOutInterceptors().add(wss4jOut);
  ((BindingProvider)greeter).getRequestContext().put("password",password);
  return greeter.greetMe(message);
}
