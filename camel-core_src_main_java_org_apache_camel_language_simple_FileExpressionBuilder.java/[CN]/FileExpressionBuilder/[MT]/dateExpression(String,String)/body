{
  return new Expression<E>(){
    public Object evaluate(    E exchange){
      if ("file".equals(command)) {
        if (exchange.getFile() == null) {
          return null;
        }
        Date date=new Date(exchange.getFile().lastModified());
        SimpleDateFormat df=new SimpleDateFormat(pattern);
        return df.format(date);
      }
      return ExpressionBuilder.dateExpression(command,pattern).evaluate(exchange);
    }
    @Override public String toString(){
      return "date(" + command + ":"+ pattern+ ")";
    }
  }
;
}
