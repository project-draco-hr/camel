{
  if (log.isDebugEnabled()) {
    log.debug(">>>> invoking method for: " + exchange);
  }
  Message in=exchange.getIn();
  PojoInvocation pojoInvoke=in.getBody(PojoInvocation.class);
  if (pojoInvoke != null) {
    pojoInvoke.invoke(pojo,exchange);
    return;
  }
  MethodInvocation invocation;
  if (method != null) {
    invocation=beanInfo.createInvocation(method,pojo,exchange);
  }
 else {
    if (ObjectHelper.isNotNullAndNonEmpty(methodName)) {
      if (isNullOrBlank(in.getHeader(METHOD_NAME,String.class))) {
        in.setHeader(METHOD_NAME,methodName);
      }
    }
    invocation=beanInfo.createInvocation(pojo,exchange);
  }
  if (invocation == null) {
    throw new IllegalStateException("No method invocation could be created");
  }
  try {
    Object value=invocation.proceed();
    if (value != null) {
      exchange.getIn().setBody(value);
    }
  }
 catch (  Exception e) {
    throw e;
  }
catch (  Throwable throwable) {
    throw new Exception(throwable);
  }
}
