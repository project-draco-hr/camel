{
  CamelContext camelContext=super.createCamelContext();
  ConnectionFactory connectionFactory=new ActiveMQConnectionFactory("vm://localhost?broker.persistent=false");
  JmsComponent comp=jmsComponentClientAcknowledge(connectionFactory);
  comp.setAcceptMessagesWhileStopping(true);
  comp.setAlwaysCopyMessage(true);
  comp.setAcknowledgementMode(1);
  comp.setAutoStartup(true);
  comp.setCacheLevel(1);
  comp.setClientId("foo");
  comp.setConcurrentConsumers(2);
  comp.setConsumerType(ConsumerType.Simple);
  comp.setDeliveryPersistent(true);
  comp.setExplicitQosEnabled(true);
  comp.setIdleTaskExecutionLimit(20);
  comp.setMaxConcurrentConsumers(5);
  comp.setMaxMessagesPerTask(90);
  comp.setPriority(3);
  comp.setReceiveTimeout(5000);
  comp.setRecoveryInterval(9000);
  comp.setTimeToLive(3000);
  comp.setTransacted(true);
  comp.setTransactionTimeout(15000);
  camelContext.addComponent(componentName,comp);
  endpoint=(JmsEndpoint)comp.createEndpoint("queue:hello");
  return camelContext;
}
