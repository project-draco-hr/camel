{
  Marshaller marshaller=jaxbContext.createMarshaller();
  marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,Boolean.TRUE);
  StringWriter buffer=new StringWriter();
  marshaller.marshal(object,buffer);
  String out=buffer.toString();
  assertTrue("Should be XML",out.startsWith("<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?>"));
  assertTrue("Should containt string header",out.indexOf("<header value=\"abc\" name=\"foo\"/>") > -1);
  assertTrue("Should containt int header",out.indexOf("<intHeader value=\"123\" name=\"bar\"/>") > -1);
  assertTrue("Should containt the body",out.indexOf("&lt;hello id='m123'&gt;world!&lt;/hello&gt;") > -1);
}
