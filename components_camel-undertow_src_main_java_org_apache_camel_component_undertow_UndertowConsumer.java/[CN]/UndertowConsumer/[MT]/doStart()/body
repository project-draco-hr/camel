{
  super.doStart();
  LOG.debug("Undertow consumer is starting");
  getEndpoint().getComponent().registerConsumer(this);
  URI httpUri=getEndpoint().getHttpURI();
  UndertowHost host=getUndertowHost();
  HttpCamelHandler httpCamelHandler=new HttpCamelHandler();
  httpCamelHandler.connectConsumer(this);
  host.validateEndpointURI(httpUri);
  host.registerHandler(httpUri.getPath(),httpCamelHandler);
}
