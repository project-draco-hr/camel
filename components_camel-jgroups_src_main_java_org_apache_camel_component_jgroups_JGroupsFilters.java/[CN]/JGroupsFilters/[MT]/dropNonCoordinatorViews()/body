{
  return new Predicate(){
    @Override public boolean matches(    Exchange exchange){
      Object body=exchange.getIn().getBody();
      LOG.debug("Filtering message {}.",body);
      if (body instanceof View) {
        View view=(View)body;
        Address coordinatorNodeAddress=view.getMembers().get(COORDINATOR_NODE_INDEX);
        Address channelAddress=exchange.getIn().getHeader(HEADER_JGROUPS_CHANNEL_ADDRESS,Address.class);
        LOG.debug("Comparing endpoint channel address {} against the coordinator node address {}.",channelAddress,coordinatorNodeAddress);
        return channelAddress.equals(coordinatorNodeAddress);
      }
      LOG.debug("Body {} is not an instance of org.jgroups.View . Skipping filter.",body);
      return true;
    }
  }
;
}
