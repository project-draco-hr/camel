{
  assertNull(context.getExecutorServiceManager().getThreadPoolProfile("fooProfile"));
  ThreadPoolProfile foo=new ThreadPoolProfile("fooProfile");
  foo.setMaxPoolSize(40);
  context.getExecutorServiceManager().registerThreadPoolProfile(foo);
  assertSame(foo,context.getExecutorServiceManager().getThreadPoolProfile("fooProfile"));
  ExecutorService executor=context.getExecutorServiceManager().getDefaultExecutorService("fooProfile",this);
  ThreadPoolExecutor tp=assertIsInstanceOf(ThreadPoolExecutor.class,executor);
  assertEquals(40,tp.getMaximumPoolSize());
  assertEquals(10,tp.getCorePoolSize());
  assertEquals(60,tp.getKeepAliveTime(TimeUnit.SECONDS));
  assertIsInstanceOf(ThreadPoolExecutor.CallerRunsPolicy.class,tp.getRejectedExecutionHandler());
}
