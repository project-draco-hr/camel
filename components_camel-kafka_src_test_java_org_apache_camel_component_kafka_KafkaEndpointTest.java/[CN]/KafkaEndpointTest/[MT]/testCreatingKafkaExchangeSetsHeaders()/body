{
  KafkaEndpoint endpoint=new KafkaEndpoint("kafka:localhost","localhost",new KafkaComponent());
  MessageAndMetadata<byte[],byte[]> mm=new MessageAndMetadata<byte[],byte[]>("somekey".getBytes(),"mymessage".getBytes(),"topic",4,56);
  Exchange exchange=endpoint.createKafkaExchange(mm);
  assertEquals("somekey",exchange.getIn().getHeader(KafkaConstants.KEY));
  assertEquals("topic",exchange.getIn().getHeader(KafkaConstants.TOPIC));
  assertEquals(4,exchange.getIn().getHeader(KafkaConstants.PARTITION));
}
