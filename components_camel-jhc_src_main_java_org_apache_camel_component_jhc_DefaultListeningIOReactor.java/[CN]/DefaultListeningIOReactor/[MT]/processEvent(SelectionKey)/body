{
  try {
    if (key.isAcceptable()) {
      ServerSocketChannel serverChannel=(ServerSocketChannel)key.channel();
      SocketChannel socketChannel=null;
      try {
        socketChannel=serverChannel.accept();
      }
 catch (      IOException ex) {
        if (this.exceptionHandler == null || !this.exceptionHandler.handle(ex)) {
          throw new IOReactorException("Failure accepting connection",ex);
        }
      }
      if (socketChannel != null) {
        try {
          prepareSocket(socketChannel.socket());
        }
 catch (        IOException ex) {
          if (this.exceptionHandler == null || !this.exceptionHandler.handle(ex)) {
            throw new IOReactorException("Failure initalizing socket",ex);
          }
        }
        ChannelEntry entry=new ChannelEntry(socketChannel);
        addChannel(entry);
      }
    }
  }
 catch (  CancelledKeyException ex) {
    key.attach(null);
  }
}
