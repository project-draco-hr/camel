{
  if (isPlatform("aix")) {
    return;
  }
  MBeanServer mbeanServer=getMBeanServer();
  getMockEndpoint("mock:foo").expectedMessageCount(1);
  Object out=template.requestBody("direct:start","Hello World");
  assertEquals("Error",out);
  assertMockEndpointsSatisfied();
  ObjectName on=ObjectName.getInstance("org.apache.camel:context=camel-1,type=routes,name=\"route1\"");
  Long num=(Long)mbeanServer.getAttribute(on,"ExchangesCompleted");
  assertEquals(1,num.longValue());
  num=(Long)mbeanServer.getAttribute(on,"ExchangesFailed");
  assertEquals(0,num.longValue());
  num=(Long)mbeanServer.getAttribute(on,"FailuresHandled");
  assertEquals(1,num.longValue());
}
