{
  final String uri="mina:tcp://localhost:8080?textline=true&encoding=XXX&sync=false";
  try {
    this.context.addRoutes(new RouteBuilder(){
      public void configure(){
        from(uri).to("mock:result");
      }
    }
);
    fail("Should have thrown a ResolveEndpointFailedException due invalid encoding parameter");
  }
 catch (  ResolveEndpointFailedException e) {
    assertTrue(e.getCause() instanceof IllegalArgumentException);
    assertEquals("The encoding: XXX is not supported",e.getCause().getMessage());
  }
}
