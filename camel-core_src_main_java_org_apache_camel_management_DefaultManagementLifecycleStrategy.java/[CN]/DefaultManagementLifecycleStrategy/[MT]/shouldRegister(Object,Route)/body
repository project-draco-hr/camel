{
  if (!initialized) {
    return false;
  }
  if (LOG.isTraceEnabled()) {
    LOG.trace("Checking whether to register " + service + " from route: "+ route);
  }
  if (getCamelContext().getStatus().isStarting()) {
    return true;
  }
  ManagementAgent agent=getManagementStrategy().getManagementAgent();
  if (agent.getRegisterAlways()) {
    return true;
  }
  if (route != null && knowRouteIds.contains(route.getId())) {
    return true;
  }
  if (agent.getRegisterNewRoutes()) {
    return getCamelContext().isStartingRoutes();
  }
  return false;
}
