{
  ObjectHelper.notNull(camelContext,"camelContext");
  this.camelContext=camelContext;
  this.endpoints=new WritableList(Realm.getDefault());
  List<BrowsableEndpoint> list=CamelContextHelper.getSingletonEndpoints(camelContext,BrowsableEndpoint.class);
  for (  BrowsableEndpoint endpoint : list) {
    if (!endpoints.contains(endpoint)) {
      endpoints.add(endpoint);
    }
  }
  camelContext.setLifecycleStrategy(new DelegateLifecycleStrategy(camelContext.getLifecycleStrategy()){
    @Override public void onEndpointAdd(    Endpoint<? extends Exchange> endpoint){
      super.onEndpointAdd(endpoint);
      if (endpoint instanceof BrowsableEndpoint) {
        onBrowsableEndpoint((BrowsableEndpoint)endpoint);
      }
    }
  }
);
}
