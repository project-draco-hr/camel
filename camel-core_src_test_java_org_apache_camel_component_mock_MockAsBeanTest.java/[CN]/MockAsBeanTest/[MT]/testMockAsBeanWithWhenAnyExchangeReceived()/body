{
  getMockEndpoint("mock:result").expectedBodiesReceived("Bye World");
  foo.whenAnyExchangeReceived(new Processor(){
    public void process(    Exchange exchange) throws Exception {
      String in=exchange.getIn().getBody(String.class);
      exchange.getIn().setBody("Bye " + in);
    }
  }
);
  template.sendBody("direct:start","World");
  assertMockEndpointsSatisfied();
}
