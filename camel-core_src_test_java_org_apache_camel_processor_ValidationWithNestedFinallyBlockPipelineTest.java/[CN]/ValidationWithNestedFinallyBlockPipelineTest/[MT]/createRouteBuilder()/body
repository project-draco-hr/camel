{
  return new RouteBuilder(){
    public void configure(){
      from("direct:start").tryBlock().to("direct:embedded").handle(ValidationException.class).to("mock:invalid");
      from("direct:embedded").errorHandler(noErrorHandler()).tryBlock().process(validator).to("mock:valid").finallyBlock().setHeader("valid",constant(false)).end();
    }
  }
;
}
