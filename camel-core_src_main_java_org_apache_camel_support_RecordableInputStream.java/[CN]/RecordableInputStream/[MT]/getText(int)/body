{
  String t=null;
  recording=false;
  final byte[] ba=buf.toByteArray(pos);
  buf.trim(pos,0);
  try {
    if (charset == null) {
      t=new String(ba);
    }
 else {
      t=new String(ba,charset);
    }
  }
 catch (  UnsupportedEncodingException e) {
  }
  return t;
}
