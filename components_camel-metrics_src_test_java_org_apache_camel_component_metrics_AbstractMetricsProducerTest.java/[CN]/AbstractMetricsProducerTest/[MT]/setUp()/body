{
  okProducer=new AbstractMetricsProducer<AbstractMetricsEndpoint>(endpoint){
    @Override protected void doProcess(    Exchange exchange,    AbstractMetricsEndpoint endpoint,    MetricRegistry registry,    String metricsName) throws Exception {
    }
  }
;
  failProducer=new AbstractMetricsProducer<AbstractMetricsEndpoint>(endpoint){
    @Override protected void doProcess(    Exchange exchange,    AbstractMetricsEndpoint endpoint,    MetricRegistry registry,    String metricsName) throws Exception {
      throw new Exception("Muchos problemos");
    }
  }
;
  inOrder=Mockito.inOrder(endpoint,exchange,in,registry);
  when(exchange.getIn()).thenReturn(in);
  when(endpoint.getMetricsName()).thenReturn(METRIC_NAME);
  when(endpoint.getRegistry()).thenReturn(registry);
}
