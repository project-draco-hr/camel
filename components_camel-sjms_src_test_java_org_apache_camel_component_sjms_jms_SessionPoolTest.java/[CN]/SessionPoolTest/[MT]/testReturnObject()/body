{
  ConnectionFactoryResource connections=new ConnectionFactoryResource(1,connectionFactory);
  connections.fillPool();
  SessionPool sessions=new SessionPool(1,connections);
  sessions.fillPool();
  assertNotNull(sessions);
  ActiveMQSession session=(ActiveMQSession)sessions.borrowObject();
  assertNotNull(session);
  assertTrue(!session.isClosed());
  ActiveMQSession session2=(ActiveMQSession)sessions.borrowObject();
  assertNull(session2);
  sessions.returnObject(session);
  session2=(ActiveMQSession)sessions.borrowObject();
  assertNotNull(session2);
  sessions.drainPool();
  connections.drainPool();
}
