{
  this.id=id;
  this.imagePrefix=imagePrefix;
  if (node instanceof ProcessorType) {
    ProcessorType processorType=(ProcessorType)node;
    this.edgeLabel=processorType.getLabel();
  }
  if (node instanceof FromType) {
    FromType fromType=(FromType)node;
    this.tooltop=fromType.getLabel();
    this.label=removeQueryString(this.tooltop);
    this.url="http://camel.apache.org/message-endpoint.html";
  }
 else   if (node instanceof ToType) {
    ToType toType=(ToType)node;
    this.tooltop=toType.getLabel();
    this.label=removeQueryString(this.tooltop);
    this.edgeLabel="";
    this.url="http://camel.apache.org/message-endpoint.html";
  }
 else   if (node instanceof FilterType) {
    this.image=imagePrefix + "MessageFilterIcon.png";
    this.label="Filter";
    this.nodeType="Message Filter";
  }
 else   if (node instanceof WhenType) {
    this.image=imagePrefix + "MessageFilterIcon.png";
    this.nodeType="When Filter";
    this.label="When";
    this.url="http://camel.apache.org/content-based-router.html";
  }
 else   if (node instanceof OtherwiseType) {
    this.nodeType="Otherwise";
    this.edgeLabel="";
    this.url="http://camel.apache.org/content-based-router.html";
    this.tooltop="Otherwise";
  }
 else   if (node instanceof ChoiceType) {
    this.image=imagePrefix + "ContentBasedRouterIcon.png";
    this.nodeType="Content Based Router";
    this.label="Choice";
    this.edgeLabel="";
    ChoiceType choice=(ChoiceType)node;
    List<ProcessorType> outputs=new ArrayList<ProcessorType>(choice.getWhenClauses());
    if (choice.getOtherwise() != null) {
      outputs.add(choice.getOtherwise());
    }
    this.outputs=outputs;
  }
 else   if (node instanceof RecipientListType) {
    this.image=imagePrefix + "RecipientListIcon.png";
    this.nodeType="Recipient List";
  }
 else   if (node instanceof RoutingSlipType) {
    this.image=imagePrefix + "RoutingTableIcon.png";
    this.nodeType="Routing Slip";
    this.url="http://camel.apache.org/routing-slip.html";
    this.tooltop=((RoutingSlipType)node).getHeaderName();
  }
 else   if (node instanceof SplitterType) {
    this.image=imagePrefix + "SplitterIcon.png";
    this.nodeType="Splitter";
  }
 else   if (node instanceof AggregatorType) {
    this.image=imagePrefix + "AggregatorIcon.png";
    this.nodeType="Aggregator";
  }
 else   if (node instanceof ResequencerType) {
    this.image=imagePrefix + "ResequencerIcon.png";
    this.nodeType="Resequencer";
  }
 else   if (node instanceof BeanRef) {
    BeanRef beanRef=(BeanRef)node;
    this.nodeType="Bean Ref";
    this.label=beanRef.getLabel() + " Bean";
    this.shape="box";
  }
  if (isEmpty(this.nodeType) && node != null) {
    String name=node.getClass().getName();
    int idx=name.lastIndexOf('.');
    if (idx > 0) {
      name=name.substring(idx + 1);
    }
    if (name.endsWith("Type")) {
      name=name.substring(0,name.length() - 4);
    }
    this.nodeType=insertSpacesBetweenCamelCase(name);
  }
  if (this.label == null) {
    if (isEmpty(this.image)) {
      this.label=this.nodeType;
      this.shape="box";
    }
 else     if (isNotEmpty(this.edgeLabel)) {
      this.label="";
    }
 else {
      this.label=node.toString();
    }
  }
  if (isEmpty(this.tooltop)) {
    if (isNotEmpty(this.nodeType)) {
      String description=isNotEmpty(this.edgeLabel) ? this.edgeLabel : this.label;
      this.tooltop=this.nodeType + ": " + description;
    }
 else {
      this.tooltop=this.label;
    }
  }
  if (isEmpty(this.url) && isNotEmpty(this.nodeType)) {
    this.url="http://camel.apache.org/" + this.nodeType.toLowerCase().replace(' ','-') + ".html";
  }
  if (node instanceof ProcessorType && this.outputs == null) {
    ProcessorType processorType=(ProcessorType)node;
    this.outputs=processorType.getOutputs();
  }
}
