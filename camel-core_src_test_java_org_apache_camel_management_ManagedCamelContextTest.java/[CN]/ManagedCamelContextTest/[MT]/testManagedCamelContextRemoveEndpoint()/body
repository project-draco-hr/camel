{
  MBeanServer mbeanServer=getMBeanServer();
  ObjectName on=ObjectName.getInstance("org.apache.camel:context=localhost/camel-1,type=context,name=\"camel-1\"");
  assertNull(context.hasEndpoint("seda:bar"));
  Object reply=mbeanServer.invoke(on,"createEndpoint",new Object[]{"seda:bar"},new String[]{"java.lang.String"});
  assertEquals(Boolean.TRUE,reply);
  assertNotNull(context.hasEndpoint("seda:bar"));
  Object num=mbeanServer.invoke(on,"removeEndpoints",new Object[]{"seda:*"},new String[]{"java.lang.String"});
  assertEquals(1,num);
  assertNull(context.hasEndpoint("seda:bar"));
  num=mbeanServer.invoke(on,"removeEndpoints",new Object[]{"seda:*"},new String[]{"java.lang.String"});
  assertEquals(0,num);
  assertNull(context.hasEndpoint("seda:bar"));
}
