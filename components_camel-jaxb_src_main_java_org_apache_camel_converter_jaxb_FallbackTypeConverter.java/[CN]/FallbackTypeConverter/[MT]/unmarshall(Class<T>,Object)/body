{
  JAXBContext context=JAXBContext.newInstance(type);
  Unmarshaller unmarshaller=context.createUnmarshaller();
  if (value instanceof String) {
    value=new StringReader((String)value);
  }
  if (value instanceof InputStream) {
    Object unmarshalled=unmarshaller.unmarshal((InputStream)value);
    return type.cast(unmarshalled);
  }
  if (value instanceof Reader) {
    Object unmarshalled=unmarshaller.unmarshal((Reader)value);
    return type.cast(unmarshalled);
  }
  return null;
}
