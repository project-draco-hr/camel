{
  List<String> answer=new ArrayList<String>();
  String received;
  do {
    received=consumer.receiveBodyNoWait("activemq:queue:foo",String.class);
    if (received != null) {
      answer.add(received);
    }
  }
 while (received != null);
  return answer;
}
