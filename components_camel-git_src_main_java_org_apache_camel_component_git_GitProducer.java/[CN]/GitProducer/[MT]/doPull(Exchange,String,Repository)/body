{
  Git git=null;
  PullResult result=null;
  try {
    git=new Git(repo);
    if (ObjectHelper.isEmpty(endpoint.getRemotePath())) {
      throw new IllegalArgumentException("Remote path must be specified to execute " + operation);
    }
    if (ObjectHelper.isNotEmpty(endpoint.getBranchName())) {
      git.checkout().setCreateBranch(false).setName(endpoint.getBranchName()).call();
    }
    if (ObjectHelper.isNotEmpty(endpoint.getUsername()) && ObjectHelper.isNotEmpty(endpoint.getPassword())) {
      UsernamePasswordCredentialsProvider credentials=new UsernamePasswordCredentialsProvider(endpoint.getUsername(),endpoint.getPassword());
      result=git.pull().setCredentialsProvider(credentials).setRemote(endpoint.getRemotePath()).call();
    }
 else {
      result=git.pull().setRemote(endpoint.getRemotePath()).call();
    }
  }
 catch (  Exception e) {
    LOG.error("There was an error in Git " + operation + " operation");
    e.printStackTrace();
  }
  exchange.getOut().setBody(result);
}
