{
  XMLInputFactory factory=getInputFactory();
  try {
    if (in instanceof DOMSource && !isWoodstox(factory)) {
      LOG.info("DOMSource is known to have issues with {0}. We suggest using Woodstox",factory.getClass());
    }
    return factory.createXMLEventReader(in);
  }
  finally {
    returnXMLInputFactory(factory);
  }
}
