{
  Object key=exchange.getIn().getHeader(RabbitMQConstants.ROUTING_KEY);
  String exchangeName=exchange.getIn().getHeader(RabbitMQConstants.EXCHANGE_NAME).toString();
  byte[] messageBodyBytes=exchange.getIn().getBody(byte[].class);
  AMQP.BasicProperties.Builder properties=buildProperties(exchange);
  channel.basicPublish(exchangeName,key == null ? "" : key.toString(),properties.build(),messageBodyBytes);
}
