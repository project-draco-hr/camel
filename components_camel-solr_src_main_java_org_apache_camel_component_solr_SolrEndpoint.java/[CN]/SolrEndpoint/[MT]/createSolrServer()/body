{
  SolrServer server=null;
  String zkHost=this.getZkHost();
  if (zkHost == null) {
    server=new HttpSolrServer(this.url);
  }
 else {
    CloudSolrServer cServer=new CloudSolrServer(zkHost);
    cServer.setDefaultCollection(this.getCollection());
    server=cServer;
  }
  return server;
}
