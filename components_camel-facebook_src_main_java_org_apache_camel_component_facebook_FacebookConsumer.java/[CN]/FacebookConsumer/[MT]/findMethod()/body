{
  FacebookMethodsType result;
  final Set<String> argNames=new HashSet<String>();
  argNames.addAll(FacebookPropertiesHelper.getEndpointPropertyNames(endpoint.getConfiguration()));
  argNames.add(READING_PPROPERTY);
  final String[] argNamesArray=argNames.toArray(new String[argNames.size()]);
  List<FacebookMethodsType> filteredMethods=filterMethods(endpoint.getCandidates(),MatchType.SUPER_SET,argNamesArray);
  if (filteredMethods.isEmpty()) {
    throw new IllegalArgumentException(String.format("Missing properties for %s, need one or more from %s",endpoint.getMethod(),getMissingProperties(endpoint.getMethod(),endpoint.getNameStyle(),argNames)));
  }
 else   if (filteredMethods.size() == 1) {
    result=filteredMethods.get(0);
  }
 else {
    result=getHighestPriorityMethod(filteredMethods);
    LOG.warn("Using highest priority method {} from methods {}",method,filteredMethods);
  }
  return result;
}
