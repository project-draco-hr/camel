{
  super(endpoint,processor);
  this.endpoint=endpoint;
  this.method=findMethod(endpoint.getCandidates());
  final HashMap<String,Object> properties=new HashMap<String,Object>();
  FacebookPropertiesHelper.getEndpointProperties(endpoint.getConfiguration(),properties);
  final Reading reading=(Reading)properties.get(READING_PPROPERTY);
  if (reading != null) {
    final String queryString=reading.toString();
    if (queryString.contains("since=")) {
      final int startIndex=queryString.indexOf(SINCE_PREFIX) + SINCE_PREFIX.length();
      int endIndex=queryString.indexOf('&',startIndex);
      if (endIndex == -1) {
        endIndex=queryString.length();
      }
      this.sinceTime=queryString.substring(startIndex,endIndex).replaceAll("%3(a|A)",":");
      LOG.debug("Using supplied property {}since value {}",READING_PREFIX,this.sinceTime);
    }
    if (queryString.contains("until=")) {
      LOG.debug("Overriding configured property {}until",READING_PREFIX);
    }
  }
  this.endpointProperties=Collections.unmodifiableMap(properties);
}
