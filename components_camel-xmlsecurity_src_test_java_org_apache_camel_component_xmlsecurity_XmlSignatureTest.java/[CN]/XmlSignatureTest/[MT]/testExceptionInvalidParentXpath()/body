{
  XmlSignerEndpoint endpoint=getSignatureEncpointForSignException();
  MockEndpoint mock=setupExceptionMock();
  try {
    endpoint.setParentXpath(XmlSignatureHelper.getXpathFilter("//pre:root",null));
    sendBody("direct:signexceptions",payload);
    assertMockEndpointsSatisfied();
    checkThrownException(mock,XmlSignatureException.class,"The parent XPath //pre:root is wrongly configured: The XPath //pre:root is invalid.",null);
  }
  finally {
    endpoint.setParentXpath(null);
  }
}
