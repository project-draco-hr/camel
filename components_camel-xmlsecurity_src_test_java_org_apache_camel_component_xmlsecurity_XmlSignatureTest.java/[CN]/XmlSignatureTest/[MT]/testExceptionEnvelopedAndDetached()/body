{
  String detachedPayload="<?xml version=\"1.0\" encoding=\"UTF-8\"?>" + "<ns:root xmlns:ns=\"http://test\"><a ID=\"myID\"><b>bValue</b></a></ns:root>";
  XmlSignerEndpoint endpoint=getDetachedSignerEndpoint();
  String parentLocalName="parent";
  endpoint.setParentLocalName(parentLocalName);
  MockEndpoint mock=setupExceptionMock();
  mock.expectedMessageCount(1);
  sendBody("direct:detached",detachedPayload);
  assertMockEndpointsSatisfied();
  checkThrownException(mock,XmlSignatureException.class,"The configuration of the XML signer component is wrong. The parent local name " + parentLocalName + " for an enveloped signature and the XPATHs to ID attributes for a detached signature are specified. You must not specify both parameters.",null);
}
