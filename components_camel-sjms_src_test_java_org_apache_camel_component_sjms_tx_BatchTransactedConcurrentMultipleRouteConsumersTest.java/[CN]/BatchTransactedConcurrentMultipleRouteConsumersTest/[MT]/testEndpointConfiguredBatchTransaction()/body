{
  getMockEndpoint("mock:test.redelivered.false.1").expectedMessageCount(99);
  getMockEndpoint("mock:test.redelivered.false.2").expectedMessageCount(99);
  getMockEndpoint("mock:test.redelivered.true.1").expectedMessageCount(25);
  getMockEndpoint("mock:test.redelivered.true.2").expectedMessageCount(25);
  getMockEndpoint("mock:test.after").expectedMessageCount(0);
  for (int i=1; i <= MESSAGE_COUNT; i++) {
    String message="Hello World " + i;
    template.sendBody("direct:start",message);
    log.trace("Sending message: {}",message);
  }
  assertMockEndpointsSatisfied();
}
