{
  ClassPathXmlApplicationContext ctx=new ClassPathXmlApplicationContext(new String[]{"/org/apache/camel/component/spring/integration/adapter/CamelTarget.xml"});
  HandlerEndpoint handlerEndpointA=(HandlerEndpoint)ctx.getBean("camelTargetA");
  assertNotNull(handlerEndpointA);
  assertEquals("Subscript the wrong channel name",handlerEndpointA.getSubscription().getChannelName(),"channelA");
  HandlerEndpoint handlerEndpointB=(HandlerEndpoint)ctx.getBean("camelTargetA");
  assertNotNull(handlerEndpointB);
  assertEquals("Subscript the wrong channel name",handlerEndpointB.getSubscription().getChannelName(),"channelA");
}
