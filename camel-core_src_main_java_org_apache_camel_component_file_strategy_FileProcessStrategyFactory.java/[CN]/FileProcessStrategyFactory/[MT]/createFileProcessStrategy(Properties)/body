{
  boolean isDelete=params.getProperty("delete") != null;
  boolean isLock=params.getProperty("lock") != null;
  String moveNamePrefix=params.getProperty("moveNamePrefix");
  String moveNamePostfix=params.getProperty("moveNamePostfix");
  if (params.getProperty("noop") != null) {
    return new NoOpFileProcessStrategy();
  }
 else   if (moveNamePostfix != null || moveNamePrefix != null) {
    if (isDelete) {
      throw new IllegalArgumentException("You cannot set the deleteFiles property " + "and a moveFilenamePostfix or moveFilenamePrefix");
    }
    return new RenameFileProcessStrategy(isLock,moveNamePrefix,moveNamePostfix);
  }
 else   if (isDelete) {
    return new DeleteFileProcessStrategy(isLock);
  }
 else {
    return new RenameFileProcessStrategy(isLock);
  }
}
