{
  try {
    LOG.debug("Wating for latch");
    latch.await();
    Thread.sleep(1000);
  }
 catch (  Exception e) {
  }
  LOG.debug("Sending late reply");
  template.send("activemq:dummy",new Processor(){
    public void process(    Exchange exchange) throws Exception {
      exchange.setPattern(ExchangePattern.InOnly);
      Message in=exchange.getIn();
      in.setBody(expectedBody);
      in.setHeader(JmsConstants.JMS_DESTINATION,replyDestination);
      in.setHeader("JMSCorrelationID",cid);
    }
  }
);
}
