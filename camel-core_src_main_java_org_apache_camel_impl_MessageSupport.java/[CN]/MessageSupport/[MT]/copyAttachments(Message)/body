{
  boolean sameAttachments=false;
  if (hasAttachments() && that.hasAttachments() && getAttachments() == that.getAttachments()) {
    sameAttachments=true;
  }
  if (!sameAttachments) {
    if (hasAttachments()) {
      getAttachments().clear();
    }
    if (that.hasAttachments()) {
      getAttachments().putAll(that.getAttachments());
    }
  }
}
