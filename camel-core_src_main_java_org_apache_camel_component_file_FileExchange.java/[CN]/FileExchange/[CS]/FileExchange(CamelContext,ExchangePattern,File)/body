{
  super(camelContext,pattern);
  setIn(new FileMessage(file));
  this.file=file;
  if (file != null) {
    getIn().setHeader("CamelFileName",file.getName());
    getIn().setHeader("CamelFileAbsolutePath",file.getAbsolutePath());
    getIn().setHeader("CamelFileParent",file.getParent());
    getIn().setHeader("CamelFilePath",file.getPath());
    try {
      getIn().setHeader("CamelFileCanonicalPath",file.getCanonicalPath());
    }
 catch (    IOException e) {
    }
    if (file.length() > 0) {
      getIn().setHeader("CamelFileLength",new Long(file.length()));
    }
    if (file.lastModified() > 0) {
      getIn().setHeader("CamelFileLastModified",new Date(file.lastModified()));
    }
  }
}
