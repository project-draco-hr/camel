{
  List<Processor<E>> list=getProcessors();
  if (list.isEmpty()) {
    throw new IllegalStateException("No processors available to process " + exchange);
  }
  Processor<E> processor=chooseProcessor(list,exchange);
  if (processor == null) {
    throw new IllegalStateException("No processors could be chosen to process " + exchange);
  }
 else {
    processor.process(exchange);
  }
}
