{
  final List<String> keys=new ArrayList<String>();
  final List<Integer> values=new ArrayList<Integer>();
  DefaultTimeoutMap<String,Integer> map=new DefaultTimeoutMap<String,Integer>(executor,100){
    @Override public boolean onEviction(    String key,    Integer value){
      keys.add(key);
      values.add(value);
      return true;
    }
  }
;
  map.start();
  assertEquals(0,map.size());
  map.put("A",1,50);
  map.put("B",2,30);
  map.put("C",3,40);
  map.put("D",4,20);
  map.put("E",5,40);
  map.put("F",6,800);
  Thread.sleep(250);
  map.purge();
  assertEquals("D",keys.get(0));
  assertEquals(4,values.get(0).intValue());
  assertEquals("B",keys.get(1));
  assertEquals(2,values.get(1).intValue());
  assertEquals("C",keys.get(2));
  assertEquals(3,values.get(2).intValue());
  assertEquals("E",keys.get(3));
  assertEquals(5,values.get(3).intValue());
  assertEquals("A",keys.get(4));
  assertEquals(1,values.get(4).intValue());
  assertEquals(1,map.size());
  map.stop();
}
