{
  super(endpoint,processor);
  Registry registry=endpoint.getCamelContext().getRegistry();
  Object service=registry.lookupByName("githubPullRequestService");
  if (service != null) {
    LOG.debug("Using PullRequestService found in registry " + service.getClass().getCanonicalName());
    pullRequestService=(PullRequestService)service;
  }
 else {
    pullRequestService=new PullRequestService();
  }
  initService(pullRequestService);
  LOG.info("GitHub PullRequestConsumer: Indexing current pull requests...");
  List<PullRequest> pullRequests=pullRequestService.getPullRequests(getRepository(),"open");
  if (pullRequests.size() > 0) {
    lastOpenPullRequest=pullRequests.get(0).getNumber();
  }
}
