{
  outputDir.mkdirs();
  List<File> files=new ArrayList<File>();
  appendFiles(files,resources);
  if (graphvizOutputTypes == null) {
    if (graphvizOutputType == null) {
      graphvizOutputTypes=DEFAULT_GRAPHVIZ_OUTPUT_TYPES;
    }
 else {
      graphvizOutputTypes=new String[]{graphvizOutputType};
    }
  }
  try {
    for (int i=0; i < files.size(); i++) {
      File file=(File)((List)files).get(i);
      for (int j=0; j < graphvizOutputTypes.length; j++) {
        String format=graphvizOutputTypes[j];
        convertFile(file,format,getLog());
      }
    }
  }
 catch (  CommandLineException e) {
    throw new MojoExecutionException("Failed: " + e,e);
  }
}
