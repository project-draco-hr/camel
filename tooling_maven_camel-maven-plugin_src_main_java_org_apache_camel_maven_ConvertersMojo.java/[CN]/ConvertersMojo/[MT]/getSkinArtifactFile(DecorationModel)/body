{
  Skin skin=decoration.getSkin();
  if (skin == null) {
    skin=Skin.getDefaultSkin();
  }
  String version=skin.getVersion();
  Artifact artifact;
  try {
    if (version == null) {
      version=Artifact.RELEASE_VERSION;
    }
    VersionRange versionSpec=VersionRange.createFromVersionSpec(version);
    artifact=artifactFactory.createDependencyArtifact(skin.getGroupId(),skin.getArtifactId(),versionSpec,"jar",null,null);
    artifactResolver.resolve(artifact,remoteArtifactRepositories,localRepository);
    return artifact.getFile();
  }
 catch (  InvalidVersionSpecificationException e) {
    throw new MojoFailureException("The skin version '" + version + "' is not valid: "+ e.getMessage());
  }
catch (  ArtifactResolutionException e) {
    throw new MojoFailureException("Unable to fink skin: " + e.getMessage());
  }
catch (  ArtifactNotFoundException e) {
    throw new MojoFailureException("The skin does not exist: " + e.getMessage());
  }
}
