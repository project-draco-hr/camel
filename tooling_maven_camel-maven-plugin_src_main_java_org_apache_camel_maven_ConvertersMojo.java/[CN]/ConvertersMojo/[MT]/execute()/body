{
  if (!canGenerateReport()) {
    return;
  }
  try {
    DecorationModel model=new DecorationModel();
    model.setBody(new Body());
    Map<String,Object> attributes=new HashMap<String,Object>();
    attributes.put("outputEncoding","UTF-8");
    attributes.put("project",project);
    Locale locale=Locale.getDefault();
    SiteRenderingContext siteContext=renderer.createContextForSkin(getSkinArtifactFile(model),attributes,model,getName(locale),locale);
    RenderingContext context=new RenderingContext(getReportOutputDirectory(),getOutputName() + ".html");
    SiteRendererSink sink=new SiteRendererSink(context);
    generate(sink,locale);
    Writer writer=new OutputStreamWriter(new FileOutputStream(new File(getReportOutputDirectory(),getOutputName() + ".html")),"UTF-8");
    renderer.generateDocument(writer,sink,siteContext);
    renderer.copyResources(siteContext,new File(project.getBasedir(),"src/site/resources"),outputDirectory);
  }
 catch (  IOException e) {
    throw new MojoExecutionException("Error copying resources.",e);
  }
catch (  RendererException e) {
    throw new MojoExecutionException("Error while rendering report.",e);
  }
catch (  MojoFailureException e) {
    throw new MojoExecutionException("Cannot find skin artifact for report.",e);
  }
catch (  MavenReportException e) {
    throw new MojoExecutionException("Error generating report.",e);
  }
}
