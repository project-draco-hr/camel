{
  int size=CamelContextHelper.parseInteger(getCamelContext(),poolSize);
  if (size <= 0) {
    throw new IllegalArgumentException("PoolSize must be a positive number");
  }
  int max=size;
  if (maxPoolSize != null) {
    max=CamelContextHelper.parseInteger(getCamelContext(),maxPoolSize);
  }
  RejectedExecutionHandler rejected=null;
  if (rejectedPolicy != null) {
    rejected=rejectedPolicy.asRejectedExecutionHandler();
  }
  long keepAlive=60;
  if (keepAliveTime != null) {
    keepAlive=CamelContextHelper.parseLong(getCamelContext(),keepAliveTime);
  }
  int queueSize=-1;
  if (maxQueueSize != null) {
    queueSize=CamelContextHelper.parseInteger(getCamelContext(),maxQueueSize);
  }
  ExecutorService answer=getCamelContext().getExecutorServiceStrategy().newThreadPool(getId(),getThreadName(),size,max,keepAlive,getTimeUnit(),queueSize,rejected,true);
  return answer;
}
