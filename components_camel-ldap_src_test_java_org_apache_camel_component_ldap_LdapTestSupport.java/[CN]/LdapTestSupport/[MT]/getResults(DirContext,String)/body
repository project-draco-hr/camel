{
  Set<SearchResult> results=new HashSet<SearchResult>();
  SearchControls controls=new SearchControls();
  controls.setSearchScope(SearchControls.SUBTREE_SCOPE);
  NamingEnumeration<SearchResult> namingEnumeration=ctx.search(ServerDNConstants.SYSTEM_DN,filter,controls);
  while (namingEnumeration.hasMore()) {
    results.add(namingEnumeration.next());
  }
  return results;
}
