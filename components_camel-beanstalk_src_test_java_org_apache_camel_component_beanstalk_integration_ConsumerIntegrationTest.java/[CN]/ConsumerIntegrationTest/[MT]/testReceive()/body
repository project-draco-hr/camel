{
  long PRIO=0;
  int TTR=10;
  final long jobId=writer.put(PRIO,0,TTR,Helper.stringToBytes(testMessage));
  result.expectedMessageCount(1);
  result.expectedPropertyReceived(Headers.JOB_ID,jobId);
  result.message(0).header(Exchange.CREATED_TIMESTAMP).isNotNull();
  result.message(0).header(Headers.JOB_ID).isEqualTo(Long.valueOf(jobId));
  result.message(0).header(Headers.PRIORITY).isEqualTo(Long.valueOf(PRIO));
  result.message(0).header(Headers.TUBE).isEqualTo(tubeName);
  result.message(0).header(Headers.STATE).isEqualTo("reserved");
  result.message(0).header(Headers.AGE).isGreaterThan(0);
  result.message(0).header(Headers.TIME_LEFT).isGreaterThan(0);
  result.message(0).header(Headers.TIMEOUTS).isNotNull();
  result.message(0).header(Headers.RELEASES).isNotNull();
  result.message(0).header(Headers.BURIES).isNotNull();
  result.message(0).header(Headers.KICKS).isNotNull();
  result.message(0).body().isEqualTo(testMessage);
  result.assertIsSatisfied(500);
}
