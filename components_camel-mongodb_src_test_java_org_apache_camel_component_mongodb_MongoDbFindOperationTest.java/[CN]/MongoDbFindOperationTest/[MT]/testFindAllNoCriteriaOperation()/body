{
  assertEquals(0,testCollection.count());
  pumpDataIntoTestCollection();
  Object result=template.requestBody("direct:findAll",(Object)null);
  assertTrue("Result is not of type List",result instanceof List);
  @SuppressWarnings("unchecked") List<DBObject> resultList=(List<DBObject>)result;
  assertListSize("Result does not contain all entries in collection",resultList,1000);
  for (  DBObject dbObject : resultList) {
    assertNotNull("DBObject in returned list should contain all fields",dbObject.get("_id"));
    assertNotNull("DBObject in returned list should contain all fields",dbObject.get("scientist"));
    assertNotNull("DBObject in returned list should contain all fields",dbObject.get("fixedField"));
  }
  Exchange resultExchange=getMockEndpoint("mock:resultFindAll").getReceivedExchanges().get(0);
  assertEquals("Result total size header should equal 1000",1000,resultExchange.getIn().getHeader(MongoDbConstants.RESULT_TOTAL_SIZE));
  assertEquals("Result page size header should equal 1000",1000,resultExchange.getIn().getHeader(MongoDbConstants.RESULT_PAGE_SIZE));
}
