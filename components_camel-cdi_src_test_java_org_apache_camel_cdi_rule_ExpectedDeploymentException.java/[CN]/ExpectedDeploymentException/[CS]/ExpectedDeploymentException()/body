{
  chain=RuleChain.outerRule(log).around(new TestRule(){
    @Override public Statement apply(    final Statement base,    Description description){
      return new Statement(){
        @Override public void evaluate() throws Throwable {
          try {
            base.evaluate();
          }
 catch (          Throwable exception) {
            assertThat(exception,allOf(pecs(exceptions)));
            try {
              assertThat(log.getMessages(),anyOf(hasItems(messages)));
            }
 catch (            AssertionError error) {
              assertThat(exception.getMessage(),allOf(pecs(messages)));
            }
          }
        }
      }
;
    }
  }
);
}
