{
  validate();
  JpaConsumer consumer=new JpaConsumer(this,processor);
  consumer.setMaxMessagesPerPoll(getMaxMessagesPerPoll());
  consumer.setQuery(getQuery());
  consumer.setNamedQuery(getNamedQuery());
  consumer.setNativeQuery(getNativeQuery());
  consumer.setLockModeType(getLockModeType());
  consumer.setParameters(getParameters());
  consumer.setResultClass(getResultClass());
  consumer.setTransacted(isTransacted());
  consumer.setSkipLockedEntity(isSkipLockedEntity());
  consumer.setDeleteHandler(getDeleteHandler());
  consumer.setPreDeleteHandler(getPreDeleteHandler());
  configureConsumer(consumer);
  return consumer;
}
