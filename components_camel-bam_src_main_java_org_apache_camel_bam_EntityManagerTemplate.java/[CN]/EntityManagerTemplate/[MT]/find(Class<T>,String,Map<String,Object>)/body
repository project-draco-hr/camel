{
  return execute(new EntityManagerCallback<List<T>>(){
    @Override public List<T> execute(    EntityManager entityManager){
      TypedQuery<T> typedQuery=entityManager.createQuery(query,entity);
      for (      Map.Entry<String,Object> parameter : parameters.entrySet()) {
        typedQuery.setParameter(parameter.getKey(),parameter.getValue());
      }
      return typedQuery.getResultList();
    }
  }
);
}
