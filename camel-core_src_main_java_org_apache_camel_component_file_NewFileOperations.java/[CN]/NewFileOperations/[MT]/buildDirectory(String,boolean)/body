{
  if (endpoint.isAutoCreate() && endpoint.isDirectory() && !endpoint.getFile().exists()) {
    endpoint.getFile().mkdirs();
  }
  File path;
  if (absolute) {
    path=new File(directory);
  }
 else {
    if (directory.startsWith(endpoint.getFile().getPath())) {
      directory=directory.substring(endpoint.getFile().getPath().length());
    }
    path=new File(endpoint.getFile(),directory);
  }
  if (path.isDirectory() && path.exists()) {
    return true;
  }
 else {
    return path.mkdirs();
  }
}
