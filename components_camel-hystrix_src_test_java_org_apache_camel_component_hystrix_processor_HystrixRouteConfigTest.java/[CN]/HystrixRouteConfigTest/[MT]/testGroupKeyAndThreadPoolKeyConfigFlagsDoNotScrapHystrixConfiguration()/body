{
  RouteBuilder rb=new RouteBuilder(){
    @Override public void configure() throws Exception {
      from("direct:foo").hystrix().hystrixConfiguration().groupKey("test1").metricsHealthSnapshotIntervalInMilliseconds(99999).end().groupKey("test2").to("log:hello").end();
    }
  }
;
  rb.configure();
  RouteDefinition route=rb.getRouteCollection().getRoutes().get(0);
  assertEquals(HystrixDefinition.class,route.getOutputs().get(0).getClass());
  HystrixConfigurationDefinition config=((HystrixDefinition)route.getOutputs().get(0)).getHystrixConfiguration();
  assertEquals("test2",config.getGroupKey());
  assertEquals(99999,config.getMetricsHealthSnapshotIntervalInMilliseconds().intValue());
}
