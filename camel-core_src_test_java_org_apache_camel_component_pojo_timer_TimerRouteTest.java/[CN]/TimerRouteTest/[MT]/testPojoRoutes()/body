{
  CamelContext container=new DefaultCamelContext();
  final AtomicInteger hitCount=new AtomicInteger();
  PojoComponent component=new PojoComponent();
  component.addService("bar",new Runnable(){
    public void run(){
      System.out.println("hit");
      hitCount.incrementAndGet();
    }
  }
);
  container.addComponent("pojo",component);
  container.addRoutes(new RouteBuilder(){
    public void configure(){
      from("timer://foo?fixedRate=true&delay=0&period=500").to("pojo:bar");
    }
  }
);
  container.start();
  Thread.sleep(1000 * 2);
  assertTrue("",hitCount.get() >= 3);
  container.stop();
}
