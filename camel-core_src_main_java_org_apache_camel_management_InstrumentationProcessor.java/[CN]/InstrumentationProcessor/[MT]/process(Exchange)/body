{
  long startTime=System.currentTimeMillis();
  super.process(exchange);
  if (counter != null) {
    if (!exchange.isFailed()) {
      counter.completedExchange(System.currentTimeMillis() - startTime);
    }
 else {
      counter.completedExchange();
    }
  }
}
