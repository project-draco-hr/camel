{
  List<String> componentNames=findComponentNames();
  final Set<File> jsonFiles=new TreeSet<File>();
  PackageHelper.findJsonFiles(buildDir,jsonFiles,new PackageHelper.CamelComponentsModelFilter());
  if (!componentNames.isEmpty()) {
    getLog().info("Found " + componentNames.size() + " components");
    for (    String componentName : componentNames) {
      String json=loadComponentJson(jsonFiles,componentName);
      if (json != null) {
        File file=new File(docDir,componentName + ".adoc");
        ComponentModel model=generateComponentModel(componentName,json);
        boolean updated=false;
        if (model.getComponentOptions() != null) {
          String options=templateComponentOptions(model);
          updated|=updateComponentOptions(file,options);
        }
        if (model.getEndpointOptions() != null) {
          String options=templateEndpointOptions(model);
          updated|=updateEndpointOptions(file,options);
        }
        if (updated) {
          getLog().info("Updated file: " + file);
        }
 else {
          getLog().info("No changes to file: " + file);
        }
      }
    }
  }
}
