{
  if (isStopped(value)) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Service already stopped: " + value);
    }
    return;
  }
  if (value instanceof Service) {
    Service service=(Service)value;
    if (LOG.isTraceEnabled()) {
      LOG.trace("Stopping service " + value);
    }
    service.stop();
  }
 else   if (value instanceof Collection) {
    stopServices((Collection<?>)value);
  }
}
