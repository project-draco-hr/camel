{
  firstCamelContext.start();
  String firstMaster=master;
  secondCamelContext.start();
  firstCamelContext.stop();
  String secondMaster=master;
  firstCamelContext.start();
  String masterAfterRestartOfFirstNode=master;
  secondCamelContext.stop();
  String finalMaster=master;
  firstCamelContext.stop();
  assertEquals(firstCamelContext.getName(),firstMaster);
  assertEquals(secondCamelContext.getName(),secondMaster);
  assertEquals(secondCamelContext.getName(),masterAfterRestartOfFirstNode);
  assertEquals(firstCamelContext.getName(),finalMaster);
  assertEquals(3,nominationCount);
}
