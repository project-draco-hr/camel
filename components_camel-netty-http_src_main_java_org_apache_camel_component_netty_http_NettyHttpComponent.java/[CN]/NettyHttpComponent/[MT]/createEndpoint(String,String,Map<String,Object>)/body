{
  NettyConfiguration config;
  if (getConfiguration() != null) {
    config=getConfiguration().copy();
  }
 else {
    config=new NettyHttpConfiguration();
  }
  config=parseConfiguration(config,remaining,parameters);
  config.validateConfiguration();
  NettyHttpEndpoint answer=new NettyHttpEndpoint(remaining,this,config);
  answer.setTimer(getTimer());
  setProperties(answer.getConfiguration(),parameters);
  if (!parameters.isEmpty()) {
    String query=URISupport.createQueryString(parameters);
    answer.setUriParameters(query);
  }
  if (answer.getNettyHttpBinding() == null) {
    answer.setNettyHttpBinding(getNettyHttpBinding());
  }
  if (answer.getHeaderFilterStrategy() == null) {
    answer.setHeaderFilterStrategy(getHeaderFilterStrategy());
  }
  return answer;
}
