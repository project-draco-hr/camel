{
  Configuration config=getConfiguration();
  DynamicQueryContext dynamicQueryContext=new DynamicQueryContext(config);
  Source source=exchange.getIn().getBody(Source.class);
  if (source == null) {
    source=converter.toSource(converter.createDocument());
  }
  DocumentInfo doc=getStaticQueryContext().buildDocument(source);
  dynamicQueryContext.setContextItem(doc);
  configureQuery(dynamicQueryContext,exchange);
  return dynamicQueryContext;
}
