{
  Throttler throttler=new Throttler(context,null,constant(3),1000,null,false,false);
  throttler.calculateDelay(new DefaultExchange(context));
  TimeSlot slot=throttler.getSlot();
  assertNotNull(slot);
  assertSame(slot,throttler.nextSlot());
  Thread.sleep((long)(1.5 * 1000));
  assertFalse(slot.isActive());
  assertNotSame(slot,throttler.nextSlot());
}
