{
  Throttler throttler=new Throttler(context,null,constant(3),1000,null,false,false);
  throttler.calculateDelay(new DefaultExchange(context));
  TimeSlot slot=throttler.nextSlot();
  assertNotNull(slot);
  assertSame(slot,throttler.nextSlot());
  assertTrue(slot.isFull());
  assertTrue(slot.isActive());
  TimeSlot next=throttler.nextSlot();
  assertNotSame(slot,next);
  assertFalse(next.isActive());
}
