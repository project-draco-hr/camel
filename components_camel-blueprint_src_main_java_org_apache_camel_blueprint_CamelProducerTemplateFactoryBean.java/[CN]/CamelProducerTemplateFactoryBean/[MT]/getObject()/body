{
  CamelContext context=getCamelContext();
  if (defaultEndpoint != null) {
    Endpoint endpoint=context.getEndpoint(defaultEndpoint);
    if (endpoint == null) {
      throw new IllegalArgumentException("No endpoint found for URI: " + defaultEndpoint);
    }
 else {
      return new DefaultProducerTemplate(context,endpoint);
    }
  }
  return new DefaultProducerTemplate(context);
}
