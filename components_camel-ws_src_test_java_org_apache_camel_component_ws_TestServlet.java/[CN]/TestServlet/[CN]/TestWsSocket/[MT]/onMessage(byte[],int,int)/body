{
  try {
    if (length < data.length) {
      byte[] odata=data;
      data=new byte[length];
      System.arraycopy(odata,offset,data,0,length);
      offset=0;
    }
    messages.add(data);
    con.sendMessage(data,offset,length);
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
}
