{
  done.countDown();
  if (callback == null) {
    return;
  }
  int exchangeState=ce.getStatus();
  if (LOG.isDebugEnabled()) {
    LOG.debug("TaskComplete with state {} for url: {}",exchangeState,getUrl());
  }
  try {
    if (exchangeState == HttpExchange.STATUS_COMPLETED) {
      try {
        jettyBinding.populateResponse(exchange,this);
      }
 catch (      Exception e) {
        exchange.setException(e);
      }
    }
 else     if (exchangeState == HttpExchange.STATUS_EXPIRED) {
      exchange.setException(new ExchangeTimedOutException(exchange,client.getTimeout()));
    }
 else {
      if (exchange.getException() != null) {
        exchange.setException(new CamelExchangeException("JettyClient failed with state " + exchangeState,exchange,exchange.getException()));
      }
    }
  }
  finally {
    callback.done(false);
  }
}
