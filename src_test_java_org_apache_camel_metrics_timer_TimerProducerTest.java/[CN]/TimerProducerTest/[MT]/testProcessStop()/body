{
  when(endpoint.getAction()).thenReturn(TimerAction.stop);
  when(exchange.getProperty(PROPERTY_NAME,Timer.Context.class)).thenReturn(context);
  producer.process(exchange);
  inOrder.verify(endpoint,times(1)).getRegistry();
  inOrder.verify(endpoint,times(1)).getMetricsName(exchange);
  inOrder.verify(endpoint,times(1)).getAction();
  inOrder.verify(exchange,times(1)).getProperty(PROPERTY_NAME,Timer.Context.class);
  inOrder.verify(context,times(1)).stop();
  inOrder.verify(exchange,times(1)).removeProperty(PROPERTY_NAME);
  inOrder.verifyNoMoreInteractions();
}
