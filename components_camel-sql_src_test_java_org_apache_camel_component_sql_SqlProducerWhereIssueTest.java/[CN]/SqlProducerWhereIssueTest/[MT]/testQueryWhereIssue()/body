{
  MockEndpoint mock=getMockEndpoint("mock:query");
  mock.expectedMessageCount(1);
  template.requestBodyAndHeader("direct:query","Hi there!","lowId","1");
  assertMockEndpointsSatisfied();
  List list=mock.getReceivedExchanges().get(0).getIn().getBody(List.class);
  Map row=(Map)list.get(0);
  assertEquals("ASF",row.get("LICENSE"));
  assertEquals(2,row.get("ROWCOUNT"));
  row=(Map)list.get(1);
  assertEquals("XXX",row.get("LICENSE"));
  assertEquals(1,row.get("ROWCOUNT"));
}
