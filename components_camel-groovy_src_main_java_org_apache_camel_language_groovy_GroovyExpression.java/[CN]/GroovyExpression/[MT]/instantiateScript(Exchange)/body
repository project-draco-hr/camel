{
  GroovyLanguage language=(GroovyLanguage)exchange.getContext().resolveLanguage("groovy");
  Class<Script> scriptClass=language.getScriptFromCache(text);
  if (scriptClass == null) {
    ClassLoader cl=exchange.getContext().getApplicationContextClassLoader();
    GroovyShell shell=cl != null ? new GroovyShell(cl) : new GroovyShell();
    scriptClass=shell.getClassLoader().parseClass(text);
    language.addScriptToCache(text,scriptClass);
  }
  try {
    return scriptClass.newInstance();
  }
 catch (  InstantiationException e) {
    throw new RuntimeCamelException(e);
  }
catch (  IllegalAccessException e) {
    throw new RuntimeCamelException(e);
  }
}
