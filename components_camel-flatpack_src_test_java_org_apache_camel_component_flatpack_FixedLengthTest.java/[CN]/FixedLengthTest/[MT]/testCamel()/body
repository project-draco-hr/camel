{
  results.expectedMessageCount(4);
  results.assertIsSatisfied();
  int counter=0;
  List<Exchange> list=results.getReceivedExchanges();
  for (  Exchange exchange : list) {
    Message in=exchange.getIn();
    assertEquals("counter",in.getHeader("camelFlatpackCounter"),counter);
    Map<String,String> body=CastUtils.cast(in.getBody(Map.class));
    assertNotNull("Should have found body as a Map but was: " + ObjectHelper.className(in.getBody()),body);
    assertEquals("FIRSTNAME",expectedFirstName[counter],body.get("FIRSTNAME"));
    LOG.info("Result: " + counter + " = "+ body);
    counter++;
  }
}
