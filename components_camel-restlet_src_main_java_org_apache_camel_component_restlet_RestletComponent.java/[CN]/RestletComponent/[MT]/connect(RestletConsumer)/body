{
  RestletEndpoint endpoint=(RestletEndpoint)consumer.getEndpoint();
  addServerIfNeccessary(endpoint);
  MethodBasedRouter router=getMethodRouter(endpoint.getUriPattern());
  router.addRoute(endpoint.getRestletMethod(),consumer.getRestlet());
  if (!router.hasBeenAttached()) {
    component.getDefaultHost().attach(endpoint.getUriPattern(),router);
    if (LOG.isDebugEnabled()) {
      LOG.debug("attached methodRouter uriPattern: " + endpoint.getUriPattern());
    }
  }
  LOG.info("Attached restlet uriPattern: " + endpoint.getUriPattern() + " method: "+ endpoint.getRestletMethod());
}
