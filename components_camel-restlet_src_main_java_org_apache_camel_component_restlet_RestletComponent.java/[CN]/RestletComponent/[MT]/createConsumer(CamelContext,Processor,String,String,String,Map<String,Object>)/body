{
  path=FileUtil.stripLeadingSeparator(path);
  ModelCamelContext model=(ModelCamelContext)getCamelContext();
  String host="0.0.0.0";
  int port=0;
  if (model.getRestConfigurationDefinition() != null) {
    String value=model.getRestConfigurationDefinition().getPort();
    if (value != null) {
      port=CamelContextHelper.parseInteger(model,value);
    }
    value=model.getRestConfigurationDefinition().getHost();
    if (value != null) {
      host=CamelContextHelper.parseText(model,value);
    }
  }
  String url=String.format("restlet:http://%s:%s/%s?restletMethod=%s",host,port,path,verb);
  RestletEndpoint endpoint=camelContext.getEndpoint(url,RestletEndpoint.class);
  setProperties(endpoint,parameters);
  return endpoint.createConsumer(processor);
}
