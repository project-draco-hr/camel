{
  container.setConnectionFactory(getConnectionFactory());
  if (autoStartup) {
    container.setAutoStartup(true);
  }
  if (consumerClientId != null) {
    container.setClientId(consumerClientId);
  }
  if (durableSubscriptionName != null) {
    container.setDurableSubscriptionName(durableSubscriptionName);
  }
  if (exceptionListener != null) {
    container.setExceptionListener(exceptionListener);
  }
  container.setAcceptMessagesWhileStopping(acceptMessagesWhileStopping);
  container.setExposeListenerSession(exposeListenerSession);
  boolean transacted=TRANSACTED.equals(consumerAcknowledgementMode);
  container.setSessionTransacted(transacted);
  if (!transacted) {
    container.setSessionAcknowledgeModeName(consumerAcknowledgementMode);
  }
  container.setSubscriptionDurable(subscriptionDurable);
  if (container instanceof DefaultMessageListenerContainer) {
    DefaultMessageListenerContainer listenerContainer=(DefaultMessageListenerContainer)container;
    if (concurrentConsumers >= 0) {
      listenerContainer.setConcurrentConsumers(concurrentConsumers);
    }
    if (cacheLevel >= 0) {
      listenerContainer.setCacheLevel(cacheLevel);
    }
 else     if (cacheName != null) {
      listenerContainer.setCacheLevelName(cacheName);
    }
 else {
      listenerContainer.setCacheLevel(DefaultMessageListenerContainer.CACHE_CONSUMER);
    }
    if (idleTaskExecutionLimit >= 0) {
      listenerContainer.setIdleTaskExecutionLimit(idleTaskExecutionLimit);
    }
    if (maxConcurrentConsumers >= 0) {
      listenerContainer.setMaxConcurrentConsumers(maxConcurrentConsumers);
    }
    if (maxMessagesPerTask >= 0) {
      listenerContainer.setMaxMessagesPerTask(maxMessagesPerTask);
    }
    listenerContainer.setPubSubNoLocal(pubSubNoLocal);
    if (receiveTimeout >= 0) {
      listenerContainer.setReceiveTimeout(receiveTimeout);
    }
    if (recoveryInterval >= 0) {
      listenerContainer.setRecoveryInterval(recoveryInterval);
    }
    if (taskExecutor != null) {
      listenerContainer.setTaskExecutor(taskExecutor);
    }
    if (transactionManager != null) {
      listenerContainer.setTransactionManager(transactionManager);
    }
    if (transactionName != null) {
      listenerContainer.setTransactionName(transactionName);
    }
    if (transactionTimeout >= 0) {
      listenerContainer.setTransactionTimeout(transactionTimeout);
    }
  }
 else   if (container instanceof ServerSessionMessageListenerContainer) {
    ServerSessionMessageListenerContainer listenerContainer=(ServerSessionMessageListenerContainer)container;
    if (maxMessagesPerTask >= 0) {
      listenerContainer.setMaxMessagesPerTask(maxMessagesPerTask);
    }
    if (serverSessionFactory != null) {
      listenerContainer.setServerSessionFactory(serverSessionFactory);
    }
  }
 else   if (container instanceof SimpleMessageListenerContainer) {
    SimpleMessageListenerContainer listenerContainer=(SimpleMessageListenerContainer)container;
    if (concurrentConsumers >= 0) {
      listenerContainer.setConcurrentConsumers(concurrentConsumers);
    }
    listenerContainer.setPubSubNoLocal(pubSubNoLocal);
    if (taskExecutor != null) {
      listenerContainer.setTaskExecutor(taskExecutor);
    }
  }
}
