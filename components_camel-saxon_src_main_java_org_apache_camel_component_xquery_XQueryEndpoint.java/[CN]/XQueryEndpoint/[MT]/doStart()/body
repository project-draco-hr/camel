{
  super.doStart();
  LOG.debug("{} using schema resource: {}",this,resourceUri);
  URL url=ResourceHelper.resolveMandatoryResourceAsUrl(getCamelContext().getClassResolver(),resourceUri);
  this.xquery=XQueryBuilder.xquery(url);
  xquery.setConfiguration(getConfiguration());
  xquery.setStaticQueryContext(getStaticQueryContext());
  xquery.setParameters(getParameters());
  xquery.setNamespaces(namespacePrefixes);
  xquery.setResultsFormat(getResultsFormat());
  xquery.setProperties(getProperties());
  xquery.setResultType(getResultType());
  xquery.setStripsAllWhiteSpace(isStripsAllWhiteSpace());
  xquery.setAllowStAX(isAllowStAX());
  xquery.setHeaderName(getHeaderName());
  setProcessor(xquery);
  ServiceHelper.startService(xquery);
}
