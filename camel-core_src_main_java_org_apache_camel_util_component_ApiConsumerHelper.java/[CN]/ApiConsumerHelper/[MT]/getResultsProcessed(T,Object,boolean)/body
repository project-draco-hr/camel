{
  if (result != null && splitResult) {
    final Object resultArray=consumer.splitResult(result);
    if (resultArray != result && resultArray.getClass().isArray()) {
      final int length=Array.getLength(resultArray);
      for (int i=0; i < length; i++) {
        processResult(consumer,result,Array.get(resultArray,i));
      }
      return length;
    }
  }
  processResult(consumer,result,result);
  return 1;
}
