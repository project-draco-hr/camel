{
  if (endpoint == null || !endpoint.isSingleton()) {
    this.uri=getCamelContext().resolvePropertyPlaceholders(uri);
    String target=createUri();
    endpoint=getCamelContext().getEndpoint(target);
    if (endpoint == null) {
      throw new NoSuchEndpointException(target);
    }
  }
  return endpoint;
}
