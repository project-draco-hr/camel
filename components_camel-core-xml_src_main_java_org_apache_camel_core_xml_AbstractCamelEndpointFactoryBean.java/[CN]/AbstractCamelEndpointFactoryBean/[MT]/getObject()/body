{
  if (endpoint == null || !endpoint.isSingleton()) {
    String resolved=getCamelContext().resolvePropertyPlaceholders(uri);
    String target=createUri(resolved);
    this.endpoint=getCamelContext().getEndpoint(target);
    if (endpoint == null) {
      throw new NoSuchEndpointException(target);
    }
  }
  return endpoint;
}
