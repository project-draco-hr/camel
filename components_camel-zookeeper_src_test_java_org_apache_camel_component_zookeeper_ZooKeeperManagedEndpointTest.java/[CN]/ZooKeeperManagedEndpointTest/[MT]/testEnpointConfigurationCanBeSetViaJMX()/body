{
  Set s=getMBeanServer().queryNames(new ObjectName("org.apache.camel:type=endpoints,name=\"zookeeper:*\",*"),null);
  assertEquals("Could not find zookeper endpoint: " + s,1,s.size());
  ObjectName zepName=new ArrayList<ObjectName>(s).get(0);
  verifyManagedAttribute(zepName,"Path","/someotherpath");
  verifyManagedAttribute(zepName,"Create",true);
  verifyManagedAttribute(zepName,"Repeat",true);
  verifyManagedAttribute(zepName,"ListChildren",true);
  verifyManagedAttribute(zepName,"AwaitExistence",true);
  verifyManagedAttribute(zepName,"Timeout",12345);
  verifyManagedAttribute(zepName,"Backoff",12345L);
  getMBeanServer().invoke(zepName,"clearServers",null,JmxUtils.getMethodSignature(ZooKeeperEndpoint.class.getMethod("clearServers",null)));
  getMBeanServer().invoke(zepName,"addServer",new Object[]{"someserver:12345"},JmxUtils.getMethodSignature(ZooKeeperEndpoint.class.getMethod("addServer",new Class[]{String.class})));
}
