{
  Endpoint<MyExchange> endpoint=new DefaultEndpoint<MyExchange>("foo",new DefaultComponent()){
    public Consumer<MyExchange> createConsumer(    Processor processor) throws Exception {
      return null;
    }
    public MyExchange createExchange(){
      return new MyExchange(getContext());
    }
    public Producer<MyExchange> createProducer() throws Exception {
      return null;
    }
    public boolean isSingleton(){
      return false;
    }
  }
;
  DefaultProducer producer=new DefaultProducer(endpoint){
    public void process(    Exchange exchange) throws Exception {
      log.info("Received: " + exchange);
    }
  }
;
  Exchange exchange=new DefaultExchange(context);
  producer.process(exchange);
}
