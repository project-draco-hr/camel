{
  component=mock(IrcComponent.class);
  configuration=mock(IrcConfiguration.class);
  connection=mock(IRCConnection.class);
  List<String> channels=new ArrayList<String>();
  Dictionary<String,String> keys=new Hashtable<String,String>();
  channels.add("chan1");
  channels.add("chan2");
  keys.put("chan1","");
  keys.put("chan2","chan2key");
  when(configuration.getChannels()).thenReturn(channels);
  when(configuration.getKey("chan1")).thenReturn("");
  when(configuration.getKey("chan2")).thenReturn("chan2key");
  when(component.getIRCConnection(configuration)).thenReturn(connection);
  endpoint=new IrcEndpoint("foo",component,configuration);
}
