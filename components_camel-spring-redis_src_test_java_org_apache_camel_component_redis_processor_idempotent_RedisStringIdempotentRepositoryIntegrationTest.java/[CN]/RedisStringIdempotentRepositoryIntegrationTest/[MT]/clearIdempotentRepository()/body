{
  for (int i=0; i < 10000; i++) {
    redisTemplate.opsForValue().set("key4711","value4711");
  }
  assertEquals("value4711",redisTemplate.opsForValue().get("key4711"));
  producer.sendBody("abc");
  producer.sendBody("bcd");
  redisTemplate.opsForValue().set("redis1","1");
  redisTemplate.opsForValue().set("different:xyz","2");
  assertTrue(idempotentRepository.contains("abc"));
  assertTrue(idempotentRepository.contains("bcd"));
  idempotentRepository.clear();
  assertFalse(idempotentRepository.contains("abc"));
  assertFalse(idempotentRepository.contains("bcd"));
  assertFalse(idempotentRepository.contains("redis1"));
  assertFalse(idempotentRepository.contains("different:xyz"));
  assertEquals("1",redisTemplate.opsForValue().get("redis1"));
  assertEquals("2",redisTemplate.opsForValue().get("different:xyz"));
}
