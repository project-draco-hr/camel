{
  String targetCamelEndpointUri=(String)outMessage.get(CamelConstants.CAMEL_TARGET_ENDPOINT_URI);
  getCamelTemplate().send(targetCamelEndpointUri,new Processor(){
    public void process(    org.apache.camel.Exchange ex) throws IOException {
      CachedOutputStream outputStream=(CachedOutputStream)outMessage.getContent(OutputStream.class);
      ex.getIn().setHeaders(outMessage);
      ex.getIn().setBody(outputStream.getInputStream());
      getLogger().log(Level.FINE,"template sending request: ",ex.getIn());
    }
  }
);
}
