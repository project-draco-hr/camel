{
  MultivaluedMap<String,String> answer=new MetadataMap<String,String>();
  for (  Map.Entry<String,Object> entry : camelHeaders.entrySet()) {
    if (headerFilterStrategy.applyFilterToCamelHeaders(entry.getKey(),entry.getValue(),camelExchange)) {
      LOG.trace("Drop Camel header: {}={}",entry.getKey(),entry.getValue());
      continue;
    }
    String mappedHeaderName=camelToCxfHeaderMap.get(entry.getKey());
    if (mappedHeaderName == null) {
      mappedHeaderName=entry.getKey();
    }
    LOG.trace("Propagate Camel header: {}={} as {}",new Object[]{entry.getKey(),entry.getValue(),mappedHeaderName});
    answer.putSingle(mappedHeaderName,entry.getValue().toString());
  }
  return answer;
}
