{
  if (context == null && camelContextId != null) {
    context=CamelContextResolverHelper.getCamelContextWithId(applicationContext,camelContextId);
  }
  notNull(context,"context");
  notNull(uri,"uri");
  Endpoint endpoint=context.getEndpoint(uri);
  if (endpoint == null) {
    throw new NoSuchEndpointException(uri);
  }
  return endpoint;
}
