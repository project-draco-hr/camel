{
  HttpEndpoint endpoint=resolveEndpoint(request,response);
  if (endpoint == null) {
    throw new ServletException("No endpoint found for request: " + request.getRequestURI());
  }
  HttpExchange exchange=endpoint.createExchange(request,response);
  endpoint.onExchange(exchange);
  endpoint.getBinding().writeResponse(exchange);
}
