{
  Exchange exchange=this.getEndpoint().createExchange();
  exchange.getIn().setHeader(WebsocketConstants.CONNECTION_KEY,connectionKey);
  exchange.getIn().setBody(message);
  try {
    this.getProcessor().process(exchange);
  }
 catch (  Exception e) {
    if (exchange.getException() != null) {
      this.getExceptionHandler().handleException(String.format("Error processing exchange for websocket consumer on message '%s'.",message),exchange,exchange.getException());
    }
  }
}
