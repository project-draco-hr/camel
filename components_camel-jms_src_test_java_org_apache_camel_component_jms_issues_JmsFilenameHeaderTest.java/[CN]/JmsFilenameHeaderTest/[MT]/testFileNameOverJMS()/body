{
  String filename="jmsfilenameheadertest.txt";
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedBodiesReceived("Hello World");
  template.sendBodyAndHeader("direct:in","Hello World",Exchange.FILE_NAME,filename);
  mock.assertIsSatisfied();
  File file=new File("target/" + filename);
  file=file.getAbsoluteFile();
  assertTrue("The file should have been produced with filename: " + filename,file.exists());
}
