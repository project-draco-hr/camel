{
  String protocol=uri.getScheme();
  if (!protocol.equalsIgnoreCase("lpr")) {
    throw new IllegalArgumentException("Unrecognized Print protocol: " + protocol + " for uri: "+ uri);
  }
  setUri(uri);
  setHostname(uri.getHost());
  setPort(uri.getPort());
  setPrintername(uri.getPath());
  Map printSettings=URISupport.parseParameters(uri);
  setFlavor((String)printSettings.get("flavor"));
  setMimeType((String)printSettings.get("mimeType"));
  setDocFlavor(assignDocFlavor(flavor,mimeType));
  if (printSettings.containsKey("copies")) {
    setCopies(Integer.valueOf((String)printSettings.get("copies")));
  }
  setMediaSize((String)printSettings.get("mediaSize"));
  setSides((String)printSettings.get("sides"));
  setMediaSizeName(assignMediaSize(mediaSize));
  setInternalSides(assignSides(sides));
  if (printSettings.containsKey("sendToPrinter")) {
    if (!(Boolean.valueOf((String)printSettings.get("sendToPrinter")))) {
      setSendToPrinter(false);
    }
  }
}
