{
  File outputDir=new File(pdf).getParentFile();
  if (!outputDir.exists()) {
    outputDir.mkdirs();
  }
  try {
    String content=downloadContent();
    if (content == null) {
      storeDummyFile();
      return;
    }
    storeHTMLFile(content);
    if (convert() == 0) {
      File pdfFile=new File(getPDFFileName());
      projectHelper.attachArtifact(project,type,classifier,pdfFile);
    }
  }
 catch (  MojoExecutionException e) {
    throw e;
  }
catch (  Exception e) {
    throw new MojoExecutionException("Download of '" + page + "' failed: "+ e.getMessage(),e);
  }
}
