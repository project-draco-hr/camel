{
  getLog().info("Converting to PDF with prince...");
  Commandline cl=new Commandline("prince");
  Argument arg;
  if (princeArgs != null) {
    for (    String princeArg : princeArgs) {
      arg=new Argument();
      arg.setValue(princeArg);
      cl.addArg(arg);
    }
  }
  arg=new Argument();
  arg.setValue(getHTMLFileName());
  cl.addArg(arg);
  arg=new Argument();
  arg.setValue(getPDFFileName());
  cl.addArg(arg);
  StreamConsumer out=new StreamConsumer(){
    public void consumeLine(    String line){
      getLog().info("[prince] " + line);
    }
  }
;
  getLog().info("About to execute PrinceXml (see www.princexml.com)");
  String[] lines=cl.getCommandline();
  StringBuffer buffer=new StringBuffer();
  for (  String line : lines) {
    buffer.append(" ");
    buffer.append(line);
  }
  getLog().info(buffer);
  int rc=CommandLineUtils.executeCommandLine(cl,out,out);
  if (rc == 0) {
    getLog().info("Stored: " + getPDFFileName());
  }
 else {
    if (errorOnConverionFailure) {
      throw new MojoExecutionException("PDF Conversion failed rc=" + rc);
    }
 else {
      getLog().error("PDF Conversion failed due to return code: " + rc);
    }
  }
  return rc;
}
