{
  ReflectionUtils.doWithFields(bean.getClass(),new ReflectionUtils.FieldCallback(){
    public void doWith(    Field field) throws IllegalArgumentException, IllegalAccessException {
      EndpointInject annotation=field.getAnnotation(EndpointInject.class);
      if (annotation != null) {
        injectField(field,annotation.uri(),annotation.name(),bean);
      }
      Produce produce=field.getAnnotation(Produce.class);
      if (produce != null) {
        injectField(field,produce.uri(),produce.ref(),bean);
      }
    }
  }
);
}
