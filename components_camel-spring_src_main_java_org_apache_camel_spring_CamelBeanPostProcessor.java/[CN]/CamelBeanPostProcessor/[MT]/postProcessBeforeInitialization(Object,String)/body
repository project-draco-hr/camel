{
  if (LOG.isTraceEnabled()) {
    LOG.trace("Camel bean processing before initialization for bean: " + beanName);
  }
  if (!canPostProcessBean(bean,beanName)) {
    return bean;
  }
  if (camelContext == null && applicationContext.containsBean(camelId)) {
    setCamelContext((CamelContext)applicationContext.getBean(camelId));
  }
  injectFields(bean);
  injectMethods(bean);
  if (bean instanceof CamelContextAware) {
    CamelContextAware contextAware=(CamelContextAware)bean;
    if (camelContext == null) {
      LOG.warn("No CamelContext defined yet so cannot inject into: " + bean);
    }
 else {
      contextAware.setCamelContext(camelContext);
    }
  }
  return bean;
}
