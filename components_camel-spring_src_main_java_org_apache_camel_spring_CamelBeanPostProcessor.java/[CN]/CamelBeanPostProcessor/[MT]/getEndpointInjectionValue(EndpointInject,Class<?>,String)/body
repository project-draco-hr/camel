{
  Endpoint endpoint=getEndpointInjection(annotation.uri(),annotation.name(),injectionPointName);
  if (endpoint != null) {
    if (type.isInstance(endpoint)) {
      return endpoint;
    }
 else     if (type.isAssignableFrom(Producer.class)) {
      return createInjectionProducer(endpoint);
    }
 else     if (type.isAssignableFrom(CamelTemplate.class)) {
      return new CamelTemplate(getCamelContext(),endpoint);
    }
 else     if (type.isAssignableFrom(PollingConsumer.class)) {
      return createInjectionPollingConsumer(endpoint);
    }
 else {
      throw new IllegalArgumentException("Invalid type: " + type.getName() + " which cannot be injected via @EndpointInject for "+ endpoint);
    }
  }
  return null;
}
