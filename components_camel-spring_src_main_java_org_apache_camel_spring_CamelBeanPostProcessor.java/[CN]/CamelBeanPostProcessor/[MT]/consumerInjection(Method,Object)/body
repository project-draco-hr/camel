{
  MessageDriven annotation=method.getAnnotation(MessageDriven.class);
  if (annotation != null) {
    log.info("Creating a consumer for: " + annotation);
    Endpoint endpoint=getEndpointInjection(annotation.uri(),annotation.name());
    if (endpoint != null) {
      try {
        Processor processor=createConsumerProcessor(bean,method,endpoint);
        log.info("Created processor: " + processor);
        Consumer consumer=endpoint.createConsumer(processor);
        consumer.start();
        addConsumer(consumer);
      }
 catch (      Exception e) {
        log.warn(e);
        throw new RuntimeCamelException(e);
      }
    }
  }
}
