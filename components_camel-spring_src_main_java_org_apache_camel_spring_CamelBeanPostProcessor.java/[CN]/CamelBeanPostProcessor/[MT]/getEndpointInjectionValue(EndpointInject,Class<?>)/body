{
  Endpoint endpoint=getEndpointInjection(annotation.uri(),annotation.name());
  if (endpoint != null) {
    if (type.isInstance(endpoint)) {
      return endpoint;
    }
 else     if (type.isAssignableFrom(Producer.class)) {
      try {
        return endpoint.createProducer();
      }
 catch (      Exception e) {
        throw new RuntimeCamelException(e);
      }
    }
 else     if (type.isAssignableFrom(CamelTemplate.class)) {
      return new CamelTemplate(getCamelContext(),endpoint);
    }
  }
  return null;
}
