{
  assertExpression("${headerAs(foo,String)}","abc");
  assertExpression("${headerAs(bar,int)}",123);
  assertExpression("${headerAs(bar, int)}",123);
  assertExpression("${headerAs('bar', int)}",123);
  assertExpression("${headerAs('bar','int')}",123);
  assertExpression("${headerAs('bar','Integer')}",123);
  assertExpression("${headerAs('bar',\"int\")}",123);
  assertExpression("${headerAs(bar,String)}","123");
  assertExpression("${headerAs(unknown,String)}",null);
  try {
    assertExpression("${headerAs(unknown String)}",null);
    fail("Should have thrown an exception");
  }
 catch (  ExpressionIllegalSyntaxException e) {
    assertTrue(e.getMessage().startsWith("Valid syntax: ${headerAs(key, type)} was: headerAs(unknown String)"));
  }
  try {
    assertExpression("${headerAs(fool,String).test}",null);
    fail("Should have thrown an exception");
  }
 catch (  ExpressionIllegalSyntaxException e) {
    assertTrue(e.getMessage().startsWith("Valid syntax: ${headerAs(key, type)} was: headerAs(fool,String).test"));
  }
  try {
    assertExpression("${headerAs(bar,XXX)}",123);
    fail("Should have thrown an exception");
  }
 catch (  CamelExecutionException e) {
    assertIsInstanceOf(ClassNotFoundException.class,e.getCause());
  }
}
