{
  List<RouteDefinition> routes=context.getRouteDefinitions();
  assertCollectionSize("Route",routes,1);
  RouteDefinition route=routes.get(0);
  endpointA=getMandatoryEndpoint("seda:test.a",SedaEndpoint.class);
  endpointB=getMandatoryEndpoint("seda:test.b",SedaEndpoint.class);
  endpointC=getMandatoryEndpoint("seda:test.C",SedaEndpoint.class);
  MockEndpoint results=getMockEndpoint("mock:results");
  results.expectedBodiesReceived(expectedBody);
  template.sendBody(endpointA,expectedBody);
  assertMockEndpointsSatisfied();
  context.stopRoute(route);
  FromDefinition fromType=assertOneElement(route.getInputs());
  fromType.setUri("seda:test.C");
  context.startRoute(route);
  results.reset();
  results=getMockEndpoint("mock:results");
  results.expectedBodiesReceived(expectedBody);
  template.sendBody(endpointC,expectedBody);
  assertMockEndpointsSatisfied();
}
