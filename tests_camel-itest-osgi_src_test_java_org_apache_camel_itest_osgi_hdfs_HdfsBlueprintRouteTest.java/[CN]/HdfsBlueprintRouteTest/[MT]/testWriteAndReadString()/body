{
  if (isJavaVendor("IBM")) {
    return;
  }
  if (isPlatform("windows")) {
    return;
  }
  org.apache.hadoop.conf.Configuration conf=new org.apache.hadoop.conf.Configuration();
  conf.setClass("fs.file.impl",org.apache.hadoop.fs.LocalFileSystem.class,FileSystem.class);
  conf.setClass("fs.hdfs.impl",org.apache.hadoop.hdfs.DistributedFileSystem.class,FileSystem.class);
  FileSystem.getFileSystemClass("file",conf);
  getInstalledBundle("CamelBlueprintHdfsTestBundle").start();
  CamelContext ctx=getOsgiService(CamelContext.class,"(camel.context.symbolicname=CamelBlueprintHdfsTestBundle)",20000);
  ProducerTemplate template=ctx.createProducerTemplate();
  template.sendBody("direct:start","CIAO");
  MockEndpoint resultEndpoint=ctx.getEndpoint("mock:result",MockEndpoint.class);
  resultEndpoint.expectedMessageCount(1);
  resultEndpoint.assertIsSatisfied();
}
