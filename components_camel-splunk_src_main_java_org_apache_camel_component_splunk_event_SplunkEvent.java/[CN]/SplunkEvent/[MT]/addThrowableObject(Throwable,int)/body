{
  addPair(THROWABLE_CLASS,throwable.getClass().getCanonicalName());
  addPair(THROWABLE_MESSAGE,throwable.getMessage());
  StackTraceElement[] elements=throwable.getStackTrace();
  StringBuilder sb=new StringBuilder();
  int depth=0;
  for (  StackTraceElement element : elements) {
    depth++;
    if (stackTraceDepth == -1 || stackTraceDepth >= depth) {
      sb.append(element.toString()).append(",");
    }
 else {
      break;
    }
  }
  addPair(THROWABLE_STACKTRACE_ELEMENTS,sb.toString());
}
