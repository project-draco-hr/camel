{
  if (consumerProperties != null) {
    Map<String,Object> copy=new HashMap<String,Object>(consumerProperties);
    EndpointHelper.setReferenceProperties(getCamelContext(),consumer,copy);
    EndpointHelper.setProperties(getCamelContext(),consumer,copy);
    if (!this.isLenientProperties() && copy.size() > 0) {
      throw new ResolveEndpointFailedException(this.getEndpointUri(),"There are " + copy.size() + " parameters that couldn't be set on the endpoint consumer."+ " Check the uri if the parameters are spelt correctly and that they are properties of the endpoint."+ " Unknown consumer parameters=["+ copy+ "]");
    }
  }
}
