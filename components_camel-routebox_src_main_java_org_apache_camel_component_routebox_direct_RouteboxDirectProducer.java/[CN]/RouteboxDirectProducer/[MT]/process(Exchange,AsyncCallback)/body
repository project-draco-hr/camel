{
  boolean flag=true;
  if ((((RouteboxDirectEndpoint)getRouteboxEndpoint()).getConsumer() == null) && ((getRouteboxEndpoint()).getConfig().isSendToConsumer())) {
    exchange.setException(new CamelExchangeException("No consumers available on endpoint: " + getRouteboxEndpoint(),exchange));
    callback.done(true);
    flag=true;
  }
 else {
    try {
      LOG.debug("Dispatching to Inner Route {}",exchange);
      RouteboxDispatcher dispatcher=new RouteboxDispatcher(producer);
      exchange=dispatcher.dispatchAsync(getRouteboxEndpoint(),exchange);
      if (getRouteboxEndpoint().getConfig().isSendToConsumer()) {
        AsyncProcessor processor=((RouteboxDirectEndpoint)getRouteboxEndpoint()).getConsumer().getAsyncProcessor();
        flag=processor.process(exchange,callback);
      }
    }
 catch (    Exception e) {
      getExceptionHandler().handleException("Error processing exchange",exchange,e);
    }
  }
  return flag;
}
