{
  MailEndpoint endpoint=resolveMandatoryEndpoint("smtp://james@myhost:30/subject?password=secret" + "&from=me@camelriders.org&deleteProcessedMessages=false&defaultEncoding=iso-8859-1&folderName=riders&contentType=text/html");
  MailConfiguration config=endpoint.getConfiguration();
  assertEquals("getProtocol()","smtp",config.getProtocol());
  assertEquals("getHost()","myhost",config.getHost());
  assertEquals("getPort()",30,config.getPort());
  assertEquals("getUsername()","james",config.getUsername());
  assertEquals("getDestination()","james@myhost",config.getDestination());
  assertEquals("folder","riders",config.getFolderName());
  assertEquals("encoding","iso-8859-1",config.getDefaultEncoding());
  assertEquals("from","me@camelriders.org",config.getFrom());
  assertEquals("password","secret",config.getPassword());
  assertEquals(false,config.isDeleteProcessedMessages());
  assertEquals(false,config.isIgnoreUriScheme());
  assertEquals("fetchSize",-1,config.getFetchSize());
  assertEquals("contentType","text/html",config.getContentType());
}
