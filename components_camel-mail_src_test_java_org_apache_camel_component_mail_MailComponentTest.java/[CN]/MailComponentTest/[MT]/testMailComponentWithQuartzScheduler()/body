{
  MailConfiguration config=new MailConfiguration();
  config.setUsername("james");
  config.setPassword("secret");
  MailComponent comp=new MailComponent(config);
  comp.setCamelContext(context);
  assertSame(config,comp.getConfiguration());
  assertNull(comp.getContentTypeResolver());
  MailEndpoint endpoint=(MailEndpoint)comp.createEndpoint("imap://myhost?scheduler=quartz2&scheduler.cron=0%2F5+*+0-23+%3F+*+*+*&scheduler.timeZone=Europe%2FBerlin");
  assertEquals("james",endpoint.getConfiguration().getUsername());
  assertEquals("secret",endpoint.getConfiguration().getPassword());
  assertEquals("myhost",endpoint.getConfiguration().getHost());
  assertNotNull("Scheduler not set",endpoint.getScheduler());
  assertTrue("Wrong scheduler class",endpoint.getScheduler() instanceof QuartzScheduledPollConsumerScheduler);
}
