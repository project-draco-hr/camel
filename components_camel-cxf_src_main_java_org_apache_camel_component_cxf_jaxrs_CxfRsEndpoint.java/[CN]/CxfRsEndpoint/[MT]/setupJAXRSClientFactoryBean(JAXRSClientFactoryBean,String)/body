{
  if (address != null) {
    cfb.setAddress(address);
  }
  if (getResourceClasses() != null && !getResourceClasses().isEmpty()) {
    cfb.setResourceClass(getResourceClasses().get(0));
    cfb.getServiceFactory().setResourceClasses(getResourceClasses());
  }
  if (!getProviders().isEmpty()) {
    cfb.setProviders(getProviders());
  }
  if (!getFeatures().isEmpty()) {
    cfb.setFeatures(getFeatures());
  }
  if (isLoggingFeatureEnabled()) {
    if (getLoggingSizeLimit() > 0) {
      cfb.getFeatures().add(new LoggingFeature(getLoggingSizeLimit()));
    }
 else {
      cfb.getFeatures().add(new LoggingFeature());
    }
  }
  if (this.isSkipFaultLogging()) {
    if (cfb.getProperties() == null) {
      cfb.setProperties(new HashMap<String,Object>());
    }
    cfb.getProperties().put(FaultListener.class.getName(),new NullFaultListener());
  }
  cfb.setThreadSafe(true);
}
