{
  while (!completed.get()) {
    try {
      if (duration > 0) {
        latch.await(duration,getTimeUnit());
      }
 else {
        latch.await();
      }
    }
 catch (    InterruptedException e) {
      LOG.debug("Caught: " + e);
    }
  }
}
