{
  String[] names=getApplicationContext().getBeanNamesForType(CamelTemplate.class);
  if (names != null && names.length > 0) {
    return (CamelTemplate)getApplicationContext().getBean(names[0],CamelTemplate.class);
  }
  for (  SpringCamelContext camelContext : camelContexts) {
    return new CamelTemplate(camelContext);
  }
  throw new IllegalArgumentException("No CamelContexts are available so cannot create a CamelTemplate!");
}
