{
  ObjectHelper.notNull(camelContext,"CamelContext");
  if (eventNotifiers != null) {
    for (    EventNotifier notifier : eventNotifiers) {
      if (notifier instanceof CamelContextAware) {
        CamelContextAware aware=(CamelContextAware)notifier;
        aware.setCamelContext(camelContext);
      }
      ServiceHelper.startService(notifier);
    }
  }
  if (managementAgent != null) {
    ServiceHelper.startService(managementAgent);
    if (managementNamingStrategy == null) {
      setManagementNamingStrategy(new DefaultManagementNamingStrategy(managementAgent.getMBeanObjectDomainName()));
    }
    if (statisticsLevel != null) {
      LOG.warn("Using @deprecated option statisticsLevel on ManagementStrategy. Configure this on ManagementAgent instead.");
      managementAgent.setStatisticsLevel(statisticsLevel);
    }
    if (onlyManageProcessorWithCustomId != null) {
      LOG.warn("Using @deprecated option onlyManageProcessorWithCustomId on ManagementStrategy. Configure this on ManagementAgent instead.");
      managementAgent.setOnlyRegisterProcessorWithCustomId(onlyManageProcessorWithCustomId);
    }
  }
  if (managementNamingStrategy instanceof CamelContextAware) {
    ((CamelContextAware)managementNamingStrategy).setCamelContext(getCamelContext());
  }
}
