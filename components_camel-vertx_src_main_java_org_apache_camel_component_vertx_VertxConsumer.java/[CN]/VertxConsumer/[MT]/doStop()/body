{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Unregistering EventBus handler on address {}",endpoint.getAddress());
  }
  try {
    if (messageConsumer != null && messageConsumer.isRegistered()) {
      messageConsumer.unregister();
      messageConsumer=null;
    }
  }
 catch (  IllegalStateException e) {
    LOG.warn("EventBus already stopped on address {}",endpoint.getAddress());
  }
  super.doStop();
}
