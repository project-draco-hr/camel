{
  InputStream is;
  if (body instanceof InputStream) {
    is=(InputStream)body;
  }
  is=exchange.getIn().getBody(InputStream.class);
  if (is == null) {
    throw new IllegalArgumentException("Can't get the inputstream for ZipDataFormat mashalling");
  }
  DeflaterOutputStream zipOutput=new DeflaterOutputStream(stream,new Deflater(compressionLevel));
  IOConverter.copy(is,zipOutput);
  zipOutput.close();
}
