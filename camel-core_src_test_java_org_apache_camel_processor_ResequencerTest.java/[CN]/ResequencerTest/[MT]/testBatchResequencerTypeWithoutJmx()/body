{
  List<Route> list=getRouteList(createRouteBuilder());
  assertEquals("Number of routes created: " + list,1,list.size());
  Route route=list.get(0);
  EventDrivenConsumerRoute consumerRoute=assertIsInstanceOf(EventDrivenConsumerRoute.class,route);
  Channel channel=unwrapChannel(consumerRoute.getProcessor());
  assertIsInstanceOf(DefaultErrorHandler.class,channel.getErrorHandler());
  assertTrue("Should have stream caching",channel.hasInterceptorStrategy(StreamCaching.class));
  assertIsInstanceOf(Resequencer.class,channel.getNextProcessor());
}
