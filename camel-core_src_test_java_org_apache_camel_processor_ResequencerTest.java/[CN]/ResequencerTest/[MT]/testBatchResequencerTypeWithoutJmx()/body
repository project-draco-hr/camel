{
  List<Route> list=getRouteList(createRouteBuilder());
  assertEquals("Number of routes created: " + list,1,list.size());
  Route route=list.get(0);
  EventDrivenConsumerRoute consumerRoute=assertIsInstanceOf(EventDrivenConsumerRoute.class,route);
  Processor processor=unwrap(consumerRoute.getProcessor());
  DefaultErrorHandler defaultErrorHandler=assertIsInstanceOf(DefaultErrorHandler.class,processor);
  Processor outputProcessor=defaultErrorHandler.getOutput();
  InstrumentationProcessor interceptor=assertIsInstanceOf(InstrumentationProcessor.class,outputProcessor);
  outputProcessor=interceptor.getProcessor();
  assertIsInstanceOf(Resequencer.class,outputProcessor);
}
