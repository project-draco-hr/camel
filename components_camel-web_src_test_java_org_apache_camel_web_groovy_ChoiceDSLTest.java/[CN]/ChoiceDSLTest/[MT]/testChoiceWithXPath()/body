{
  String dsl="from(\"direct:start\").choice()" + ".when().xpath(\"\\$foo = 'bar'\").to(\"mock:x\")" + ".when().xpath(\"\\$foo = 'cheese'\").to(\"mock:y\")"+ ".otherwise().to(\"mock:z\").end()"+ ".to(\"mock:end\")";
  String expected="from(\"direct:start\").choice()" + ".when().xpath(\"$foo = 'bar'\").to(\"mock:x\")" + ".when().xpath(\"$foo = 'cheese'\").to(\"mock:y\")"+ ".otherwise().to(\"mock:z\").end()"+ ".to(\"mock:end\")";
  assertEquals(expected,render(dsl));
}
