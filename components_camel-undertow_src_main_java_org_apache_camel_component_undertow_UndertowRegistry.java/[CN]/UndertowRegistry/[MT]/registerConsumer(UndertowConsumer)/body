{
  UndertowEndpoint endpoint=consumer.getEndpoint();
  URI httpUri=endpoint.getHttpURI();
  if (host != null && !host.equals(httpUri.getHost())) {
    throw new IllegalArgumentException("Cannot register UndertowConsumer on different host and same port: {}" + host + " "+ httpUri.getHost());
  }
 else {
    host=httpUri.getHost();
  }
  LOG.info("Adding consumer to consumerRegistry: {}",httpUri);
  consumersRegistry.put(endpoint.getEndpointUri(),consumer);
  if (sslContext != null && endpoint.getSslContext() != null) {
    throw new IllegalArgumentException("Cannot register UndertowConsumer with different SSL config");
  }
}
