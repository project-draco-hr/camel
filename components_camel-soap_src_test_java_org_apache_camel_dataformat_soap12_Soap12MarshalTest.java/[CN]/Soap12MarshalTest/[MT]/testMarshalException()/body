{
  resultEndpoint.expectedMessageCount(1);
  resultEndpoint.message(0).body(String.class).contains("<ns2:Envelope xmlns:ns2=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:ns3=\"http://customerservice.example.com/\">");
  resultEndpoint.message(0).body(String.class).contains("<ns2:Fault>");
  resultEndpoint.message(0).body(String.class).contains("<ns2:Value>ns2:Receiver</ns2:Value>");
  resultEndpoint.message(0).body(String.class).contains("<ns2:Text xml:lang=\"en\">No customer found</ns2:Text>");
  resultEndpoint.message(0).body(String.class).contains("<customerId>None</customerId>");
  resultEndpoint.message(0).body(String.class).contains("</ns2:Fault>");
  NoSuchCustomer noSuchCustomer=new NoSuchCustomer();
  noSuchCustomer.setCustomerId("None");
  NoSuchCustomerException exception=new NoSuchCustomerException("No customer found",noSuchCustomer);
  producer.sendBodyAndHeader(null,Exchange.EXCEPTION_CAUGHT,exception);
  resultEndpoint.assertIsSatisfied();
}
