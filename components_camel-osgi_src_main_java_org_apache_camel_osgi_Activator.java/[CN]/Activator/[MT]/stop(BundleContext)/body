{
  if (LOG.isDebugEnabled()) {
    LOG.debug("removing the components of existing bundles");
  }
  for (  Bundle bundle : context.getBundles()) {
    if (bundle.getState() == Bundle.RESOLVED || bundle.getState() == Bundle.STARTING || bundle.getState() == Bundle.ACTIVE || bundle.getState() == Bundle.STOPPING) {
      mayBeRemoveComponentAndLanguageFor(bundle);
      mayBeRemoveTypeConverterFor(bundle);
    }
  }
  if (LOG.isDebugEnabled()) {
    LOG.debug("stopped");
  }
}
