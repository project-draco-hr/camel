{
  this.transformation=transformation;
  int d=transformation.indexOf('/');
  String a;
  if (d > 0) {
    a=transformation.substring(0,d);
  }
 else {
    a=transformation;
  }
  try {
    KeyGenerator keygen=KeyGenerator.getInstance(a);
    keygen.init(new SecureRandom());
    Key key=keygen.generateKey();
    enccipher=Cipher.getInstance(transformation);
    deccipher=Cipher.getInstance(transformation);
    enccipher.init(Cipher.ENCRYPT_MODE,key);
    final byte[] ivp=enccipher.getIV();
    deccipher.init(Cipher.DECRYPT_MODE,key,ivp == null ? null : new IvParameterSpec(ivp));
  }
 catch (  GeneralSecurityException e) {
    enccipher=null;
    deccipher=null;
    throw e;
  }
}
