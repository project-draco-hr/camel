{
  Bus bus=(Bus)ctx.getBean("cxfBus");
  assertNotNull("The bus should not be null",bus);
  if (Version.getCurrentVersion().startsWith("2.3")) {
    CamelTransportFactory factory=bus.getExtension(CamelTransportFactory.class);
    assertNull("You should not find the factory here",factory);
  }
  bus=(Bus)ctx.getBean("myBus");
  assertNotNull("The bus should not be null",bus);
  CamelTransportFactory factory=bus.getExtension(CamelTransportFactory.class);
  assertNotNull("You should find the factory here",factory);
  SoapBindingFactory soapBindingFactory=bus.getExtension(SoapBindingFactory.class);
  assertNotNull("You should find the factory here",soapBindingFactory);
}
