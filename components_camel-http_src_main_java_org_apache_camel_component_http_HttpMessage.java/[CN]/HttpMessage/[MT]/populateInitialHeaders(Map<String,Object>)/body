{
  Enumeration names=request.getHeaderNames();
  while (names.hasMoreElements()) {
    String name=(String)names.nextElement();
    Object value=request.getHeader(name);
    map.put(name,value);
  }
  if (request.getMethod().equalsIgnoreCase("GET")) {
    names=request.getParameterNames();
    while (names.hasMoreElements()) {
      String name=(String)names.nextElement();
      Object value=request.getParameter(name);
      map.put(name,value);
    }
  }
  map.put(HttpMethods.HTTP_METHOD,request.getMethod());
  map.put(HttpProducer.QUERY,request.getQueryString());
  map.put(HttpProducer.PATH,request.getPathInfo());
  map.put(HttpProducer.CONTENT_TYPE,request.getContentType());
  map.put(HttpProducer.CHARACTER_ENCODING,request.getCharacterEncoding());
}
