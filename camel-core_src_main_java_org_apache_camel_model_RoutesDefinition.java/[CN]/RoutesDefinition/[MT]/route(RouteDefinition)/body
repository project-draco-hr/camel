{
  route.setCamelContext(getCamelContext());
  List<InterceptDefinition> intercepts=getIntercepts();
  for (  InterceptDefinition intercept : intercepts) {
    if (intercept instanceof InterceptEndpointDefinition) {
      InterceptEndpointDefinition ied=(InterceptEndpointDefinition)intercept;
      ied.proxyEndpoint(getCamelContext());
      route.addOutput(ied);
    }
 else {
      InterceptDefinition proxy=intercept.createProxy();
      route.addOutput(proxy);
      route.pushBlock(proxy.getProceed());
    }
  }
  route.getOutputs().addAll(getExceptions());
  getRoutes().add(route);
  return route;
}
