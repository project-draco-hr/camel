{
  final int prefixLength=propertyPrefix.length();
  int nProperties=0;
  for (  Map.Entry<String,Object> entry : exchange.getIn().getHeaders().entrySet()) {
    if (entry.getKey().startsWith(propertyPrefix)) {
      properties.put(entry.getKey().substring(prefixLength),entry.getValue());
      nProperties++;
    }
  }
  LOG.debug("Found {} properties in exchange",nProperties);
  return properties;
}
