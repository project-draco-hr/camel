{
  if (schema == null) {
    if (instanceClassName != null) {
      return loadDefaultSchema(instanceClassName,exchange.getContext());
    }
    if (graph != null && graph instanceof GenericContainer) {
      return loadDefaultSchema(graph.getClass().getName(),exchange.getContext());
    }
 else {
      throw new CamelException("There is not schema for avro marshaling / unmarshaling");
    }
  }
  return schema;
}
