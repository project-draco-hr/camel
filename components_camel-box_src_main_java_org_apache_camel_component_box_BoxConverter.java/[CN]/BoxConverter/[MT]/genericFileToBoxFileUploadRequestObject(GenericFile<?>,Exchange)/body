{
  String folderId="0";
  if (exchange != null && exchange.getIn() != null) {
    folderId=exchange.getIn().getHeader(BoxConstants.PROPERTY_PREFIX + "folderId","0",String.class);
  }
  if (file.getFile() instanceof File) {
    File f=(File)file.getFile();
    return BoxFileUploadRequestObject.uploadFileRequestObject(folderId,file.getFileName(),f);
  }
  if (exchange != null) {
    file.getBinding().loadContent(exchange,file);
    InputStream is=exchange.getContext().getTypeConverter().convertTo(InputStream.class,exchange,file.getBody());
    return BoxFileUploadRequestObject.uploadFileRequestObject(folderId,file.getFileName(),is);
  }
  return null;
}
