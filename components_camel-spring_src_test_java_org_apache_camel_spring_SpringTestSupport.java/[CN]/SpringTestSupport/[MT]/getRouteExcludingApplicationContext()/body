{
  GenericApplicationContext routeExcludingContext=new GenericApplicationContext();
  routeExcludingContext.registerBeanDefinition("excludingResolver",new RootBeanDefinition(ExcludingPackageScanClassResolver.class));
  routeExcludingContext.refresh();
  ExcludingPackageScanClassResolver excludingResolver=(ExcludingPackageScanClassResolver)routeExcludingContext.getBean("excludingResolver");
  List<Class<?>> excluded=CastUtils.cast(Arrays.asList(excludeRoutes()));
  excludingResolver.setExcludedClasses(new HashSet<Class<?>>(excluded));
  return routeExcludingContext;
}
