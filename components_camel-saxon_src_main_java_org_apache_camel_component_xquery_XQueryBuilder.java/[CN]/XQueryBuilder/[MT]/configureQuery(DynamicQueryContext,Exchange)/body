{
  addParameters(dynamicQueryContext,exchange.getProperties());
  addParameters(dynamicQueryContext,exchange.getIn().getHeaders());
  addParameters(dynamicQueryContext,getParameters());
  dynamicQueryContext.setParameter("exchange",exchange);
  Message out=exchange.getOut(false);
  if (out != null && exchange.getPattern().isOutCapable()) {
    dynamicQueryContext.setParameter("out",out);
  }
}
