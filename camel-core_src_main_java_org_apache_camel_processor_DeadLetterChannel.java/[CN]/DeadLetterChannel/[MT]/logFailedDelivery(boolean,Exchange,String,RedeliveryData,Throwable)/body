{
  LoggingLevel newLogLevel;
  if (shouldRedeliver) {
    newLogLevel=data.currentRedeliveryPolicy.getRetryAttemptedLogLevel();
  }
 else {
    newLogLevel=data.currentRedeliveryPolicy.getRetriesExhaustedLogLevel();
  }
  if (e != null) {
    logger.log(message,e,newLogLevel);
  }
 else {
    logger.log(message,newLogLevel);
  }
}
