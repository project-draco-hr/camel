{
  if (handledPredicate == null || !handledPredicate.matches(exchange)) {
    exchange.setException(exchange.getProperty(FAILURE_HANDLED_PROPERTY,Throwable.class));
  }
 else {
    exchange.setProperty(Exchange.EXCEPTION_HANDLED_PROPERTY,Boolean.TRUE);
  }
}
