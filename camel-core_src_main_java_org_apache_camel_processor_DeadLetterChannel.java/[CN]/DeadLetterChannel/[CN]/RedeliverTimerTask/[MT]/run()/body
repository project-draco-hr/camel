{
  outputAsync.process(exchange,new AsyncCallback(){
    public void done(    boolean sync){
      if (sync) {
        return;
      }
      data.sync=false;
      if (exchange.getException() != null && !ExchangeHelper.isFailureHandled(exchange)) {
        asyncProcess(exchange,callback,data);
      }
 else {
        callback.done(sync);
      }
    }
  }
);
}
