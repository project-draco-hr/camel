{
  Object value=expression.evaluate(exchange);
  if (expected != null) {
    value=ExchangeHelper.convertToType(exchange,expected.getClass(),value);
  }
  log.debug("Evaluated expression: " + expression + " on exchange: "+ exchange+ " result: "+ value);
  assertEquals("Expression: " + expression + " on Exchange: "+ exchange,expected,value);
  return value;
}
