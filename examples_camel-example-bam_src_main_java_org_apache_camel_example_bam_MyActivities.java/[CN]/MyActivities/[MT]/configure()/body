{
  ActivityBuilder purchaseOrder=activity("file:src/data/purchaseOrders?noop=true").correlate(xpath("/purchaseOrder/@id"));
  ActivityBuilder invoice=activity("file:src/data/invoices?noop=true").correlate(xpath("/invoice/@purchaseOrderId"));
  invoice.starts().after(purchaseOrder.completes()).expectWithin(seconds(1)).errorIfOver(seconds(2)).to("seda:failures");
  from("seda:failures").process(new Processor(){
    public void process(    Exchange exchange) throws Exception {
      log.info("Failed process!: " + exchange + " with body: "+ exchange.getIn().getBody());
    }
  }
);
}
