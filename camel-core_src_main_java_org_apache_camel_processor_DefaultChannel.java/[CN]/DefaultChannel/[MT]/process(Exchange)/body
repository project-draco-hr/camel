{
  if (exchange.getUnitOfWork() != null) {
    exchange.getUnitOfWork().pushRouteContext(routeContext);
  }
  Processor processor=getOutput();
  try {
    if (processor != null && continueProcessing(exchange)) {
      processor.process(exchange);
    }
  }
  finally {
    if (exchange.getUnitOfWork() != null) {
      exchange.getUnitOfWork().popRouteContext();
    }
  }
}
