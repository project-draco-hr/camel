{
  List<ProcessorDefinition> types=route.getOutputs();
  PolicyDefinition policy=null;
  TransactedDefinition transacted=null;
  for (  ProcessorDefinition<?> type : types) {
    if (type instanceof PolicyDefinition) {
      policy=(PolicyDefinition)type;
    }
 else     if (type instanceof TransactedDefinition) {
      transacted=(TransactedDefinition)type;
    }
 else     if (policy != null) {
      policy.addOutput(type);
    }
 else     if (transacted != null) {
      transacted.addOutput(type);
    }
  }
  if (policy != null) {
    route.clearOutput();
    route.addOutput(policy);
  }
 else   if (transacted != null) {
    route.clearOutput();
    route.addOutput(transacted);
  }
}
