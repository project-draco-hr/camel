{
  URL request=this.getClass().getResource("SoapRequest.xml");
  File requestFile=new File(request.toURI());
  FileInputStream inputStream=new FileInputStream(requestFile);
  Object result=template.requestBody("direct:consumer",inputStream);
  assertFalse("The result should not be changed",inputStream.equals(result));
  assertTrue("result should be a inputstream",result instanceof InputStream);
  CachedOutputStream bos=new CachedOutputStream();
  IOUtils.copy((InputStream)result,bos);
  bos.flush();
  ((InputStream)result).close();
  assertEquals("We should find the soap body string here",SOAP_STRING,bos.getOut().toString());
}
