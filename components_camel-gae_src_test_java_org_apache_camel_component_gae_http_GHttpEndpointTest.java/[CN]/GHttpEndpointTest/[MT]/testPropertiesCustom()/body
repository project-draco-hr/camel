{
  StringBuffer buffer=new StringBuffer("ghttp://somewhere.com/path").append("?").append("a=b").append(AMP).append("bridgeEndpoint=false").append(AMP).append("urlFetchServiceRef=#mockUrlFetchService").append(AMP).append("outboundBindingRef=#customBinding").append(AMP).append("throwExceptionOnFailure=false");
  GHttpEndpoint endpoint=createEndpoint(buffer.toString());
  assertFalse(endpoint.getOutboundBinding().getClass().equals(GHttpBinding.class));
  assertTrue(endpoint.getOutboundBinding() instanceof GHttpBinding);
  assertTrue(endpoint.getUrlFetchService() instanceof MockUrlFetchService);
  assertEquals("ghttp://somewhere.com/path?a=b",endpoint.getEndpointUri());
}
