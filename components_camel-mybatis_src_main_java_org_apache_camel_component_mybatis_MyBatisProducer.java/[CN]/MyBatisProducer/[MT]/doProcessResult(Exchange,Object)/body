{
  if (endpoint.getStatementType() == StatementType.SelectList || endpoint.getStatementType() == StatementType.SelectOne) {
    Message answer=exchange.getIn();
    if (ExchangeHelper.isOutCapable(exchange)) {
      answer=exchange.getOut();
      answer.getHeaders().putAll(exchange.getIn().getHeaders());
    }
    answer.setBody(result);
    answer.setHeader(MyBatisConstants.MYBATIS_RESULT,result);
    answer.setHeader(MyBatisConstants.MYBATIS_STATEMENT_NAME,statement);
  }
 else {
    Message msg=exchange.getIn();
    msg.setHeader(MyBatisConstants.MYBATIS_RESULT,result);
    msg.setHeader(MyBatisConstants.MYBATIS_STATEMENT_NAME,statement);
  }
}
