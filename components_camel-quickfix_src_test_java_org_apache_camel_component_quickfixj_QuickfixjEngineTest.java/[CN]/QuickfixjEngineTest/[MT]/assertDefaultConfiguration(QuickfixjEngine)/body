{
  assertThat(quickfixjEngine.getMessageStoreFactory(),instanceOf(MemoryStoreFactory.class));
  assertThat(quickfixjEngine.getLogFactory(),instanceOf(ScreenLogFactory.class));
  assertThat(quickfixjEngine.getMessageFactory(),instanceOf(DefaultMessageFactory.class));
  if (!isJava17()) {
    MBeanServer mbeanServer=ManagementFactory.getPlatformMBeanServer();
    Set<ObjectName> names=mbeanServer.queryNames(new ObjectName("org.quickfixj:type=Connector,role=Acceptor,*"),null);
    assertTrue("QFJ mbean should not have been registered",names.isEmpty());
  }
}
