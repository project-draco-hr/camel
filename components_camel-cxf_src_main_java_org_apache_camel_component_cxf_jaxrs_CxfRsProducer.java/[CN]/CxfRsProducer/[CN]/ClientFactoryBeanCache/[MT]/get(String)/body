{
  JAXRSClientFactoryBean retval=null;
synchronized (cache) {
    SoftReference<JAXRSClientFactoryBean> ref=cache.get(address);
    if (ref != null) {
      retval=ref.get();
    }
    if (retval == null) {
      retval=((CxfRsEndpoint)getEndpoint()).createJAXRSClientFactoryBean(address);
      cache.put(address,new SoftReference<JAXRSClientFactoryBean>(retval));
      if (LOG.isTraceEnabled()) {
        LOG.trace("Created client factory bean and add to cache for address '" + address + "'");
      }
    }
 else {
      if (LOG.isTraceEnabled()) {
        LOG.trace("Retrieved client factory bean from cache for address '" + address + "'");
      }
    }
  }
  return retval;
}
