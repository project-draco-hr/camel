{
  Endpoint endpoint;
switch (type) {
case COUNTER:
    endpoint=new CounterEndpoint(registry,metricsName);
  break;
case METER:
endpoint=new MeterEndpoint(registry,metricsName);
break;
default :
throw new RuntimeCamelException("Metrics type \"" + type.toString() + "\" not supported");
}
return endpoint;
}
