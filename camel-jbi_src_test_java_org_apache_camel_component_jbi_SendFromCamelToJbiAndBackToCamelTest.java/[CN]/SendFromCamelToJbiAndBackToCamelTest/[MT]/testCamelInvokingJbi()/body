{
  senderComponent.sendMessages(1);
  QueueEndpoint receiverEndpoint=(QueueEndpoint)camelContext.resolveEndpoint("queue:receiver");
  BlockingQueue<Exchange> queue=receiverEndpoint.getQueue();
  Exchange exchange=queue.poll(5,TimeUnit.SECONDS);
  assertNotNull("Camel Receiver queue should have received an exchange by now",exchange);
  log.debug("Receiver got exchange: " + exchange + " with body: "+ exchange.getIn().getBody());
}
