{
  return new RouteBuilder(){
    public void configure() throws Exception {
      from("bean:service1?method=status?delay=5000&exchangePattern=InOnly").to("activemq:topic:registry.heartbeats");
      from("bean:service2?method=status?delay=5000&exchangePattern=InOnly").to("activemq:topic:registry.heartbeats");
      from("bean:service3?method=status?delay=5000&exchangePattern=InOnly").to("activemq:topic:registry.heartbeats");
      from("activemq:topic:registry.heartbeats?cacheLevelName=CACHE_CONSUMER").to("bean:registry?method=onEvent","mock:result");
    }
  }
;
}
