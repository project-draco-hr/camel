{
  FTPSClient client=getFtpsClient();
  if (client == null) {
    client=(FTPSClient)createFtpClient();
  }
  if (ftpClientParameters != null) {
    Object timeout=ftpClientParameters.remove("soTimeout");
    if (timeout != null) {
      soTimeout=getCamelContext().getTypeConverter().convertTo(int.class,timeout);
    }
    IntrospectionSupport.setProperties(client,ftpClientParameters);
  }
  if (ftpClientConfigParameters != null) {
    if (ftpClientConfig == null) {
      ftpClientConfig=new FTPClientConfig();
    }
    IntrospectionSupport.setProperties(ftpClientConfig,ftpClientConfigParameters);
  }
  FtpsOperations operations=new FtpsOperations(client,getFtpClientConfig());
  operations.setEndpoint(this);
  return operations;
}
