{
  String[] packageNames;
  LOG.trace("Searching for {} services",META_INF_SERVICES);
  try {
    packageNames=findPackageNames();
    if (packageNames == null || packageNames.length == 0) {
      throw new TypeConverterLoaderException("Cannot find package names to be used for classpath scanning for annotated type converters.");
    }
  }
 catch (  Exception e) {
    throw new TypeConverterLoaderException("Cannot find package names to be used for classpath scanning for annotated type converters.",e);
  }
  if (packageNames.length == 1 && "org.apache.camel.core".equals(packageNames[0])) {
    LOG.debug("No additional package names found in classpath for annotated type converters.");
    return;
  }
  LOG.trace("Found converter packages to scan: {}",packageNames);
  Set<Class<?>> classes=resolver.findAnnotated(Converter.class,packageNames);
  if (classes == null || classes.isEmpty()) {
    throw new TypeConverterLoaderException("Cannot find any type converter classes from the following packages: " + Arrays.asList(packageNames));
  }
  LOG.info("Found " + packageNames.length + " packages with "+ classes.size()+ " @Converter classes to load");
  for (  Class type : classes) {
    if (LOG.isTraceEnabled()) {
      LOG.trace("Loading converter class: {}",ObjectHelper.name(type));
    }
    loadConverterMethods(registry,type);
  }
  visitedClasses.clear();
  visitedURIs.clear();
}
