{
  Date timestamp=new Date();
  String toNode=nodeId;
  String routeId=ProcessorDefinitionHelper.getRouteId(definition);
  String exchangeId=exchange.getExchangeId();
  String messageAsXml=MessageHelper.dumpAsXml(exchange.getIn(),true,2,false,false,1000);
  long uid=debugCounter.incrementAndGet();
  BacklogTracerEventMessage msg=new DefaultBacklogTracerEventMessage(uid,timestamp,routeId,toNode,exchangeId,messageAsXml);
  suspendedBreakpointMessages.put(nodeId,msg);
  final CountDownLatch latch=new CountDownLatch(1);
  suspendedBreakpoints.put(nodeId,latch);
  logger.log("NodeBreakpoint at node " + nodeId + " is waiting to continue for exchangeId: "+ exchange.getExchangeId());
  try {
    latch.await();
    logger.log("NodeBreakpoint at node " + nodeId + " is continued exchangeId: "+ exchange.getExchangeId());
  }
 catch (  InterruptedException e) {
  }
  super.beforeProcess(exchange,processor,definition);
}
