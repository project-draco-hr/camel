{
  StringBuilder buffer=new StringBuilder("{");
  buffer.append("\n \"component\": {");
  buffer.append("\n    \"kind\": \"").append("component").append("\",");
  buffer.append("\n    \"scheme\": \"").append(componentModel.getScheme()).append("\",");
  if (!Strings.isNullOrEmpty(componentModel.getExtendsScheme())) {
    buffer.append("\n    \"extendsScheme\": \"").append(componentModel.getExtendsScheme()).append("\",");
  }
  buffer.append("\n    \"syntax\": \"").append(componentModel.getSyntax()).append("\",");
  if (componentModel.getAlternativeSyntax() != null) {
    buffer.append("\n    \"alternativeSyntax\": \"").append(componentModel.getAlternativeSyntax()).append("\",");
  }
  buffer.append("\n    \"title\": \"").append(componentModel.getTitle()).append("\",");
  buffer.append("\n    \"description\": \"").append(componentModel.getDescription()).append("\",");
  buffer.append("\n    \"label\": \"").append(getOrElse(componentModel.getLabel(),"")).append("\",");
  buffer.append("\n    \"deprecated\": \"").append(componentModel.isDeprecated()).append("\",");
  buffer.append("\n    \"async\": \"").append(componentModel.isAsync()).append("\",");
  if (componentModel.isConsumerOnly()) {
    buffer.append("\n    \"consumerOnly\": \"").append("true").append("\",");
  }
 else   if (componentModel.isProducerOnly()) {
    buffer.append("\n    \"producerOnly\": \"").append("true").append("\",");
  }
  if (componentModel.isLenientProperties()) {
    buffer.append("\n    \"lenientProperties\": \"").append("true").append("\",");
  }
  buffer.append("\n    \"javaType\": \"").append(componentModel.getJavaType()).append("\",");
  buffer.append("\n    \"groupId\": \"").append(componentModel.getGroupId()).append("\",");
  buffer.append("\n    \"artifactId\": \"").append(componentModel.getArtifactId()).append("\",");
  buffer.append("\n    \"version\": \"").append(componentModel.getVersionId()).append("\"");
  buffer.append("\n  },");
  buffer.append("\n  \"componentProperties\": {");
  boolean first=true;
  for (  ComponentOption entry : componentOptions) {
    if (first) {
      first=false;
    }
 else {
      buffer.append(",");
    }
    buffer.append("\n    ");
    String doc=entry.getDocumentationWithNotes();
    if (Strings.isNullOrEmpty(doc)) {
      doc=DocumentationHelper.findComponentJavaDoc(componentModel.getScheme(),componentModel.getExtendsScheme(),entry.getName());
    }
    doc=sanitizeDescription(doc,false);
    Boolean required=entry.getRequired() != null ? Boolean.valueOf(entry.getRequired()) : null;
    String defaultValue=entry.getDefaultValue();
    String optionalPrefix="";
    String prefix="";
    boolean multiValue=false;
    buffer.append(JsonSchemaHelper.toJson(entry.getName(),"property",required,entry.getType(),defaultValue,doc,entry.isDeprecated(),entry.isSecret(),entry.getGroup(),entry.getLabel(),entry.isEnumType(),entry.getEnums(),false,null,optionalPrefix,prefix,multiValue));
  }
  buffer.append("\n  },");
  buffer.append("\n  \"properties\": {");
  first=true;
  List<EndpointPath> paths=new ArrayList<EndpointPath>();
  paths.addAll(endpointPaths);
  Collections.sort(paths,EndpointHelper.createPathComparator(componentModel.getSyntax()));
  for (  EndpointPath entry : paths) {
    String label=entry.getLabel();
    if (label != null) {
      if (label.contains("consumer") && componentModel.isProducerOnly()) {
        continue;
      }
 else       if (label.contains("producer") && componentModel.isConsumerOnly()) {
        continue;
      }
    }
    if (first) {
      first=false;
    }
 else {
      buffer.append(",");
    }
    buffer.append("\n    ");
    String doc=entry.getDocumentation();
    if (Strings.isNullOrEmpty(doc)) {
      doc=DocumentationHelper.findEndpointJavaDoc(componentModel.getScheme(),componentModel.getExtendsScheme(),entry.getName());
    }
    doc=sanitizeDescription(doc,false);
    Boolean required=entry.getRequired() != null ? Boolean.valueOf(entry.getRequired()) : null;
    String defaultValue=entry.getDefaultValue();
    if (Strings.isNullOrEmpty(defaultValue) && "boolean".equals(entry.getType())) {
      defaultValue="false";
    }
    String optionalPrefix="";
    String prefix="";
    boolean multiValue=false;
    buffer.append(JsonSchemaHelper.toJson(entry.getName(),"path",required,entry.getType(),defaultValue,doc,entry.isDeprecated(),entry.isSecret(),entry.getGroup(),entry.getLabel(),entry.isEnumType(),entry.getEnums(),false,null,optionalPrefix,prefix,multiValue));
  }
  List<EndpointOption> options=new ArrayList<EndpointOption>();
  options.addAll(endpointOptions);
  Collections.sort(options,EndpointHelper.createGroupAndLabelComparator());
  for (  EndpointOption entry : options) {
    String label=entry.getLabel();
    if (label != null) {
      if (label.contains("consumer") && componentModel.isProducerOnly()) {
        continue;
      }
 else       if (label.contains("producer") && componentModel.isConsumerOnly()) {
        continue;
      }
    }
    if (first) {
      first=false;
    }
 else {
      buffer.append(",");
    }
    buffer.append("\n    ");
    String doc=entry.getDocumentationWithNotes();
    if (Strings.isNullOrEmpty(doc)) {
      doc=DocumentationHelper.findEndpointJavaDoc(componentModel.getScheme(),componentModel.getExtendsScheme(),entry.getName());
    }
    doc=sanitizeDescription(doc,false);
    Boolean required=entry.getRequired() != null ? Boolean.valueOf(entry.getRequired()) : null;
    String defaultValue=entry.getDefaultValue();
    if (Strings.isNullOrEmpty(defaultValue) && "boolean".equals(entry.getType())) {
      defaultValue="false";
    }
    String optionalPrefix=entry.getOptionalPrefix();
    String prefix=entry.getPrefix();
    boolean multiValue=entry.isMultiValue();
    buffer.append(JsonSchemaHelper.toJson(entry.getName(),"parameter",required,entry.getType(),defaultValue,doc,entry.isDeprecated(),entry.isSecret(),entry.getGroup(),entry.getLabel(),entry.isEnumType(),entry.getEnums(),false,null,optionalPrefix,prefix,multiValue));
  }
  buffer.append("\n  }");
  buffer.append("\n}\n");
  return buffer.toString();
}
