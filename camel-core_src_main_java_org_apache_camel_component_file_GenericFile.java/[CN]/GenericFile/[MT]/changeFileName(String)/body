{
  if (LOG.isTraceEnabled()) {
    LOG.trace("Changing name to: " + newName);
  }
  File file=new File(newName);
  if (!absolute) {
    if (ObjectHelper.isNotEmpty(endpointPath) && newName.startsWith(endpointPath)) {
      newName=ObjectHelper.after(newName,endpointPath + getFileSeparator());
      file=new File(newName);
    }
  }
  setFileNameOnly(file.getName());
  setFileName(file.getName());
  if (file.getParent() != null) {
    setRelativeFilePath(file.getParent() + getFileSeparator() + file.getName());
  }
 else {
    setRelativeFilePath(file.getName());
  }
  if (isAbsolute(newName)) {
    setAbsolute(true);
    setAbsoluteFilePath(newName);
  }
 else {
    setAbsolute(false);
    String path=ObjectHelper.isEmpty(endpointPath) ? "" : endpointPath + getFileSeparator();
    setAbsoluteFilePath(path + getRelativeFilePath());
  }
  if (LOG.isTraceEnabled()) {
    LOG.trace("Name changed to: " + this);
  }
}
