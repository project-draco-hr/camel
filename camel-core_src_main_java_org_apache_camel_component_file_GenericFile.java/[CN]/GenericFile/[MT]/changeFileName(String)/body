{
  setAbsoluteFileName(getParent() + File.separator + newName);
  String baseNewName=null;
  if (newName.indexOf(File.separator) != -1) {
    baseNewName=newName.substring(0,newName.lastIndexOf(File.separator));
    newName=newName.substring(newName.lastIndexOf(File.separator) + 1);
  }
  if (relativeFileName.indexOf(File.separator) != -1) {
    String relative=relativeFileName.substring(0,relativeFileName.lastIndexOf(File.separator));
    if (baseNewName != null) {
      setRelativeFileName(relative + File.separator + baseNewName+ File.separator+ newName);
    }
 else {
      setRelativeFileName(relative + File.separator + newName);
    }
  }
 else {
    if (baseNewName != null) {
      setRelativeFileName(baseNewName + File.separator + newName);
    }
 else {
      setRelativeFileName(newName);
    }
  }
  setFileName(newName);
}
