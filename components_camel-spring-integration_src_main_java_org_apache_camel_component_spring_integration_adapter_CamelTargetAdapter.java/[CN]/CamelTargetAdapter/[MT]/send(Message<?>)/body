{
  ExchangePattern pattern;
  boolean result=false;
  if (isExpectReply()) {
    pattern=ExchangePattern.InOut;
  }
 else {
    pattern=ExchangePattern.InOnly;
  }
  Exchange inExchange=new SpringIntegrationExchange(getCamelContext(),pattern);
  SpringIntegrationBinding.storeToCamelMessage(message,inExchange.getIn());
  Exchange outExchange=getCamelTemplate().send(getCamelEndpointUri(),inExchange);
  if (outExchange.getFault() != null) {
    result=true;
  }
  Message response=null;
  if (isExpectReply()) {
    response=SpringIntegrationBinding.storeToSpringIntegrationMessage(outExchange.getOut());
    MessageChannel messageReplyChannel=(MessageChannel)message.getHeaders().get(MessageHeaders.RETURN_ADDRESS);
    if (messageReplyChannel != null) {
      result=messageReplyChannel.send(response);
    }
 else {
      result=replyChannel.send(response);
    }
  }
  return result;
}
