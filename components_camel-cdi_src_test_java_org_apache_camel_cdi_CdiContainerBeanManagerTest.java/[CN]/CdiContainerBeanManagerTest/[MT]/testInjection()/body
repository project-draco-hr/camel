{
  MockEndpoint mock=getMockEndpoint("mock:result");
  mock.expectedMessageCount(1);
  template.sendBody("direct:inject","hello");
  assertMockEndpointsSatisfied();
  Exchange exchange=mock.getExchanges().get(0);
  List<Item> results=(List<Item>)exchange.getIn().getBody();
  Object[] items=results.toArray();
  Object[] itemsExpected=itemsExpected().toArray();
  for (int i=0; i < items.length; ++i) {
    Item itemExpected=(Item)items[i];
    Item itemReceived=(Item)itemsExpected[i];
    assertEquals(itemExpected.getName(),itemReceived.getName());
    assertEquals(itemExpected.getPrice(),itemReceived.getPrice());
  }
  assertNotNull(results);
}
