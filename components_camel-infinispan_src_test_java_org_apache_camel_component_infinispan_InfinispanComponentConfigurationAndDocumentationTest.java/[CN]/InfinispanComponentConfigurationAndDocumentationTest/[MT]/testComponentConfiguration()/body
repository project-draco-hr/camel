{
  InfinispanComponent comp=context.getComponent("infinispan",InfinispanComponent.class);
  String configUri="infinispan://localhost?cacheContainer=#cacheContainer&sync=false&eventTypes=CACHE_ENTRY_CREATED";
  EndpointConfiguration conf=comp.createConfiguration(configUri);
  assertEquals("localhost",conf.getParameter("host"));
  assertEquals("cacheContainer=",conf.getParameter("query"));
  ComponentConfiguration compConf=comp.createComponentConfiguration();
  String json=compConf.createParameterJsonSchema();
  assertNotNull(json);
  assertTrue(json.contains("\"host\": { \"kind\": \"path\", \"type\": \"string\""));
  assertTrue(json.contains("\"command\": { \"kind\": \"parameter\", \"type\": \"string\""));
  assertTrue(json.contains("\"sync\": { \"kind\": \"parameter\", \"type\": \"boolean\""));
}
