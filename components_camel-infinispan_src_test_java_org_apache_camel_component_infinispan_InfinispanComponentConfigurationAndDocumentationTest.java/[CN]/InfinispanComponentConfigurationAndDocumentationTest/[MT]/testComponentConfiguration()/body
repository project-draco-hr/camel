{
  InfinispanComponent comp=context.getComponent("infinispan",InfinispanComponent.class);
  String configUri="infinispan://localhost?cacheContainer=#cacheContainer&sync=false&eventTypes=CACHE_ENTRY_CREATED";
  EndpointConfiguration conf=comp.createConfiguration(configUri);
  assertEquals("localhost",conf.getParameter("host"));
  assertEquals("cacheContainer=",conf.getParameter("query"));
  ComponentConfiguration compConf=comp.createComponentConfiguration();
  String json=compConf.createParameterJsonSchema();
  assertNotNull(json);
  assertTrue(json.contains("\"command\": { \"type\": \"java.lang.String\" }"));
  assertTrue(json.contains("\"sync\": { \"type\": \"boolean\" }"));
}
