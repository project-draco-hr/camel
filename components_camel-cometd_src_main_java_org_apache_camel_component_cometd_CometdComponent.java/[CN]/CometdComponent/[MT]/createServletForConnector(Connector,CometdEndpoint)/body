{
  ContinuationCometdServlet servlet=new ContinuationCometdServlet();
  Context context=new Context(server,"/",Context.NO_SECURITY | Context.NO_SESSIONS);
  context.setConnectorNames(new String[]{connector.getName()});
  ServletHolder holder=new ServletHolder();
  holder.setServlet(servlet);
  context.setResourceBase(endpoint.getResourceBase());
  context.addServlet(holder,"/cometd/*");
  context.addServlet("org.mortbay.jetty.servlet.DefaultServlet","/");
  connector.start();
  context.start();
  holder.setInitParameter("timeout",Integer.toString(endpoint.getTimeout()));
  holder.setInitParameter("interval",Integer.toString(endpoint.getInterval()));
  holder.setInitParameter("maxInterval",Integer.toString(endpoint.getMaxInterval()));
  holder.setInitParameter("multiFrameInterval",Integer.toString(endpoint.getMultiFrameInterval()));
  holder.setInitParameter("JSONCommented",Boolean.toString(endpoint.isJsonCommented()));
  holder.setInitParameter("logLevel",Integer.toString(endpoint.getLogLevel()));
  return servlet;
}
