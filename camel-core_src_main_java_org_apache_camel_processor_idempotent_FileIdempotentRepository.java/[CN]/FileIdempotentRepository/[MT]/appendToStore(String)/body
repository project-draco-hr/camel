{
  if (LOG.isDebugEnabled()) {
    LOG.debug("Appending " + messageId + " to idempotent filestore: "+ fileStore);
  }
  FileOutputStream fos=null;
  try {
    if (!fileStore.exists()) {
      fileStore.createNewFile();
    }
    fos=new FileOutputStream(fileStore,true);
    fos.write(messageId.getBytes());
    fos.write(STORE_DELIMITER.getBytes());
  }
 catch (  IOException e) {
    throw ObjectHelper.wrapRuntimeCamelException(e);
  }
 finally {
    ObjectHelper.close(fos,"Appending to file idempotent repository",LOG);
  }
}
