{
  setReceiveTimeout(timeout);
  Message message=null;
  if (jmsEndpoint.getSelector() != null && jmsEndpoint.getSelector().length() > 0) {
    message=template.receiveSelected(jmsEndpoint.getSelector());
  }
 else {
    message=template.receive();
  }
  if (message != null) {
    return getEndpoint().createExchange(message);
  }
  return null;
}
