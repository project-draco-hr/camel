{
  if (typeClass == null && type != null) {
    typeClass=routeContext.getCamelContext().getClassResolver().resolveMandatoryClass(type);
  }
  if (charset != null) {
    validateCharset(charset);
  }
  return new ConvertBodyProcessor(getTypeClass(),getCharset());
}
