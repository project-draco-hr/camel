{
  Message[] messages=event.getMessages();
  for (  Message message : messages) {
    try {
      if (!message.getFlags().contains(Flags.Flag.DELETED)) {
        processMessage(message);
        flagMessageProcessed(message);
      }
 else {
        if (LOG.isDebugEnabled()) {
          LOG.debug("Skipping message as it was flagged as DELETED: " + message);
        }
      }
    }
 catch (    MessagingException e) {
      handleException(e);
    }
  }
}
