{
  Message in=exchange.getIn();
  Source source=in.getBody(Source.class);
  if (source == null) {
    if (isFailOnNullBody()) {
      throw new ExpectedBodyTypeException(exchange,Source.class);
    }
 else {
      try {
        source=converter.toDOMSource(converter.createDocument());
      }
 catch (      ParserConfigurationException e) {
        throw new RuntimeTransformException(e);
      }
    }
  }
  return source;
}
