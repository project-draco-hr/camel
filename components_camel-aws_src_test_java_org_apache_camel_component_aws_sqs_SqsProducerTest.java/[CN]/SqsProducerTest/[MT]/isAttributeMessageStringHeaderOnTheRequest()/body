{
  Map<String,Object> headers=new HashMap<String,Object>();
  headers.put(SAMPLE_MESSAGE_HEADER_NAME_1,SAMPLE_MESSAGE_HEADER_VALUE_1);
  when(inMessage.getHeaders()).thenReturn(headers);
  underTest.process(exchange);
  ArgumentCaptor<SendMessageRequest> capture=ArgumentCaptor.forClass(SendMessageRequest.class);
  verify(amazonSQSClient).sendMessage(capture.capture());
  assertEquals(SAMPLE_MESSAGE_HEADER_VALUE_1,capture.getValue().getMessageAttributes().get(SAMPLE_MESSAGE_HEADER_NAME_1).getStringValue());
  assertNull(capture.getValue().getMessageAttributes().get(SAMPLE_MESSAGE_HEADER_NAME_1).getBinaryValue());
}
