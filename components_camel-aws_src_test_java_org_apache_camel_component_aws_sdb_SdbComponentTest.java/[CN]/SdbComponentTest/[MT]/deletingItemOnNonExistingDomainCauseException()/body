{
  Exchange exchange=template.send("direct:start",new Processor(){
    public void process(    Exchange exchange) throws Exception {
      exchange.getIn().setHeader(SdbConstants.DOMAIN_NAME,"MissingDomain");
      exchange.getIn().setHeader(SdbConstants.OPERATION,SdbConstants.OPERATION_DELETE);
      exchange.getIn().setHeader(SdbConstants.ITEM_KEY,"ItemOne");
    }
  }
);
  Exception exception=exchange.getException();
  assertNotNull("NoSuchDomainException is missing",exception);
  assertTrue(exception instanceof NoSuchDomainException);
}
