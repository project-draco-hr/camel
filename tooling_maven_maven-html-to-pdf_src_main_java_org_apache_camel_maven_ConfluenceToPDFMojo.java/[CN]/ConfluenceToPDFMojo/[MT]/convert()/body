{
  getLog().info("Converting to PDF with prince...");
  Commandline cl=new Commandline("prince");
  Argument arg;
  if (princeArgs != null) {
    for (int i=0; i < princeArgs.length; i++) {
      arg=new Argument();
      arg.setValue(princeArgs[i]);
      cl.addArg(arg);
    }
  }
  arg=new Argument();
  arg.setValue(getHTMLFileName());
  cl.addArg(arg);
  arg=new Argument();
  arg.setValue(getPDFFileName());
  cl.addArg(arg);
  StreamConsumer out=new StreamConsumer(){
    public void consumeLine(    String line){
      getLog().info("[prince] " + line);
    }
  }
;
  int rc=CommandLineUtils.executeCommandLine(cl,out,out);
  if (rc == 0) {
    getLog().info("Stored: " + getPDFFileName());
  }
 else {
    if (errorOnConverionFailure) {
      throw new MojoExecutionException("PDF Conversion failed rc=" + rc);
    }
 else {
      getLog().error("PDF Conversion failed due to return code: " + rc);
    }
  }
  return rc;
}
