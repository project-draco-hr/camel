{
  Endpoint endpoint=routeContext.resolveEndpoint(resourceUri);
  PollEnricher enricher;
  if (timeout != null) {
    enricher=new PollEnricher(null,endpoint.createPollingConsumer(),timeout);
  }
 else {
    enricher=new PollEnricher(null,endpoint.createPollingConsumer(),0);
  }
  if (aggregationStrategyRef != null) {
    aggregationStrategy=routeContext.lookup(aggregationStrategyRef,AggregationStrategy.class);
  }
  if (aggregationStrategy == null) {
    enricher.setDefaultAggregationStrategy();
  }
 else {
    enricher.setAggregationStrategy(aggregationStrategy);
  }
  return enricher;
}
