{
  resultEndpoint.expectedBodiesReceived("A","B","C","D","E");
  sendMessage("AAAAAAAAAA","A");
  sendMessage("BBBBBBBBBB","B");
  sendMessage("CCCCCCCCCC","C");
  sendMessage("AAAAAAAAAA","A");
  sendMessage("DDDDDDDDDD","D");
  sendMessage("BBBBBBBBBB","B");
  sendMessage("EEEEEEEEEE","E");
  resultEndpoint.assertIsSatisfied();
  resultEndpoint.reset();
  resultEndpoint.expectedBodiesReceived("Z","X");
  sendMessage("ZZZZZZZZZZ","Z");
  sendMessage("XXXXXXXXXX","X");
  resultEndpoint.assertIsSatisfied();
  assertTrue(repo.contains("XXXXXXXXXX"));
}
