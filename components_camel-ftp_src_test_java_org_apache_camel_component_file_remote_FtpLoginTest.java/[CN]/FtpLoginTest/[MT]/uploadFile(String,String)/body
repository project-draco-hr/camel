{
  RemoteFileComponent component=new RemoteFileComponent(context);
  RemoteFileConfiguration config=new RemoteFileConfiguration();
  config.setBinary(false);
  config.setUsername(username);
  config.setPassword(password);
  config.setDirectory(true);
  config.setHost("localhost");
  config.setPort(getPort());
  config.setProtocol("ftp");
  config.setFile("login");
  FtpRemoteFileOperations remoteFileOperations=new FtpRemoteFileOperations();
  RemoteFileEndpoint endpoint=new RemoteFileEndpoint(getFtpUrl(),component,remoteFileOperations,config);
  Exchange exchange=endpoint.createExchange();
  exchange.getIn().setBody("Hello World from FTPServer");
  exchange.getIn().setHeader(FileComponent.HEADER_FILE_NAME,"report.txt");
  Producer producer=endpoint.createProducer();
  producer.start();
  producer.process(exchange);
  producer.stop();
}
