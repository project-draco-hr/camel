{
  super(endpoint);
  this.setProcessor(AsyncProcessorTypeConverter.convert(processor));
  producer=endpoint.getConfig().getInnerProducerTemplate();
  producer.setMaximumCacheSize(endpoint.getConfig().getThreads());
  if (exceptionHandler == null) {
    exceptionHandler=new LoggingExceptionHandler(getClass());
  }
}
