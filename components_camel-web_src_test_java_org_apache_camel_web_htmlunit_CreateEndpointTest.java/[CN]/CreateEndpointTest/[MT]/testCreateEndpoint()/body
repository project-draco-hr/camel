{
  goToRootPage();
  assertPresenceOf(atLeast(4),links().with(text(not(equalTo("Images")))));
  WebElement element=findElement(xpath("//a[text() = 'Endpoints']"));
  element.click();
  assertThat(getTitle(),containsString("Endpoints"));
  List<WebElement> endpointLinks=findElements(xpath("//a[@class='endpoint']"));
  assertTrue("Should be several endpoint links!",endpointLinks.size() > 0);
  LOG.info("Found " + endpointLinks.size() + " endpoints links!");
  new EndpointsPage(getWebDriver()).createEndpoint(newEndpointUri);
  assertThat(getTitle(),containsString(newEndpointUri));
  findElement(xpath("//a[@class='send']")).click();
  new SendMessagePage(getWebDriver()).sendMessage(messageBody);
  findElement(xpath("//a[@class='message']")).click();
  String actualMessage=findElement(xpath("//div[@class='message']")).getText();
  LOG.info("Found message body: " + actualMessage);
  assertThat(actualMessage,containsString(messageBody));
  LOG.debug("Source: " + getPageSource());
}
