{
  log.debug("Starting CMProducer");
  final CMConfiguration configuration=getConfiguration();
  if (configuration.isTestConnectionOnStartup()) {
    try {
      log.debug("Checking connection - {}",getEndpoint().getCMUrl());
      HttpClientBuilder.create().build().execute(new HttpHead(getEndpoint().getCMUrl()));
      log.debug("Connection to {}: OK",getEndpoint().getCMUrl());
    }
 catch (    final Exception e) {
      log.debug("Connection to {}: NOT AVAILABLE",getEndpoint().getCMUrl());
      throw new HostUnavailableException(e);
    }
  }
  super.doStart();
  log.debug("CMProducer started");
}
