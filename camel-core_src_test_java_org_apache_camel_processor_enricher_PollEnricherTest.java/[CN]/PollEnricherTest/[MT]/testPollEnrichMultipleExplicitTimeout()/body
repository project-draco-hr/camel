{
  mock.expectedMessageCount(1);
  template.sendBody("seda:foo6","msg1");
  template.sendBody("seda:foo6","msg2");
  template.sendBody("seda:enricher-test-6","test");
  template.sendBody("seda:foo6","msg3");
  template.sendBody("seda:foo6","msg4");
  Thread.sleep(500);
  List<?> polledExchanges=mock.getExchanges().get(0).getIn().getBody(List.class);
  assertEquals(4,polledExchanges.size());
  mock.expectedHeaderReceived(Exchange.TO_ENDPOINT,"seda://foo6");
  mock.assertIsSatisfied(0);
}
