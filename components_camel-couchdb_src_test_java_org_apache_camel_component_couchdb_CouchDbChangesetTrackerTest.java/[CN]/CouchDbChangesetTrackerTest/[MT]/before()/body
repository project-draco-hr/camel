{
  initMocks(this);
  when(endpoint.isDeletes()).thenReturn(true);
  when(endpoint.isUpdates()).thenReturn(true);
  when(client.context()).thenReturn(context);
  when(context.info()).thenReturn(info);
  when(info.getUpdateSeq()).thenReturn("100");
  when(client.changes()).thenReturn(changes);
  when(changes.continuousChanges()).thenReturn(changes);
  when(changes.includeDocs(true)).thenReturn(changes);
  when(changes.since(anyString())).thenReturn(changes);
  when(changes.heartBeat(anyLong())).thenReturn(changes);
  when(changes.style(anyString())).thenReturn(changes);
  when(row1.getSeq()).thenReturn("seq1");
  when(row2.getSeq()).thenReturn("seq2");
  when(row3.getSeq()).thenReturn("seq3");
  when(row1.getId()).thenReturn("id1");
  when(row2.getId()).thenReturn("id2");
  when(row3.getId()).thenReturn("id3");
  tracker=new CouchDbChangesetTracker(endpoint,consumer,client);
}
