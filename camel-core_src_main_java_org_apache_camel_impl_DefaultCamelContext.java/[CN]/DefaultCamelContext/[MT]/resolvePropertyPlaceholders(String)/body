{
  if (uri != null && !uri.startsWith("properties:") && uri.contains("#{")) {
    Component component=getComponent("properties");
    if (component == null) {
      throw new IllegalArgumentException("PropertiesComponent with name properties must be defined" + " in CamelContext to support property placeholders in endpoint URIs");
    }
    PropertiesComponent pc=getTypeConverter().mandatoryConvertTo(PropertiesComponent.class,component);
    String answer=pc.parseUri(uri);
    if (LOG.isDebugEnabled()) {
      LOG.debug("Resolved uri: " + uri + " --> "+ answer);
    }
    return answer;
  }
  return uri;
}
