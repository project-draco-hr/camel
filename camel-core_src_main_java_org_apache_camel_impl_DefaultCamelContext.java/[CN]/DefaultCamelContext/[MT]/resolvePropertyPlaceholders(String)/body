{
  if (text != null && !text.startsWith("properties:") && text.contains(PropertiesComponent.PREFIX_TOKEN)) {
    Component component=hasComponent("properties");
    if (component == null) {
      component=getRegistry().lookup("properties",Component.class);
    }
    if (component == null) {
      throw new IllegalArgumentException("PropertiesComponent with name properties must be defined" + " in CamelContext to support property placeholders.");
    }
    PropertiesComponent pc=getComponent("properties",PropertiesComponent.class);
    String answer=pc.parseUri(text);
    if (log.isDebugEnabled()) {
      log.debug("Resolved text: " + text + " -> "+ answer);
    }
    return answer;
  }
  return text;
}
