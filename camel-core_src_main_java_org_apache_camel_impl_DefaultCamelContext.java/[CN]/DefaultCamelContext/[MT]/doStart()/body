{
  LOG.info("Apache Camel " + getVersion() + " (CamelContext:"+ getName()+ ") is starting");
  if (isStreamCacheEnabled()) {
    if (StreamCaching.getStreamCaching(this) == null) {
      LOG.debug("StreamCaching is enabled");
      addInterceptStrategy(new StreamCaching());
    }
  }
  if (isTraceEnabled()) {
    if (Tracer.getTracer(this) == null) {
      Tracer tracer=new Tracer();
      TraceFormatter formatter=this.getRegistry().lookup("traceFormatter",TraceFormatter.class);
      if (formatter != null) {
        tracer.setFormatter(formatter);
      }
      LOG.debug("Tracing is enabled");
      addInterceptStrategy(tracer);
    }
  }
  long delayInMillis=isDelayEnabled();
  if (delayInMillis > 0) {
    if (Delayer.getDelayer(this) == null) {
      LOG.debug("Delayer is enabled with: " + delayInMillis + " ms.");
      addInterceptStrategy(new Delayer(delayInMillis));
    }
  }
  if (isHandleFaultEnabled()) {
    if (HandleFault.getHandleFault(this) == null) {
      LOG.debug("HandleFault is enabled");
      addInterceptStrategy(new HandleFault());
    }
  }
  try {
    lifecycleStrategy.onContextStart(this);
  }
 catch (  Exception e) {
    LOG.warn("Cannot start lifecycleStrategy: " + lifecycleStrategy + ". Cause: "+ e.getMessage());
    if (lifecycleStrategy instanceof InstrumentationLifecycleStrategy) {
      LOG.warn("Will fallback to use default (non JMX) lifecycle strategy");
      lifecycleStrategy=new DefaultLifecycleStrategy();
      lifecycleStrategy.onContextStart(this);
    }
  }
  forceLazyInitialization();
  if (components != null) {
    for (    Component component : components.values()) {
      startServices(component);
    }
  }
  if (!routeDefinitionInitiated) {
    startRouteDefinitions(routeDefinitions);
    routeDefinitionInitiated=true;
  }
}
