{
  if (object instanceof Service) {
    Service service=(Service)object;
    for (    LifecycleStrategy strategy : lifecycleStrategies) {
      if (service instanceof Endpoint) {
        strategy.onEndpointAdd((Endpoint)service);
      }
 else {
        strategy.onServiceAdd(this,service,null);
      }
    }
    boolean singleton=true;
    if (service instanceof IsSingleton) {
      singleton=((IsSingleton)service).isSingleton();
    }
    if (singleton && !(service instanceof Endpoint)) {
      servicesToClose.add(service);
    }
  }
  startServices(object);
}
