{
  Language answer;
synchronized (languages) {
    answer=languages.get(language);
    if (answer instanceof IsSingleton) {
      boolean singleton=((IsSingleton)answer).isSingleton();
      if (singleton) {
        return answer;
      }
    }
    answer=getLanguageResolver().resolveLanguage(language,this);
    if (answer != null && answer instanceof CamelContextAware) {
      ((CamelContextAware)answer).setCamelContext(this);
    }
    if (answer != null) {
      languages.put(language,answer);
    }
  }
  return answer;
}
