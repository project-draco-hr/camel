{
  try {
    uri=URISupport.normalizeUri(uri);
  }
 catch (  Exception e) {
    throw new ResolveEndpointFailedException(uri,e);
  }
synchronized (endpoints) {
    return endpoints.get(uri);
  }
}
