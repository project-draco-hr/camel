{
  stopWatch.restart();
  LOG.info("Apache Camel " + getVersion() + " (CamelContext:"+ getName()+ ") is shutting down");
  EventHelper.notifyCamelContextStopping(this);
  shutdownStrategy.shutdown(this,getRouteStartupOrder());
  getRouteStartupOrder().clear();
  shutdownServices(routeServices.values());
  shutdownServices(endpoints.values());
  endpoints.clear();
  shutdownServices(components.values());
  components.clear();
  try {
    for (    LifecycleStrategy strategy : lifecycleStrategies) {
      strategy.onContextStop(this);
    }
  }
 catch (  Throwable e) {
    LOG.warn("Error occurred while stopping lifecycle strategies. This exception will be ignored.",e);
  }
  shutdownServices(servicesToClose);
  servicesToClose.clear();
  EventHelper.notifyCamelContextStopped(this);
  shutdownServices(managementStrategy);
  LOG.info("Apache Camel " + getVersion() + " (CamelContext: "+ getName()+ ") is shutdown in "+ stopWatch.stop()+ " millis");
}
