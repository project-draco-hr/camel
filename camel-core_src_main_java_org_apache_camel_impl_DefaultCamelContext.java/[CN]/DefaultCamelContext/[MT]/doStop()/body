{
  stopWatch.restart();
  LOG.info("Apache Camel " + getVersion() + " (CamelContext:"+ getName()+ ") is shutting down");
  EventHelper.notifyCamelContextStopping(this);
  try {
    shutdownStrategy.shutdown(this,getRouteStartupOrder());
  }
 catch (  Throwable e) {
    LOG.warn("Error occurred while shutting down routes. This exception will be ignored.",e);
  }
  getRouteStartupOrder().clear();
  shutdownServices(routeServices.values());
  shutdownServices(endpoints.values());
  endpoints.clear();
  shutdownServices(components.values());
  components.clear();
  try {
    for (    LifecycleStrategy strategy : lifecycleStrategies) {
      strategy.onContextStop(this);
    }
  }
 catch (  Throwable e) {
    LOG.warn("Error occurred while stopping lifecycle strategies. This exception will be ignored.",e);
  }
  shutdownServices(servicesToClose);
  servicesToClose.clear();
  EventHelper.notifyCamelContextStopped(this);
  shutdownServices(managementStrategy);
  stopWatch.stop();
  if (LOG.isInfoEnabled()) {
    LOG.info("Uptime: " + getUptime());
    LOG.info("Apache Camel " + getVersion() + " (CamelContext: "+ getName()+ ") is shutdown in "+ TimeUtils.printDuration(stopWatch.taken()));
  }
  startDate=null;
}
