{
  if (object instanceof CamelContextAware) {
    CamelContextAware aware=(CamelContextAware)object;
    aware.setCamelContext(this);
  }
  if (object instanceof Service) {
    Service service=(Service)object;
    for (    LifecycleStrategy strategy : lifecycleStrategies) {
      if (service instanceof Endpoint) {
        strategy.onEndpointAdd((Endpoint)service);
      }
 else {
        strategy.onServiceAdd(this,service,null);
      }
    }
    boolean singleton=true;
    if (service instanceof IsSingleton) {
      singleton=((IsSingleton)service).isSingleton();
    }
    if (singleton && !(service instanceof Endpoint)) {
      if (stopOnShutdown && !hasService(service)) {
        servicesToStop.add(service);
      }
    }
  }
  if (object instanceof Service) {
    startService((Service)object);
  }
 else   if (object instanceof Collection<?>) {
    startServices((Collection<?>)object);
  }
}
