{
  int length=1000;
  String property=message.getExchange().getContext().getProperties().get(Exchange.LOG_DEBUG_BODY_MAX_CHARS);
  if (property != null) {
    length=message.getExchange().getContext().getTypeConverter().convertTo(Integer.class,property);
  }
  Object obj=message.getBody();
  if (obj == null) {
    return "Message: [Body is null]";
  }
  String body=obj.toString();
  if (body == null) {
    return "Message: [Body is null]";
  }
  if (length > 0 && body.length() > length) {
    body=body.substring(0,length) + "... [Body clipped after " + length+ " chars, total length is "+ body.length()+ "]";
  }
  return "Message: " + body;
}
