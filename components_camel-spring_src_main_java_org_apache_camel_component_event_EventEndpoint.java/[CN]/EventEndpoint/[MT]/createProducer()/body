{
  if (applicationContext == null) {
    throw new IllegalStateException("ApplicationContext is null");
  }
  return new DefaultProducer<Exchange>(this){
    public void process(    Exchange exchange) throws Exception {
      ApplicationEvent event=toApplicationEvent(exchange);
      getApplicationContext().publishEvent(event);
    }
  }
;
}
