{
  if (exchange.getUnitOfWork() == null) {
    final DefaultUnitOfWork uow=new DefaultUnitOfWork(exchange);
    exchange.setUnitOfWork(uow);
    try {
      uow.start();
    }
 catch (    Exception e) {
      throw wrapRuntimeCamelException(e);
    }
    return processor.process(exchange,new AsyncCallback(){
      public void done(      boolean doneSync){
        try {
          callback.done(doneSync);
        }
  finally {
          doneUow(uow,exchange);
        }
      }
    }
);
  }
 else {
    return processor.process(exchange,callback);
  }
}
