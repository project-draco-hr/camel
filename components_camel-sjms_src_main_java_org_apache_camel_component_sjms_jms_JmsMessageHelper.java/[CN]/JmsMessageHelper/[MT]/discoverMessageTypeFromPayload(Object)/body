{
  JmsMessageType answer=null;
  if (payload == null) {
    answer=JmsMessageType.Message;
  }
 else {
    if (Byte[].class.isInstance(payload)) {
      answer=JmsMessageType.Bytes;
    }
 else     if (Collection.class.isInstance(payload)) {
      answer=JmsMessageType.Map;
    }
 else     if (InputStream.class.isInstance(payload)) {
      answer=JmsMessageType.Stream;
    }
 else     if (ByteBuffer.class.isInstance(payload)) {
      answer=JmsMessageType.Bytes;
    }
 else     if (File.class.isInstance(payload)) {
      answer=JmsMessageType.Bytes;
    }
 else     if (Reader.class.isInstance(payload)) {
      answer=JmsMessageType.Bytes;
    }
 else     if (String.class.isInstance(payload)) {
      answer=JmsMessageType.Text;
    }
 else     if (char[].class.isInstance(payload)) {
      answer=JmsMessageType.Text;
    }
 else     if (Character.class.isInstance(payload)) {
      answer=JmsMessageType.Text;
    }
 else     if (Serializable.class.isInstance(payload)) {
      answer=JmsMessageType.Object;
    }
 else {
      answer=JmsMessageType.Message;
    }
  }
  return answer;
}
