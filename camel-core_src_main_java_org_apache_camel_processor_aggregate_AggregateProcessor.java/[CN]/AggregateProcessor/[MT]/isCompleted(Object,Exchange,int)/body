{
  if (getCompletionPredicate() != null) {
    boolean answer=getCompletionPredicate().matches(exchange);
    if (answer) {
      return true;
    }
  }
  if (getCompletionAggregatedSize() > 0) {
    if (size >= getCompletionAggregatedSize()) {
      return true;
    }
  }
  if (getCompletionTimeout() > 0) {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Updating correlation key " + key + " to timeout after "+ getCompletionTimeout()+ " ms.");
    }
    timeoutMap.put(key,exchange,getCompletionTimeout());
  }
  return false;
}
