{
  Thread.sleep(3000);
  String endpointURI="http://localhost:9010/context1/";
  String response=template.requestBody(endpointURI,"Hello World",String.class);
  assertEquals("response is ","camelContext1",response);
  endpointURI="http://localhost:9010/context2/";
  response=template.requestBody(endpointURI,"Hello World",String.class);
  assertEquals("response is ","camelContext2",response);
  getInstalledBundle("org.apache.camel.itest.osgi.CamelContextBundle1").uninstall();
  endpointURI="http://localhost:9010/context1/";
  try {
    response=template.requestBody(endpointURI,"Hello World",String.class);
    fail("We are expect the exception here");
  }
 catch (  Exception ex) {
    assertTrue("Get the wrong exception.",ex instanceof CamelExecutionException);
  }
  endpointURI="http://localhost:9010/context2/";
  response=template.requestBody(endpointURI,"Hello World",String.class);
  assertEquals("response is ","camelContext2",response);
}
