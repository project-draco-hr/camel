{
  final IrcConfiguration config=new IrcConfiguration("irc.codehaus.org","camel-irc","Camel IRC Component","#camel-test");
  final IRCConnection conn=new IRCConnection(config.getHostname(),config.getPorts(),config.getPassword(),config.getNickname(),config.getUsername(),config.getRealname());
  conn.addIRCEventListener(new CodehausIRCEventAdapter());
  conn.setEncoding("UTF-8");
  conn.setColors(false);
  conn.setPong(true);
  try {
    conn.connect();
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  System.out.println("Connected");
  conn.doJoin(config.getTarget());
  conn.doPrivmsg("#camel-test","hi!");
  Thread.sleep(Integer.MAX_VALUE);
}
