{
  Set<Bean<?>> beans=beanManager.getBeans(name);
  if (!beans.isEmpty()) {
    Bean<?> bean=beanManager.resolve(beans);
    CreationalContext<?> creationalContext=beanManager.createCreationalContext(bean);
    Object result=beanManager.getReference(bean,type,creationalContext);
    if (result != null) {
      return type.cast(result);
    }
  }
  return null;
}
