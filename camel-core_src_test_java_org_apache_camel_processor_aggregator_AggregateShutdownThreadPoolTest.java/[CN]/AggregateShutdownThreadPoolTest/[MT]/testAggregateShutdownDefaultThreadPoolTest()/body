{
  getMockEndpoint("mock:aggregated").expectedBodiesReceived("A+B+C");
  template.sendBodyAndHeader("direct:foo","A","id",123);
  template.sendBodyAndHeader("direct:foo","B","id",123);
  template.sendBodyAndHeader("direct:foo","C","id",123);
  assertMockEndpointsSatisfied();
  context.stopRoute("foo");
  resetMocks();
  context.startRoute("foo");
  getMockEndpoint("mock:aggregated").expectedBodiesReceived("D+E+F");
  template.sendBodyAndHeader("direct:foo","D","id",123);
  template.sendBodyAndHeader("direct:foo","E","id",123);
  template.sendBodyAndHeader("direct:foo","F","id",123);
  assertMockEndpointsSatisfied();
  context.stop();
}
