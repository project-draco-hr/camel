{
  getMockEndpoint("mock:end").expectedBodiesReceived("A,Kaboom,B,C");
  getMockEndpoint("mock:end").message(0).property("errorCode").isNull();
  getMockEndpoint("mock:error").expectedBodiesReceived("Kaboom");
  getMockEndpoint("mock:error").message(0).property("errorCode").isEqualTo("ERR-1");
  getMockEndpoint("mock:split").expectedBodiesReceived("A","B","C");
  getMockEndpoint("mock:split").allMessages().property("errorCode").isNull();
  template.sendBody("direct:start","A,Kaboom,B,C");
  assertMockEndpointsSatisfied();
}
