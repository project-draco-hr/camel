{
  try {
    for (int i=tasks.size() - 1; i >= 0; i--) {
      CamelInternalProcessorTask task=tasks.get(i);
      Object state=states.get(i);
      try {
        task.after(exchange,state);
      }
 catch (      Exception e) {
        exchange.setException(e);
      }
    }
  }
  finally {
    callback.done(doneSync);
  }
}
