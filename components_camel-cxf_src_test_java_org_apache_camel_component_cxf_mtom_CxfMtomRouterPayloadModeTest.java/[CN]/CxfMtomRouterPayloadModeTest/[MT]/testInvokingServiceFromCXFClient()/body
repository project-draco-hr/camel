{
  if (MtomTestHelper.isAwtHeadless(logger,null)) {
    return;
  }
  if (TestHelper.isPlatform("aix")) {
    return;
  }
  Holder<byte[]> photo=new Holder<byte[]>(MtomTestHelper.REQ_PHOTO_DATA);
  Holder<Image> image=new Holder<Image>(getImage("/java.jpg"));
  Hello port=getPort();
  SOAPBinding binding=(SOAPBinding)((BindingProvider)port).getBinding();
  binding.setMTOMEnabled(true);
  port.detail(photo,image);
  MtomTestHelper.assertEquals(MtomTestHelper.RESP_PHOTO_DATA,photo.value);
  Assert.assertNotNull(image.value);
  if (image.value instanceof BufferedImage) {
    Assert.assertEquals(560,((BufferedImage)image.value).getWidth());
    Assert.assertEquals(300,((BufferedImage)image.value).getHeight());
  }
}
