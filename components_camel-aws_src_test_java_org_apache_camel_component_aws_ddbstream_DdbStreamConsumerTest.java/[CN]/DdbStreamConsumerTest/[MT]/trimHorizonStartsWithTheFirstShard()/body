{
  endpoint.setIteratorType(ShardIteratorType.TRIM_HORIZON);
  undertest=new DdbStreamConsumer(endpoint,processor);
  undertest.poll();
  ArgumentCaptor<GetShardIteratorRequest> getIteratorCaptor=ArgumentCaptor.forClass(GetShardIteratorRequest.class);
  verify(amazonDynamoDBStreams).getShardIterator(getIteratorCaptor.capture());
  assertThat(getIteratorCaptor.getValue().getShardId(),is("a"));
}
