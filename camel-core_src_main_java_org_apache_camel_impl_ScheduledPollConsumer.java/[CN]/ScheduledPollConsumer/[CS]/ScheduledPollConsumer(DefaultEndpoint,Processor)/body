{
  super(endpoint,processor);
  ScheduledExecutorService scheduled;
  ExecutorService service=endpoint.getExecutorService();
  if (service instanceof ScheduledExecutorService) {
    scheduled=(ScheduledExecutorService)service;
  }
 else {
    scheduled=endpoint.getCamelContext().getExecutorServiceStrategy().newScheduledThreadPool(getEndpoint().getEndpointUri(),DEFAULT_THREADPOOL_SIZE);
  }
  this.executor=scheduled;
  ObjectHelper.notNull(executor,"executor");
}
