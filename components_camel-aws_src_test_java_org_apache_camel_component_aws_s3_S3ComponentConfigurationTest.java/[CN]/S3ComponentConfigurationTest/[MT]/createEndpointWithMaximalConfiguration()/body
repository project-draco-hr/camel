{
  S3Component component=new S3Component(context);
  S3Endpoint endpoint=(S3Endpoint)component.createEndpoint("aws-s3://MyBucket?amazonS3Endpoint=sns.eu-west-1.amazonaws.com" + "&accessKey=xxx&secretKey=yyy&region=us-west-1&deleteAfterRead=false&maxMessagesPerPoll=1");
  assertEquals("MyBucket",endpoint.getConfiguration().getBucketName());
  assertEquals("xxx",endpoint.getConfiguration().getAccessKey());
  assertEquals("yyy",endpoint.getConfiguration().getSecretKey());
  assertNull(endpoint.getConfiguration().getAmazonS3Client());
  assertEquals("us-west-1",endpoint.getConfiguration().getRegion());
  assertFalse(endpoint.getConfiguration().isDeleteAfterRead());
  assertEquals(1,endpoint.getMaxMessagesPerPoll());
  assertEquals("sns.eu-west-1.amazonaws.com",endpoint.getConfiguration().getAmazonS3Endpoint());
}
