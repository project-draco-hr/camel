{
  Exchange ex=message.getExchange();
  SoapBindingInfo soapBinding=(SoapBindingInfo)ex.get(BindingInfo.class);
  Element payloadEl=(Element)doc.getChildNodes().item(0);
  QName startQName=new QName(payloadEl.getNamespaceURI(),payloadEl.getLocalName());
  boolean client=isRequestor(message);
  List<BindingOperationInfo> boiList=new ArrayList<BindingOperationInfo>();
  for (  BindingOperationInfo boi : soapBinding.getOperations()) {
    String style=soapBinding.getStyle(boi.getOperationInfo());
    QName rootName=null;
    if ("rpc".equals(style)) {
      rootName=boi.getOperationInfo().getName();
    }
 else {
      BindingMessageInfo bmi=client ? boi.getOutput() : boi.getInput();
      if (bmi != null) {
        Collection<MessagePartInfo> bodyParts=bmi.getMessageParts();
        if (bodyParts.size() == 1) {
          MessagePartInfo p=bodyParts.iterator().next();
          rootName=p.getConcreteName();
        }
      }
    }
    if (startQName.equals(rootName)) {
      boiList.add(boi);
    }
  }
  if (boiList.size() > 1 && LOG.isLoggable(Level.INFO)) {
    LOG.info("Mulitple matching BindingOperationIno found in Binding.");
  }
  return boiList.size() != 1 ? null : boiList.get(0);
}
