{
  QueueReplyHandler handler=new QueueReplyHandler(replyManager,exchange,callback,originalCorrelationId,correlationId,requestTimeout);
  ReplyHandler result=correlation.put(correlationId,handler,requestTimeout);
  if (result != null) {
    log.warn("The correlationId [{}] is not unique, some reply message would be ignored and the request thread could be blocked.",correlationId);
  }
  return correlationId;
}
