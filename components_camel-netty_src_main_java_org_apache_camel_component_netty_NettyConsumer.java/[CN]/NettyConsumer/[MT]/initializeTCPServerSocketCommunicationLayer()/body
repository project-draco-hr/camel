{
  ExecutorService bossExecutor=context.getExecutorServiceStrategy().newThreadPool(this,"NettyTCPBoss",configuration.getCorePoolSize(),configuration.getMaxPoolSize());
  ExecutorService workerExecutor=context.getExecutorServiceStrategy().newThreadPool(this,"NettyTCPWorker",configuration.getCorePoolSize(),configuration.getMaxPoolSize());
  channelFactory=new NioServerSocketChannelFactory(bossExecutor,workerExecutor);
  serverBootstrap=new ServerBootstrap(channelFactory);
  serverBootstrap.setPipelineFactory(new ServerPipelineFactory(this));
  serverBootstrap.setOption("child.keepAlive",configuration.isKeepAlive());
  serverBootstrap.setOption("child.tcpNoDelay",configuration.isTcpNoDelay());
  serverBootstrap.setOption("child.reuseAddress",configuration.isReuseAddress());
  serverBootstrap.setOption("child.connectTimeoutMillis",configuration.getConnectTimeoutMillis());
  channel=serverBootstrap.bind(new InetSocketAddress(configuration.getHost(),configuration.getPort()));
  allChannels.add(channel);
}
