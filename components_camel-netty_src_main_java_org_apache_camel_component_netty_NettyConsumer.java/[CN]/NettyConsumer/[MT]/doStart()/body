{
  super.doStart();
  LOG.debug("Netty consumer binding to: {}",configuration.getAddress());
  ServerPipelineFactory pipelineFactory;
  ServerPipelineFactory factory=configuration.getServerPipelineFactory();
  if (factory != null) {
    pipelineFactory=factory.createPipelineFactory(this);
  }
 else {
    pipelineFactory=new DefaultServerPipelineFactory(this);
  }
  if (nettyServerBootstrapFactory == null) {
    if (isTcp()) {
      nettyServerBootstrapFactory=new SingleTCPNettyServerBootstrapFactory(context,getConfiguration(),pipelineFactory);
    }
 else {
      nettyServerBootstrapFactory=new SingleUDPNettyServerBootstrapFactory(context,getConfiguration(),pipelineFactory);
    }
  }
  ServiceHelper.startServices(nettyServerBootstrapFactory);
  LOG.info("Netty consumer bound to: " + configuration.getAddress());
}
