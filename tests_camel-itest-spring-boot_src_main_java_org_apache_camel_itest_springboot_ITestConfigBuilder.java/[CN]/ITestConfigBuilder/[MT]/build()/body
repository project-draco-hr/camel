{
  if (config.getModuleName() == null) {
    fail("ModuleName is required");
  }
  if (config.getUnitTestEnabled() == null) {
    config.setUnitTestEnabled(booleanProperty("unitTestEnabled").orElse(false));
  }
  if (config.getMavenGroup() == null) {
    config.setMavenGroup(property("mavenGroup").orElse("org.apache.camel"));
  }
  if (config.getMavenVersion() == null) {
    config.setMavenVersion(property("mavenVersion").orElse(null));
  }
  if (config.getUnitTestInclusionPattern() == null) {
    config.setUnitTestInclusionPattern(property("unitTestInclusionPattern").orElse("^.*Test$"));
  }
  if (config.getUnitTestExclusionPattern() == null) {
    config.setUnitTestExclusionPattern(property("unitTestExclusionPattern").orElse(".*(\\.integration\\..*|XXXTest$)"));
  }
  if (config.getIncludeTestDependencies() == null) {
    config.setIncludeTestDependencies(booleanProperty("includeTestDependencies").orElse(config.getUnitTestEnabled()));
  }
  if (config.getModulesPath() == null) {
    config.setModulesPath(property("modulesPath").orElse("../../components/"));
  }
  if (config.getUnitTestBasePackage() == null) {
    config.setUnitTestBasePackage(property("unitTestBasePackage").orElse("org.apache.camel"));
  }
  return config;
}
