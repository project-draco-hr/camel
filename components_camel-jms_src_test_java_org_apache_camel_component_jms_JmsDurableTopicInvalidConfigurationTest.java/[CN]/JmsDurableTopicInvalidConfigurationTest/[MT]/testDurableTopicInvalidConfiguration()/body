{
  try {
    context.addRoutes(new RouteBuilder(){
      @Override public void configure() throws Exception {
        from("activemq:topic:foo?durableSubscriptionName=bar").to("mock:result");
      }
    }
);
    fail("Should have thrown exception");
  }
 catch (  IllegalArgumentException e) {
    assertEquals("ClientId must be configured when subscription is durable for" + " Endpoint[activemq://topic:foo?durableSubscriptionName=bar]",e.getMessage());
  }
}
