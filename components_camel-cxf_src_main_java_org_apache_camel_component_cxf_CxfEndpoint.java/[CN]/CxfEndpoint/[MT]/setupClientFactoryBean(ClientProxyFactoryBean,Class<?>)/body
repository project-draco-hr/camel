{
  factoryBean.setServiceClass(cls);
  factoryBean.setAddress(getEndpointUri());
  if (getWsdlURL() != null) {
    factoryBean.setWsdlURL(getWsdlURL());
  }
  if (getServiceName() != null) {
    factoryBean.setServiceName(CxfEndpointUtils.getQName(getServiceName()));
  }
  if (getPortName() != null) {
    factoryBean.setEndpointName(CxfEndpointUtils.getQName(getPortName()));
  }
  if (getDataFormat() == DataFormat.MESSAGE) {
    factoryBean.getFeatures().add(new MessageDataFormatFeature());
  }
 else   if (getDataFormat() == DataFormat.PAYLOAD) {
    factoryBean.getFeatures().add(new PayLoadDataFormatFeature());
  }
  factoryBean.setBus(getBus());
}
