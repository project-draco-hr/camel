{
  if (CxfEndpointUtils.hasWebServiceAnnotation(cls)) {
    ClientFactoryBean cfb=new JaxWsClientFactoryBean(){
      @Override protected Client createClient(      Endpoint ep){
        return new CamelCxfClientImpl(getBus(),ep);
      }
    }
;
    cfb.setBus(getBus());
    return new JaxWsProxyFactoryBean(cfb);
  }
 else {
    ClientFactoryBean cfb=new ClientFactoryBean(){
      @Override protected Client createClient(      Endpoint ep){
        return new CamelCxfClientImpl(getBus(),ep);
      }
    }
;
    cfb.setBus(getBus());
    return new ClientProxyFactoryBean(cfb);
  }
}
