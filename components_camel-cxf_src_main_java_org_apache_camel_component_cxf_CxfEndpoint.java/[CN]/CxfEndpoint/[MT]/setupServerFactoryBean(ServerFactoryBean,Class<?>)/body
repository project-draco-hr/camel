{
  sfb.setAddress(getAddress());
  sfb.setServiceClass(cls);
  if (getWsdlURL() != null) {
    sfb.setWsdlURL(getWsdlURL());
  }
  if (getServiceName() != null) {
    sfb.setServiceName(CxfEndpointUtils.getQName(getServiceName()));
  }
  if (getPortName() != null) {
    sfb.setEndpointName(CxfEndpointUtils.getQName(getPortName()));
  }
  if (!CxfEndpointUtils.hasAnnotation(cls,WebServiceProvider.class)) {
    if (getDataFormat() == DataFormat.PAYLOAD) {
      sfb.getFeatures().add(new PayLoadDataFormatFeature());
    }
 else     if (getDataFormat() == DataFormat.MESSAGE) {
      sfb.getFeatures().add(new MessageDataFormatFeature());
    }
  }
 else {
    if (LOG.isDebugEnabled()) {
      LOG.debug("Ignore DataFormat mode " + getDataFormat() + " since SEI class is annotated with WebServiceProvider");
    }
  }
  if (loggingFeatureEnabled) {
    sfb.getFeatures().add(new LoggingFeature());
  }
  if (getDataFormat() == DataFormat.PAYLOAD) {
    sfb.setDataBinding(new HybridSourceDataBinding());
  }
  if (getWrappedStyle() != null) {
    sfb.getServiceFactory().setWrapped(getWrappedStyle());
  }
  sfb.setBus(getBus());
  sfb.setStart(false);
}
